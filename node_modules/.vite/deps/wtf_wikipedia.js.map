{
  "version": 3,
  "sources": ["../../unfetch/src/index.mjs", "../../isomorphic-unfetch/browser.js", "../../wtf_wikipedia/src/_fetch/index.js", "../../wtf_wikipedia/src/_fetch/parseUrl.js", "../../wtf_wikipedia/src/_lib/helpers.js", "../../wtf_wikipedia/src/_fetch/makeUrl.js", "../../wtf_wikipedia/src/_fetch/getResult.js", "../../wtf_wikipedia/src/01-document/_sectionMap.js", "../../wtf_wikipedia/src/_lib/setDefaults.js", "../../wtf_wikipedia/src/01-document/toJson.js", "../../wtf_wikipedia/src/_data/categories.js", "../../wtf_wikipedia/src/_data/disambig_templates.js", "../../wtf_wikipedia/src/_data/disambig_titles.js", "../../wtf_wikipedia/src/_data/images.js", "../../wtf_wikipedia/src/_data/stubs.js", "../../wtf_wikipedia/src/_data/infoboxes.js", "../../wtf_wikipedia/src/_data/redirects.js", "../../wtf_wikipedia/src/_data/references.js", "../../wtf_wikipedia/src/01-document/_disambig.js", "../../wtf_wikipedia/src/01-document/isDisambig.js", "../../wtf_wikipedia/src/01-document/isStub.js", "../../wtf_wikipedia/src/image/toJson.js", "../../wtf_wikipedia/src/image/Image.js", "../../wtf_wikipedia/src/_data/languages.js", "../../wtf_wikipedia/src/_data/interwiki.js", "../../wtf_wikipedia/src/link/interwiki.js", "../../wtf_wikipedia/src/link/parse.js", "../../wtf_wikipedia/src/01-document/redirects.js", "../../wtf_wikipedia/src/01-document/preProcess/kill_xml.js", "../../wtf_wikipedia/src/01-document/preProcess/index.js", "../../wtf_wikipedia/src/_lib/encode.js", "../../wtf_wikipedia/src/02-section/toJson.js", "../../wtf_wikipedia/src/link/Link.js", "../../wtf_wikipedia/src/link/index.js", "../../wtf_wikipedia/src/04-sentence/formatting.js", "../../wtf_wikipedia/src/04-sentence/toJson.js", "../../wtf_wikipedia/src/04-sentence/Sentence.js", "../../wtf_wikipedia/src/04-sentence/_abbreviations.js", "../../wtf_wikipedia/src/04-sentence/parse.js", "../../wtf_wikipedia/src/04-sentence/index.js", "../../wtf_wikipedia/src/table/parse/_findRows.js", "../../wtf_wikipedia/src/table/parse/_spans.js", "../../wtf_wikipedia/src/table/parse/index.js", "../../wtf_wikipedia/src/table/toJson.js", "../../wtf_wikipedia/src/table/Table.js", "../../wtf_wikipedia/src/table/index.js", "../../wtf_wikipedia/src/03-paragraph/toJson.js", "../../wtf_wikipedia/src/03-paragraph/Paragraph.js", "../../wtf_wikipedia/src/template/parse/toJSON/_strip.js", "../../wtf_wikipedia/src/template/parse/toJSON/_fmtName.js", "../../wtf_wikipedia/src/template/parse/toJSON/01-pipe-splitter.js", "../../wtf_wikipedia/src/template/parse/toJSON/02-keyMaker.js", "../../wtf_wikipedia/src/template/parse/toJSON/03-cleanup.js", "../../wtf_wikipedia/src/template/parse/toJSON/index.js", "../../wtf_wikipedia/src/image/nested_find.js", "../../wtf_wikipedia/src/image/index.js", "../../wtf_wikipedia/src/list/List.js", "../../wtf_wikipedia/src/list/index.js", "../../wtf_wikipedia/src/03-paragraph/index.js", "../../wtf_wikipedia/src/template/find/02-flat.js", "../../wtf_wikipedia/src/template/parse/toJSON/_getName.js", "../../wtf_wikipedia/src/template/find/01-nested.js", "../../wtf_wikipedia/src/template/parse/_ignore.js", "../../wtf_wikipedia/src/infobox/_infoboxes.js", "../../wtf_wikipedia/src/template/parse/_infobox.js", "../../wtf_wikipedia/src/template/custom/aliases.js", "../../wtf_wikipedia/src/template/custom/text-only/hardcoded.js", "../../wtf_wikipedia/src/template/custom/text-only/easy-inline.js", "../../wtf_wikipedia/src/template/custom/text-only/shorthand-link.js", "../../wtf_wikipedia/src/template/custom/_lib.js", "../../wtf_wikipedia/src/template/custom/text-only/functions.js", "../../wtf_wikipedia/src/template/custom/text-only/abbreviations.js", "../../wtf_wikipedia/src/template/custom/text-only/languages.js", "../../wtf_wikipedia/src/_data/flags.js", "../../wtf_wikipedia/src/template/custom/text-only/flags.js", "../../wtf_wikipedia/src/template/custom/text-only/table-cell.js", "../../wtf_wikipedia/src/template/custom/text-only/index.js", "../../wtf_wikipedia/src/template/custom/data-only/id-name.js", "../../wtf_wikipedia/src/template/custom/data-only/id-title.js", "../../wtf_wikipedia/src/template/custom/data-only/dummy-templates.js", "../../wtf_wikipedia/src/template/custom/data-only/functions.js", "../../wtf_wikipedia/src/template/custom/data-only/index.js", "../../wtf_wikipedia/src/template/custom/text-and-data/shorthand.js", "../../wtf_wikipedia/src/template/custom/text-and-data/functions.js", "../../wtf_wikipedia/src/template/custom/text-and-data/currency.js", "../../wtf_wikipedia/src/template/custom/text-and-data/dates/_lib.js", "../../wtf_wikipedia/src/template/custom/text-and-data/dates/_format.js", "../../wtf_wikipedia/src/template/custom/text-and-data/dates/_parsers.js", "../../wtf_wikipedia/src/template/custom/text-and-data/dates/index.js", "../../wtf_wikipedia/src/template/custom/text-and-data/geo/_lib.js", "../../wtf_wikipedia/src/template/custom/text-and-data/geo/index.js", "../../wtf_wikipedia/src/template/custom/text-and-data/misc.js", "../../wtf_wikipedia/src/template/custom/text-and-data/stock-exchanges.js", "../../wtf_wikipedia/src/template/custom/text-and-data/sports/_lib.js", "../../wtf_wikipedia/src/template/custom/text-and-data/sports/sports.js", "../../wtf_wikipedia/src/template/custom/text-and-data/index.js", "../../wtf_wikipedia/src/template/custom/index.js", "../../wtf_wikipedia/src/template/parse/index.js", "../../wtf_wikipedia/src/infobox/toJson.js", "../../wtf_wikipedia/src/infobox/Infobox.js", "../../wtf_wikipedia/src/reference/Reference.js", "../../wtf_wikipedia/src/template/Template.js", "../../wtf_wikipedia/src/template/sortOut.js", "../../wtf_wikipedia/src/template/index.js", "../../wtf_wikipedia/src/reference/index.js", "../../wtf_wikipedia/src/02-section/start-to-end/gallery.js", "../../wtf_wikipedia/src/02-section/start-to-end/election.js", "../../wtf_wikipedia/src/02-section/start-to-end/nba.js", "../../wtf_wikipedia/src/02-section/start-to-end/mlb.js", "../../wtf_wikipedia/src/02-section/start-to-end/mma.js", "../../wtf_wikipedia/src/02-section/start-to-end/math.js", "../../wtf_wikipedia/src/02-section/start-to-end/index.js", "../../wtf_wikipedia/src/02-section/Section.js", "../../wtf_wikipedia/src/02-section/heading.js", "../../wtf_wikipedia/src/02-section/index.js", "../../wtf_wikipedia/src/01-document/categories.js", "../../wtf_wikipedia/src/01-document/Document.js", "../../wtf_wikipedia/src/_fetch/parseDoc.js", "../../wtf_wikipedia/src/_fetch/_headers.js", "../../wtf_wikipedia/src/_version.js", "../../wtf_wikipedia/src/_lib/fetch.js", "../../wtf_wikipedia/src/index.js"],
  "sourcesContent": ["export default function(url, options) {\n\toptions = options || {};\n\treturn new Promise( (resolve, reject) => {\n\t\tconst request = new XMLHttpRequest();\n\t\tconst keys = [];\n\t\tconst all = [];\n\t\tconst headers = {};\n\n\t\tconst response = () => ({\n\t\t\tok: (request.status/100|0) == 2,\t\t// 200-299\n\t\t\tstatusText: request.statusText,\n\t\t\tstatus: request.status,\n\t\t\turl: request.responseURL,\n\t\t\ttext: () => Promise.resolve(request.responseText),\n\t\t\tjson: () => Promise.resolve(request.responseText).then(JSON.parse),\n\t\t\tblob: () => Promise.resolve(new Blob([request.response])),\n\t\t\tclone: response,\n\t\t\theaders: {\n\t\t\t\tkeys: () => keys,\n\t\t\t\tentries: () => all,\n\t\t\t\tget: n => headers[n.toLowerCase()],\n\t\t\t\thas: n => n.toLowerCase() in headers\n\t\t\t}\n\t\t});\n\n\t\trequest.open(options.method || 'get', url, true);\n\n\t\trequest.onload = () => {\n\t\t\trequest.getAllResponseHeaders().replace(/^(.*?):[^\\S\\n]*([\\s\\S]*?)$/gm, (m, key, value) => {\n\t\t\t\tkeys.push(key = key.toLowerCase());\n\t\t\t\tall.push([key, value]);\n\t\t\t\theaders[key] = headers[key] ? `${headers[key]},${value}` : value;\n\t\t\t});\n\t\t\tresolve(response());\n\t\t};\n\n\t\trequest.onerror = reject;\n\n\t\trequest.withCredentials = options.credentials=='include';\n\n\t\tfor (const i in options.headers) {\n\t\t\trequest.setRequestHeader(i, options.headers[i]);\n\t\t}\n\n\t\trequest.send(options.body || null);\n\t});\n}\n", "module.exports = self.fetch || (self.fetch = require('unfetch').default || require('unfetch'));\n", "/* eslint-disable no-console */\nimport unfetch from 'isomorphic-unfetch'\nimport parseUrl from './parseUrl.js'\nimport makeUrl from './makeUrl.js'\nimport getResult from './getResult.js'\nimport parseDoc from './parseDoc.js'\nimport makeHeaders from './_headers.js'\nconst isUrl = /^https?:\\/\\//\n\n/**\n * @typedef fetchDefaults\n * @property {string | undefined} [path] the path to the wiki api. default: api.php\n * @property {string | undefined} [wiki]\n * @property {string | undefined} [domain] the domain of the wiki you want to query\n * @property {boolean | undefined} [follow_redirects] should the library follow redirects\n * @property {string | undefined} [lang] the language of the wiki\n * @property {string | number | Array<string> | Array<number> | undefined} [title]\n * @property {string | undefined} [Api-User-Agent] the user agent of the application\n * @property {string | undefined} [origin] the domain or the origin of the request\n */\n\n/**\n * @type {fetchDefaults}\n */\nconst defaults = {\n  lang: 'en',\n  wiki: 'wikipedia',\n  domain: undefined,\n  follow_redirects: true,\n  path: 'api.php', //some 3rd party sites use a weird path\n}\n\n/**\n * @callback fetchCallback\n * @param {Object} error\n * @param {any} result\n */\n\n/**\n *  fetches the page from the wiki and returns a Promise with the parsed wiki text\n *\n * if you supply it with a single pageID or title it will return a Document object.\n * if you supply a wiki URL then we will parse it and use the tile and provide a single Document object\n * if you supply it with an array with pageIDs or an array of titles it will return an array of document objects.\n *\n * there is another catch in the programming you need if you provide an array it needs to be eighter pageIDs or titles they can not be mixed.\n *\n * @param {string | number | Array<number> | Array<string>} title the title, PageID, URL or an array of all three of the page(s) you want to fetch\n * @param {fetchDefaults} [options] the options for the fetch or the language of the wiki for the article\n * @param {fetchCallback} [callback] the callback function for the call\n */\nconst fetch = function (title, options, callback) {\n  // support lang as 2nd param\n  if (typeof options === 'string') {\n    options = { lang: options }\n  }\n  options = { ...defaults, ...options }\n  options.title = title\n\n  //parse url input\n  if (typeof title === 'string' && isUrl.test(title)) {\n    options = { ...options, ...parseUrl(title) }\n  }\n  const url = makeUrl(options)\n  const headers = makeHeaders(options)\n\n  return unfetch(url, headers)\n    .then((res) => res.json())\n    .then((res) => {\n      if (!res) {\n        throw new Error(`No JSON Data Found For ${url}`)\n      }\n      let data = getResult(res, options)\n      data = parseDoc(data, title)\n      if (callback) {\n        callback(null, data)\n      }\n      return data\n    })\n    .catch((e) => {\n      console.error(e)\n      if (callback) {\n        callback(e, null)\n      }\n      return null\n    })\n}\nexport default fetch\n", "/**\n * Parses out the domain and title from a url\n *\n * @private\n * @param {string} url The url that will be parsed\n * @returns {{domain: string, title: string}} The domain and title of a url\n */\nconst parseUrl = function (url) {\n  let parsed = new URL(url) //eslint-disable-line\n  let title = parsed.pathname.replace(/^\\/(wiki\\/)?/, '')\n  title = decodeURIComponent(title)\n  return {\n    domain: parsed.host,\n    title: title,\n  }\n}\nexport default parseUrl\n", "/**\n * capitalizes the input\n * hello -> Hello\n * hello there -> Hello there\n *\n * @private\n * @param {string} [str] the string that will be capitalized\n * @returns {string} the capitalized string\n */\nfunction capitalise(str) {\n  if (str && typeof str === 'string') {\n    return str.charAt(0).toUpperCase() + str.slice(1)\n  }\n  return ''\n}\n\n/**\n * trim whitespaces of the ends normalize 2 spaces into one and removes whitespaces before commas\n *\n * @private\n * @param {string} [str] the string that will be processed\n * @returns {string} the processed string\n */\nfunction trim_whitespace(str) {\n  if (str && typeof str === 'string') {\n    str = str.replace(/^\\s+/, '')\n    str = str.replace(/\\s+$/, '')\n    str = str.replace(/ {2}/, ' ')\n    str = str.replace(/\\s, /, ', ')\n    return str\n  }\n  return ''\n}\n\n/**\n * determines if an variable is an array or not\n *\n * @private\n * @param {*} x the variable that needs to be checked\n * @returns {boolean} whether the variable is an array\n */\nfunction isArray(x) {\n  return Object.prototype.toString.call(x) === '[object Array]'\n}\n\n/**\n *  determines if an variable is an object or not\n *\n * @private\n * @param {*} x the variable that needs to be checked\n * @returns {boolean} whether the variable is an object\n */\nfunction isObject(x) {\n  return x && Object.prototype.toString.call(x) === '[object Object]'\n}\n\nexport {\n  capitalise,\n  trim_whitespace,\n  isArray,\n  isObject,\n}\n", "import { isArray } from '../_lib/helpers.js'\n\nconst isInterWiki =\n  /(wikibooks|wikidata|wikimedia|wikinews|wikipedia|wikiquote|wikisource|wikispecies|wikiversity|wikivoyage|wiktionary|foundation|meta)\\.org/\n\nconst defaults = {\n  action: 'query',\n  prop: 'revisions|pageprops', // we use the 'revisions' api here, instead of the Raw api, for its CORS-rules..\n  rvprop: 'content|ids|timestamp',\n  maxlag: 5,\n  rvslots: 'main',\n  origin: '*',\n  format: 'json',\n  redirects: 'true',\n}\n\n/**\n * turns a object into a query string\n *\n * @private\n * @param {Object<string, string | number | boolean>} obj\n * @returns {string} QueryString\n */\nconst toQueryString = function (obj) {\n  return Object.entries(obj)\n    .map(([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`)\n    .join('&')\n}\n\n/**\n * cleans and prepares the tile by replacing the spaces with underscores (_) and trimming the white spaces of the ends\n *\n * @private\n * @param {string} page the title that needs cleaning\n * @returns {string} the cleaned title\n */\nconst cleanTitle = (page) => {\n  return page.replace(/ /g, '_').trim()\n}\n\n/**\n * generates the url for fetching the pages\n *\n * @private\n * @param {import('.').fetchDefaults} options\n * @param {Object} [parameters]\n * @returns {string} the url that can be used to make the fetch\n */\nconst makeUrl = function (options, parameters = defaults) {\n  let params = Object.assign({}, parameters)\n\n  //default url\n  let apiPath = ''\n\n  //add support for third party apis\n  if (options.domain) {\n    //wikimedia is the only api that uses `/w/api` as its path. other wikis use other paths\n    let path = isInterWiki.test(options.domain) ? 'w/api.php' : options.path\n    apiPath = `https://${options.domain}/${path}?`\n  } else if (options.lang && options.wiki) {\n    apiPath = `https://${options.lang}.${options.wiki}.org/w/api.php?`\n  } else {\n    return ''\n  }\n\n  if (!options.follow_redirects) {\n    delete params.redirects\n  }\n\n  // the origin header and url parameters need to be the same\n  // if one is provided we should change both the header and the parameter\n  if (options.origin) {\n    params.origin = options.origin\n  }\n\n  //support numerical ids\n  let title = options.title\n  if (typeof title === 'number') {\n    //single pageId\n    params.pageids = title\n  } else if (typeof title === 'string') {\n    //single page title\n    params.titles = cleanTitle(title)\n  } else if (title !== undefined && isArray(title) && typeof title[0] === 'number') {\n    //pageid array\n    params.pageids = title.filter((t) => t).join('|')\n  } else if (title !== undefined && isArray(title) === true && typeof title[0] === 'string') {\n    //title array\n    params.titles = title\n      .filter((t) => t)\n      .map(cleanTitle)\n      .join('|')\n  } else {\n    return ''\n  }\n\n  //make it!\n  return `${apiPath}${toQueryString(params)}`\n}\nexport default makeUrl\n", "/**\n * parses the media wiki api response to something we can use\n *\n * the data-format from mediawiki api is nutso\n *\n * @private\n * @param {object} data\n * @param {object} [options]\n * @returns {*} result\n */\nconst getResult = function (data, options = {}) {\n  // handle nothing found or no data passed\n  if (!data?.query?.pages || !data?.query || !data) {\n    return null\n  }\n\n  //get all the pagesIds from the result\n  let pages = Object.keys(data.query.pages)\n\n  // map over the pageIds to parse out all the information\n  return pages.map((id) => {\n    // get the page by pageID\n\n    let page = data.query.pages[id] || {}\n\n    // if the page is missing or not found than return null\n    if (page.hasOwnProperty('missing') || page.hasOwnProperty('invalid')) {\n      return null\n    }\n\n    // get the text from the object\n    let text = page.revisions[0]['*']\n    // if the text is not found in the regular place than it is at the other place\n    if (!text && page.revisions[0].slots) {\n      text = page.revisions[0].slots.main['*']\n    }\n    let revisionID = page.revisions[0].revid\n    let timestamp = page.revisions[0].timestamp\n\n    page.pageprops = page.pageprops || {}\n\n    let domain = options.domain\n    if (!domain && options.wiki) {\n      domain = `${options.wiki}.org`\n    }\n\n    let meta = Object.assign({}, options, {\n      title: page.title,\n      pageID: page.pageid,\n      namespace: page.ns,\n      domain,\n      revisionID,\n      timestamp,\n      pageImage: page.pageprops['page_image_free'],\n      wikidata: page.pageprops.wikibase_item,\n      description: page.pageprops['wikibase-shortdesc'],\n    })\n\n    return { wiki: text, meta: meta }\n  })\n}\n\nexport default getResult\n", "/**\n * helper for looping around all sections of a document\n *\n * @private\n * @param {object} doc the document with the sections\n * @param {string} fn the function name of the function that will be called\n * @param {string | number} [clue] the clue that will be used with the function\n * @returns {Array|*} the array of item at the index of the clue\n */\nconst sectionMap = function (doc, fn, clue) {\n  let arr = []\n  doc.sections().forEach((sec) => {\n    let list = []\n    if (typeof clue === 'string') {\n      list = sec[fn](clue)\n    } else {\n      list = sec[fn]()\n    }\n    list.forEach((t) => {\n      arr.push(t)\n    })\n  })\n  if (typeof clue === 'number') {\n    if (arr[clue] === undefined) {\n      return []\n    }\n    return [arr[clue]]\n  }\n  return arr\n}\nexport default sectionMap\n", "/**\n * applies the the key values of defaults to options\n *\n * @private\n * @param {object} options the user options\n * @param {object} defaults the defaults\n * @returns {object} the user options with the defaults applied\n */\nconst setDefaults = function (options, defaults) {\n  return Object.assign({}, defaults, options)\n}\nexport default setDefaults\n", "import setDefaults from '../_lib/setDefaults.js'\n\n/**\n * @typedef DocumentToJsonOptions\n * @property {boolean | undefined} title\n * @property {boolean | undefined} pageID\n * @property {boolean | undefined} categories\n * @property {boolean | undefined} sections\n * @property {boolean | undefined} coordinates\n * @property {boolean | undefined} infoboxes\n * @property {boolean | undefined} images\n * @property {boolean | undefined} plaintext\n * @property {boolean | undefined} citations\n * @property {boolean | undefined} references\n */\nconst defaults = {\n  title: true,\n  sections: true,\n  pageID: true,\n  categories: true,\n  wikidata: true,\n  description: true,\n  revisionID: false,\n  timestamp: false,\n  pageImage: false,\n  domain: false,\n  language: false,\n}\n\n/**\n * @typedef documentToJsonReturn\n * @property {string | undefined} title\n * @property {number | null | undefined} pageID\n * @property {string[] | undefined} categories\n * @property {object[] | undefined} sections\n * @property {boolean | undefined} isRedirect\n * @property {object | undefined} redirectTo\n * @property {object[] | undefined} coordinates\n * @property {object[] | undefined} infoboxes\n * @property {object[] | undefined} images\n * @property {string | undefined} plaintext\n * @property {object[] | undefined} references\n */\n\n/**\n * an opinionated output of the most-wanted data\n *\n * @private\n * @param {object} doc\n * @param {DocumentToJsonOptions} options\n * @returns {documentToJsonReturn}\n */\nconst toJSON = function (doc, options) {\n  options = setDefaults(options, defaults)\n\n  /**\n   * @type {documentToJsonReturn}\n   */\n  let data = {}\n\n  if (options.title) {\n    data.title = doc.title()\n  }\n\n  // present only if true\n  if (doc.isRedirect() === true) {\n    data.isRedirect = true\n    data.redirectTo = doc.redirectTo()\n    data.sections = []\n  }\n  if (doc.isStub() === true) {\n    data.isStub = true\n  }\n  if (doc.isDisambiguation() === true) {\n    data.isDisambiguation = true\n  }\n\n  // metadata\n  if (options.pageID && doc.pageID()) {\n    data.pageID = doc.pageID()\n  }\n  if (options.wikidata && doc.wikidata()) {\n    data.wikidata = doc.wikidata()\n  }\n  if (options.revisionID && doc.revisionID()) {\n    data.revisionID = doc.revisionID()\n  }\n  if (options.timestamp && doc.timestamp()) {\n    data.timestamp = doc.timestamp()\n  }\n  if (options.description && doc.description()) {\n    data.description = doc.description()\n  }\n\n  // page sections\n  if (options.categories) {\n    data.categories = doc.categories()\n  }\n  if (options.sections) {\n    data.sections = doc.sections().map((i) => i.json(options))\n  }\n  if (options.infoboxes) {\n    data.infoboxes = doc.infoboxes().map((i) => i.json(options))\n  }\n  if (options.images) {\n    data.images = doc.images().map((i) => i.json(options))\n  }\n  if (options.citations || options.references) {\n    data.references = doc.references()\n  }\n  if (options.coordinates) {\n    data.coordinates = doc.coordinates()\n  }\n\n  if (options.plaintext) {\n    data.plaintext = doc.text(options)\n  }\n\n  return data\n}\nexport default toJSON\n", "export default [\n  'category', //en\n\n  'abdeeling', //\tpdc\n  'bólkur', //\tfo\n  'catagóir', //\tga\n  'categori', //\tcy\n  'categoria',\n  'categoria', //\tco\n  'categoría', //\tes\n  'categorîa', //\tlij\n  'categorìa', //\tpms\n  'catégorie',\n  'categorie',\n  'catègorie', //\tfrp\n  'category',\n  'categuria', //\tlmo\n  'catigurìa', //\tscn\n  'class', //\tkw\n  'ẹ̀ka', //\tyo\n  'flocc',\n  'flocc', //\tang\n  'flokkur',\n  'grup', //\ttpi\n  'jamii', //\tsw\n  'kaarangay', //\twar\n  'kateggoría', //\tlad\n  'kategooria', //\tet\n  'kategori', //\tda\n  'kategorî', //\tku\n  'kategoria', //\teu\n  'kategória', //\thu\n  'kategorie', //de\n  'kategoriija', //\tse\n  'kategorija', //\tsl\n  'kategorio', //\teo\n  'kategoriya',\n  'kategoriýa', //\ttk\n  'kategoriye', //\tdiq\n  'kategory', //\tfy\n  'kategorya', //\ttl\n  'kateqoriya', //\taz\n  'katiguriya', //\tqu\n  'klad', //\tvo\n  'luokka',\n  'ñemohenda', //\tgn\n  'roinn', //-seòrsa\tgd\n  'ronney', //\tgv\n  'rummad', //\tbr\n  'setensele', //\tnso\n  'sokajy', //\tmg\n  'sumut', // atassuseq\tkl\n  'thể', // loại\tvi\n  'turkum', //\tuz\n  'категорија',\n  'категория', //\tru\n  'категорія', //\tuk\n  'катэгорыя',\n  'төркем', //\ttt\n  'קטגוריה', //\the\n  'تصنيف',\n  'تۈر', //\tug\n  'رده',\n  'श्रेणी',\n  'श्रेणी', //\thi\n  'বিষয়শ্রেণী', //\tbn\n  'หมวดหมู่', //\tth\n  '분류', //\tko\n  '분류', //ko\n  '分类', //\tza\n  //--\n]\n", "export default [\n  'dab', //en\n  'disamb', //en\n  'disambig', //en\n  'disambiguation', //en\n\n  'aðgreining',\n  'aðgreining', //is\n  'aimai', //ja\n  'airport disambiguation',\n  'ałtsʼáʼáztiin', //nv\n  'anlam ayrımı', //gag\n  'anlam ayrımı', //tr\n  'apartigilo', //eo\n  'argipen', //eu\n  'begriepskloorenge', //stq\n  'begriffsklärung', //als\n  'begriffsklärung', //de\n  'begriffsklärung', //pdc\n  'begriffsklearung', //bar\n  'biology disambiguation',\n  'bisongidila', //kg\n  'bkl', //pfl\n  'bokokani', //ln\n  'caddayn', //so\n  'call sign disambiguation',\n  'caselaw disambiguation',\n  'chinese title disambiguation',\n  'clerheans', //kw\n  'cudakirin', //ku\n  'čvor', //bs\n  'db', //vls\n  'desambig', //nov\n  'desambigación', //an\n  'desambiguação', //pt\n  'desambiguació', //ca\n  'desambiguación', //es\n  'desambiguáncia', //ext\n  'desambiguasion', //lad\n  'desambiguassiù', //lmo\n  'desambigui', //lfn\n  'dezambiguizare', //ro\n  'dezanbìgua',\n  'dəqiqləşdirmə',\n  'dəqiqləşdirmə', //az\n  'disamb-term',\n  'disamb-terms',\n  'disamb2',\n  'disamb3',\n  'disamb4',\n  'disambigua', //it\n  'disambìgua', //sc\n  'disambiguasi',\n  'disambiguation cleanup',\n  'disambiguation lead name',\n  'disambiguation lead',\n  'disambiguation name',\n  'disambiguazion',\n  'disambigue',\n  'discretiva',\n  'discretiva', //la\n  'disheñvelout', //br\n  'disingkek', //min\n  'dixanbigua', //vec\n  'dixebra', //ast\n  'diżambigwazzjoni', //mt\n  'dmbox',\n  'doorverwijspagina', //nl\n  'dp', //nl\n  'dubbelsinnig',\n  'dubbelsinnig', //af\n  'dudalipen', //rmy\n  'dv', //nds_nl\n  'egyért', //hu\n  'faaleaogaina',\n  'fleiri týdningar', //fo\n  'fleirtyding', //nn\n  'flertydig', //da\n  'förgrening', //sv\n  'genus disambiguation',\n  'gì-ngiê', //cdo\n  'giklaro', //ceb\n  'gwahaniaethu', //cy\n  'homonimo', //io\n  'homónimos', //gl\n  'homonymie', //fr\n  'hospital disambiguation',\n  'huaʻōlelo puana like',\n  'huaʻōlelo puana like', //haw\n  'human name disambiguation cleanup',\n  'human name disambiguation',\n  'idirdhealú', //ga\n  'khu-pia̍t', //zh_min_nan\n  'kthjellim', //sq\n  'kujekesa', //sn\n  'letter-number combination disambiguation',\n  'letter-numbercombdisambig',\n  'maana', //sw\n  'maneo bin', //diq\n  'mathematical disambiguation',\n  'mehrdüdig begreep', //nds\n  'menm non', //ht\n  'military unit disambiguation',\n  'muardüüdag artiikel', //frr\n  'music disambiguation',\n  'myesakãrã',\n  'neibetsjuttings', //fy\n  'nozīmju atdalīšana', //lv\n  'number disambiguation',\n  'nuorodinis', //lt\n  'nyahkekaburan', //ms\n  'omonimeye', //wa\n  'omonimi',\n  'omonimia', //oc\n  'opus number disambiguation',\n  'page dé frouque', //nrm\n  'paglilinaw', //tl\n  'panangilawlawag', //ilo\n  'pansayod', //war\n  'pejy mitovy anarana', //mg\n  'peker', //no\n  'phonetics disambiguation',\n  'place name disambiguation',\n  'portal disambiguation',\n  'razdvojba', //hr\n  'razločitev', //sl\n  'razvrstavanje', //sh\n  'reddaghey', //gv\n  'road disambiguation',\n  'rozcestník', //cs\n  'rozlišovacia stránka', //sk\n  'school disambiguation',\n  'sclerir noziun', //rm\n  'selvendyssivu', //olo\n  'soilleireachadh', //gd\n  'species latin name abbreviation disambiguation',\n  'species latin name disambiguation',\n  'station disambiguation',\n  'suzmunski', //jbo\n  'synagogue disambiguation',\n  'täpsustuslehekülg', //et\n  'täsmennyssivu', //fi\n  'taxonomic authority disambiguation',\n  'taxonomy disambiguation',\n  'telplänov', //vo\n  'template disambiguation',\n  'tlahtolmelahuacatlaliztli', //nah\n  'trang định hướng', //vi\n  'ujednoznacznienie', //pl\n  'verdudeliking', //li\n  'wěcejwóznamowosć', //dsb\n  'wjacezmyslnosć', //hsb\n  'z',\n  'zambiguaçon', //mwl\n  'zeimeibu škiršona', //ltg\n  'αποσαφήνιση', //el\n  'айрық', //kk\n  'аҵакырацәа', //ab\n  'бир аайы јок',\n  'вишезначна одредница', //sr\n  'ибҳомзудоӣ', //tg\n  'кёб магъаналы', //krc\n  'күп мәгънәләр', //tt\n  'күп мәғәнәлелек', //ba\n  'массехк маӏан хилар',\n  'мъногосъмꙑслиѥ', //cu\n  'неадназначнасць', //be\n  'неадназначнасьць', //be_x_old\n  'неоднозначность', //ru\n  'олон удхатай', //bxr\n  'појаснување', //mk\n  'пояснение', //bg\n  'са шумуд манавал', //lez\n  'салаа утгатай', //mn\n  'суолталар', //sah\n  'текмаанисиздик', //ky\n  'цо магіна гуреб', //av\n  'чеперушка', //rue\n  'чолхалла', //ce\n  'шуко ончыктымаш-влак', //mhr\n  'მრავალმნიშვნელოვანი', //ka\n  'բազմիմաստութիւն', //hyw\n  'բազմիմաստություն', //hy\n  'באדייטן', //yi\n  'פירושונים', //he\n  'ابهام‌زدایی', //fa\n  'توضيح', //ar\n  'توضيح', //arz\n  'دقیقلشدیرمه', //azb\n  'ڕوونکردنەوە', //ckb\n  'سلجهائپ', //sd\n  'ضد ابہام', //ur\n  'گجگجی بیری', //mzn\n  'نامبهمېدنه', //ps\n  'መንታ', //am\n  'अस्पष्टता', //ne\n  'बहुअर्थी', //bh\n  'बहुविकल्पी शब्द', //hi\n  'দ্ব্যর্থতা নিরসন', //bn\n  'ਗੁੰਝਲ-ਖੋਲ੍ਹ', //pa\n  'સંદિગ્ધ શીર્ષક', //gu\n  'பக்கவழி நெறிப்படுத்தல்', //ta\n  'అయోమయ నివృత్తి', //te\n  'ದ್ವಂದ್ವ ನಿವಾರಣೆ', //kn\n  'വിവക്ഷകൾ', //ml\n  'වක්‍රෝත්ති', //si\n  'แก้ความกำกวม', //th\n  'သံတူကြောင်းကွဲ', //my\n  'သဵင်မိူၼ် တူၼ်ႈထႅဝ်ပႅၵ်ႇ',\n  'ណែនាំ', //km\n  'អសង្ស័យកម្ម',\n  '동음이의', //ko\n  '扤清楚', //gan\n  '搞清楚', //zh_yue\n  '曖昧さ回避', //ja\n  '消歧义', //zh\n  '釋義', //zh_classical\n  \"gestion dj'omònim\", //pms\n  \"sut'ichana qillqa\", //qu\n  // 'z', //vep\n  // 'သဵင်မိူၼ် တူၼ်ႈထႅဝ်ပႅၵ်ႇ', //shn\n  `gestion dj'omònim`,\n  `sut'ichana qillqa`,\n]\n", "// used in titles to denote disambiguation pages\n// see 'Football_(disambiguation)'\nexport default [\n  'disambiguation', //en\n  'homonymie', //fr\n  'توضيح', //ar\n  'desambiguação', //pt\n  'Begriffsklärung', //de\n  'disambigua', //it\n  '曖昧さ回避', //ja\n  '消歧義', //zh\n  '搞清楚', //zh-yue\n  'значения', //ru\n  'ابهام‌زدایی', //fa\n  'د ابہام', //ur\n  '동음이의', //ko\n  'dubbelsinnig', //af\n  'այլ կիրառումներ', //hy\n  'ujednoznacznienie', //pl\n]\n", "export default [\n  'file', //en\n  'image', //en\n  'चित्र', //img\n\n  'archivo', //es\n  'attēls', //lv\n  'berkas', //id\n  'bestand', //nl\n  'datei', //de\n  'dosiero', //eo\n  'dosya', //lad\n  'fájl', //hu\n  'fasciculus', //la\n  'fichier', //fr\n  'fil', //da\n  'fitxategi', //eu\n  'fitxer', //ca\n  'gambar', //su\n  'imagem', //pt\n  'imej', //ms\n  'immagine', //it\n  'larawan', //tl\n  'lêer', //af\n  'plik', //pl\n  'restr', //br\n  'slika', //bs\n  'wêne', //ku\n  'wobraz', //dsb\n  'выява', //be\n  'податотека', //mk\n  'слика', //sr\n  'файл', //ru\n  'სურათი', //ka\n  'պատկեր', //hy\n  'קובץ', //he\n  'پرونده', //fa\n  'دوتنه', //ps\n  'ملف', //ar\n  'وێنە', //ckb\n  'चित्र', //hi\n  'ไฟล์', //th\n  '파일', //ko\n  'ファイル', //ja\n]\n", "// https://en.m.wikipedia.org/wiki/Template:Stub#/languages\nexport default [\n  'aboç',\n  'ahurhire',\n  'aizmetnis',\n  'amud',\n  'avixo de spigaso',\n  // 'begin',\n  'beginnetje',\n  'bibarilo',\n  'borrador',\n  'buáng-nàng-hâ',\n  'bun',\n  'buntato',\n  'c-supranu',\n  'cahrot',\n  'chala',\n  'choutchette',\n  'ciot',\n  'csonk',\n  'cung',\n  'danvez pennad',\n  'djermon',\n  'ébauche',\n  'ébeuche',\n  'ebòch',\n  'édéntạ',\n  'eginyn',\n  'ẹ̀kúnrẹ́rẹ́',\n  'en progreso',\n  'entamu',\n  'esboço',\n  'esborrany',\n  'esbòs',\n  'esbozo',\n  'ĝermo',\n  'gumud',\n  'ʻōmuku',\n  'junj',\n  'klado',\n  'maramara',\n  'mayele',\n  'mbegu',\n  'mrva',\n  'na mulno',\n  'nadabeigts rakstīņs',\n  'nalta',\n  'narcce',\n  'pahýl',\n  'pecietta',\n  'phí',\n  'pondok',\n  'por mejoral',\n  'potuʻi',\n  'pungol',\n  'qaralama',\n  'rabisco',\n  'rancangan',\n  'rintisan',\n  'saadjie',\n  'saha',\n  'sbozz',\n  'sid',\n  'síol',\n  'şitil',\n  'sjtumpke',\n  'skizz',\n  'skizze',\n  'škrbina',\n  'sơ khai',\n  'spire',\n  'stipula',\n  'stob',\n  'stobbe',\n  // 'stock',\n  'stompje',\n  'stub',\n  'stubben',\n  'stubbi',\n  'stubbur',\n  'stump',\n  'stumpen',\n  'stycce',\n  'suli',\n  'taslak',\n  'taslaq',\n  'tunas',\n  'turók',\n  'tynkä',\n  // 'u začetku',\n  'vangovango',\n  'vernuşte',\n  'výhonok',\n  'xinnoo',\n  'zarodk',\n  'zirriborroa',\n  'επέκταση',\n  'әҙерләмә',\n  'заготовка',\n  'керф',\n  'кечдар',\n  'клица',\n  'къæртт',\n  'кьурхь',\n  'мәкалә төпчеге',\n  'мъниче',\n  'накід',\n  'нєꙁаврьшєнъ члѣнъ',\n  'никулец',\n  'омоон',\n  'стыржень',\n  'хурд',\n  'хӏадурунжо',\n  'ესკიზი',\n  'መዋቅር',\n  'መዋቕር',\n  'अपूर्णलेखः',\n  'आधार',\n  'ठुटो',\n  'धाक्टें पान',\n  'विस्तार',\n  'অসম্পূর্ণ',\n  'পোখালি',\n  'સ્ટબ',\n  'ଅଧାଗଢ଼ା',\n  'குறுங்கட்டுரை',\n  'మొలక',\n  'ಎಲ್ಯ',\n  'ಚುಟುಕು',\n  'അപൂർണ്ണം',\n  'අංකුරය',\n  'โครง',\n  'ཆ་མི་ཚང་བ',\n  'អត្ថបទខ្លីមិនពេញលេញ',\n  '토막글',\n  '楔',\n  '芻文',\n]\n", "export default [\n  'infobox', //en\n\n  'amatl',\n  'anfo', //mwl\n  'anuāmapa', //haw\n  'bilgi kutusu', //tr\n  'bilgi', //tr\n  'bilgiquti', //uz\n  'boaty fampahalalana',\n  'boaty', //mg\n  'boestkelaouiñ', //br\n  'bosca', //ga\n  'capsa', //la\n  'diehtokássa', //se\n  'faktamall', //sv\n  'ficha', //es\n  'generalni', //hr\n  'gwybodlen3', //cy\n  'hộp thông tin',\n  'info', //pt\n  'infoboesse 2',\n  'infobokis', //tpi\n  'infoboks', //da\n  'infobox deleted',\n  'infobox generic',\n  'infobox generiek',\n  'infochascha', //rm\n  'infokašćik', //dsb\n  'infokast', //et\n  'infokutija', //bs\n  'infolentelė', //lt\n  'infookvir',\n  'infopolje', //sl\n  'informkesto', //eo\n  'infoschede',\n  'infoskreine', //ltg\n  'infotaula', //eu\n  'inligtingskas',\n  'inligtingskas3', //af\n  'inligtingskas4', //af\n  'kishtey fys',\n  'kotak info',\n  'kotak', //su\n  'məlumat qutusu',\n  'simple box',\n  'tertcita tanxe',\n  'tertcita', //jbo\n  'tiätuloová',\n  'tietolaatikko', //fi\n  'wd bosca sonraí',\n  'yerleşim bilgi kutusu',\n  'ynfoboks generyk',\n  'ynfoboks', //fy\n  'πλαίσιο πληροφοριών',\n  'πλαίσιο', //el\n  'акарточка', //ab\n  'аҥа', //mhr\n  'инфобокс', //kk\n  'инфокутија', //sr\n  'инфокутия', //bg\n  'інфобокс', //rue\n  'канадский',\n  'картка', //be\n  'карточка', //ru\n  'карточка2', //mdf\n  'карточкарус', //ba\n  'картуш', //koi\n  'қуттӣ', //tg\n  'ინფოდაფა', //ka\n  'տեղեկաքարտ', //hy\n  'תבנית', //he\n  'بطاقة', //ar\n  'ڄاڻخانو', //sd\n  'خانہ', //ur\n  'لغة',\n  'معلوٗمات ڈَبہٕ',\n  'ज्ञानसन्दूक', //hi\n  'তথ্যছক', //bn\n  'ਜਾਣਕਾਰੀਡੱਬਾ', //pa\n  'సమాచారపెట్టె', //te\n  'තොරතුරුකොටුව', //si\n  'กล่องข้อมูล', //th\n  'ກ່ອງຂໍ້ມູນ',\n  'ប្រអប់ព័ត៌មាន', //km\n  '정보상자', //ko\n  '明細', //zh_yue\n]\n", "export default [\n  'aanstuur', //af\n  'aastiurey',\n  'adkas', //br\n  'ailgyfeirio',\n  'alidirekto',\n  'alih', //id\n  'aýdaw',\n  'baw-ing',\n  'beralîkirin', //ku\n  'birzuzendu',\n  'đổi hướng đến đây',\n  'doorverwijzing', //nl\n  'header',\n  'i̇stiqamətləndirmə',\n  'lencong', //ms\n  'ohjaa tänne',\n  'ohjaus',\n  'omdirigering', //no\n  'pāradresācija',\n  'patrz', //pl\n  'přesměrování',\n  'přesměruj',\n  'preusmeritev',\n  'preusmjerava',\n  'preusmjerenje',\n  'preusmjeri', //hr\n  'przekierowanie',\n  'redir',\n  'redirecció',\n  'redireccion',\n  'redirección', //es\n  'redirecionamento', //pt\n  'redirect', //en\n  'redirect3',\n  'redirection', //fr\n  'redirige aquí',\n  'redirige',\n  'redirixe equí',\n  'rindirizz',\n  'rinvia', //it\n  'stivre deike',\n  'suunamine',\n  'tilvísun',\n  'trimite',\n  'uudelleenohjaus',\n  'weiterleitung', //de\n  'weiterleitungshinweis',\n  'yoʻnaltirish',\n  'yönlendi̇r',\n  'yönlendi̇rme', //tr\n  'ανακατευθυνση', //el\n  'айдау', //kk\n  'багыттама',\n  'буссинаби',\n  'дӏасахьажорг',\n  'от пренасочване',\n  'перанакіраванне',\n  'перанакіраваньне',\n  'перанакіроўваецца сюды',\n  'перенаправление', //ru\n  'перенаправлення', //uk\n  'перенаправлено',\n  'пренасочување', //mk\n  'преусмерава ',\n  'преусмери', //sr\n  'преусмјери',\n  'равонакунӣ',\n  'ווייטערפירן', //yi\n  'تحويل', //ar\n  'تغییر_مسیر',\n  'تغییرمسیر', //fa\n  'رجوع مکرر', //ur\n  'رجوع_مکرر', //ur\n  'अनुप्रेषित', //hi\n  'पुनर्निर्देशन', //hi\n  'পুননির্দেশ', //bn\n  'পুনর্নির্দেশ',\n  'යළියොමුව',\n  'เปลี่ยนทาง',\n  'ប្តូរទីតាំងទៅ', //km\n  '다른 뜻 넘어옴',\n  'リダイレクト', //ja\n  '跳轉',\n  '転送', //ja\n  '重定向', //zh\n]\n", "export default [\n  'references',\n  'reference',\n  'einzelnachweise',\n  'referencias',\n  'références',\n  'notes et références',\n  '脚注',\n  'referenser',\n  'bronnen',\n  'примечания',\n]\n", "//alt disambig-templates en-wikipedia uses\nlet d = ' disambiguation'\nconst templates = [\n  'dab',\n  'dab',\n  'disamb',\n  'disambig',\n  'geodis',\n  'hndis',\n  'setindex',\n  'ship index',\n  'split dab',\n  'sport index',\n  'wp disambig',\n  'disambiguation cleanup',\n  'airport' + d,\n  'biology' + d,\n  'call sign' + d,\n  'caselaw' + d,\n  'chinese title' + d,\n  'genus' + d,\n  'hospital' + d,\n  'lake index',\n  'letter' + d,\n  'letter-number combination' + d,\n  'mathematical' + d,\n  'military unit' + d,\n  'mountainindex',\n  'number' + d,\n  'phonetics' + d,\n  'place name' + d,\n  'portal' + d,\n  'road' + d,\n  'school' + d,\n  'species latin name abbreviation' + d,\n  'species latin name' + d,\n  'station' + d,\n  'synagogue' + d,\n  'taxonomic authority' + d,\n  'taxonomy' + d,\n].reduce((h, str) => {\n  h[str] = true\n  return h\n}, {})\nexport default templates\n", "import { disambig_titles, disambig_templates } from '../_data/i18n.js'\nimport alt_disambig from './_disambig.js'\nconst mayAlsoReg = /. may (also )?refer to\\b/i\n\n// templates that signal page is not a disambiguation\nconst notDisambig = {\n  about: true,\n  for: true,\n  'for multi': true,\n  'other people': true,\n  'other uses of': true,\n  'distinguish': true\n}\n\nconst inTitle = new RegExp('. \\\\((' + disambig_titles.join('|') + ')\\\\)$', 'i')\nconst i18n_templates = disambig_templates.reduce((h, str) => {\n  h[str] = true\n  return h\n}, {})\n\n// look for '... may refer to'\nconst byText = function (s) {\n  if (!s) {\n    return false\n  }\n  let txt = s.text()\n  if (txt !== null && txt[0]) {\n    if (mayAlsoReg.test(txt) === true) {\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * Parses the wikitext to find out if this page is a disambiguation\n *\n * @private\n * @param {object} doc the document that is examined\n * @returns {boolean} an indication if the document is a disambiguation page\n */\nconst isDisambig = function (doc) {\n  // check for a {{disambig}} template\n  let templates = doc.templates().map((tmpl) => tmpl.json())\n  let found = templates.find((obj) => {\n    return alt_disambig.hasOwnProperty(obj.template) || i18n_templates.hasOwnProperty(obj.template)\n  })\n  if (found) {\n    return true\n  }\n  // check for (disambiguation) in title\n  let title = doc.title()\n  if (title && inTitle.test(title) === true) {\n    return true\n  }\n  // does it have a non-disambig template?\n  let notDisamb = templates.find((obj) => notDisambig.hasOwnProperty(obj.template))\n  if (notDisamb) {\n    return false\n  }\n  //try 'may refer to' on first line for en-wiki?\n  if (byText(doc.sentence(0)) === true || byText(doc.sentence(1)) === true) {\n    return true\n  }\n  return false\n}\n\nexport default isDisambig\n", "import { stubs } from '../_data/i18n.js'\nlet allStubs = new Set(stubs)\n\nconst isStub = function (doc) {\n  // check for a {{disambig}} template\n  let templates = doc.templates().map((tmpl) => tmpl.json())\n\n  return templates.some((t) => {\n    let name = t.template || ''\n    // try i18n templates like 'stubo'\n    if (allStubs.has(name)) {\n      return true\n    }\n    // english forms\n    if (name === 'stub' || name.endsWith('-stub')) {\n      return true\n    }\n    // look for i18n in last-word, like {{foo-stubo}}\n    let words = name.split(/[- ]/)\n    if (words.length > 1) {\n      let word = words[words.length - 1]\n      if (allStubs.has(word)) {\n        return true\n      }\n    }\n    return false\n  })\n}\nexport default isStub\n", "import setDefaults from '../_lib/setDefaults.js'\n\nconst defaults = {\n  caption: true,\n  alt: true,\n  links: true,\n  thumb: true,\n  url: true,\n}\n//\nconst toJson = function (img, options) {\n  options = setDefaults(options, defaults)\n  let json = {\n    file: img.file(),\n  }\n  if (options.thumb !== false) {\n    json.thumb = img.thumbnail()\n  }\n  if (options.url !== false) {\n    json.url = img.url()\n  }\n  //add captions\n  if (options.caption !== false && img.data.caption) {\n    json.caption = img.caption()\n    if (options.links !== false && img.data.caption.links()) {\n      json.links = img.links()\n    }\n  }\n  if (options.alt !== false && img.data.alt) {\n    json.alt = img.alt()\n  }\n  return json\n}\nexport default toJson\n", "import toJson from './toJson.js'\nconst server = 'wikipedia.org'\n\nconst encodeTitle = function (file) {\n  let title = file.replace(/^(image|file?):/i, '')\n  //titlecase it\n  title = title.charAt(0).toUpperCase() + title.substring(1)\n  //spaces to underscores\n  title = title.trim().replace(/ /g, '_')\n  return title\n}\n\n//the wikimedia image url is a little silly:\nconst makeSrc = function (file) {\n  let title = encodeTitle(file)\n  title = encodeURIComponent(title)\n  return title\n}\n\n//the class for our image generation functions\nconst Image = function (data) {\n  Object.defineProperty(this, 'data', {\n    enumerable: false,\n    value: data,\n  })\n}\n\nconst methods = {\n  file() {\n    let file = this.data.file || ''\n    if (file) {\n      const regFile = /^(image|file):/i\n      if (!regFile.test(file)) {// if there's no 'File:', add it\n        file = `File:${file}`\n      }\n      file = file.trim()\n      //titlecase it\n      file = file.charAt(0).toUpperCase() + file.substring(1)\n      //spaces to underscores\n      file = file.replace(/ /g, '_')\n    }\n    return file\n  },\n  alt() {\n    let str = this.data.alt || this.data.file || ''\n    str = str.replace(/^(file|image):/i, '')\n    str = str.replace(/\\.(jpg|jpeg|png|gif|svg)/i, '')\n    return str.replace(/_/g, ' ')\n  },\n  caption() {\n    if (this.data.caption) {\n      return this.data.caption.text()\n    }\n    return ''\n  },\n  links() {\n    if (this.data.caption) {\n      return this.data.caption.links()\n    }\n    return []\n  },\n  url() {\n    // let lang = 'en' //this.language() || 'en' //hmm: get actual language?\n    let fileName = makeSrc(this.file())\n    let domain = this.data.domain || server\n    let path = `wiki/Special:Redirect/file`\n    return `https://${domain}/${path}/${fileName}`\n  },\n  thumbnail(size) {\n    size = size || 300\n    return this.url() + '?width=' + size\n  },\n  format() {\n    let arr = this.file().split('.')\n    if (arr[arr.length - 1]) {\n      return arr[arr.length - 1].toLowerCase()\n    }\n    return null\n  },\n  json: function (options) {\n    options = options || {}\n    return toJson(this, options)\n  },\n  text: function () {\n    return ''\n  },\n  wikitext: function () {\n    return this.data.wiki || ''\n  },\n}\n\nObject.keys(methods).forEach((k) => {\n  Image.prototype[k] = methods[k]\n})\n\nImage.prototype.src = Image.prototype.url\nImage.prototype.thumb = Image.prototype.thumbnail\nexport default Image\n", "export default {\n  aa: 'Afar', //Afar\n  ab: 'Аҧсуа', //Abkhazian\n  af: 'Afrikaans', //Afrikaans\n  ak: 'Akana', //Akan\n  als: 'Alemannisch', //Alemannic\n  am: 'አማርኛ', //Amharic\n  an: 'Aragonés', //Aragonese\n  ang: 'Englisc', //Anglo-Saxon\n  ar: 'العربية', //Arabic\n  arc: 'ܣܘܪܬ', //Aramaic\n  as: 'অসমীয়া', //Assamese\n  ast: 'Asturianu', //Asturian\n  av: 'Авар', //Avar\n  ay: 'Aymar', //Aymara\n  az: 'Azərbaycanca', //Azerbaijani\n  ba: 'Башҡорт', //Bashkir\n  bar: 'Boarisch', //Bavarian\n  'bat-smg': 'Žemaitėška', //Samogitian\n  bcl: 'Bikol', //Bikol\n  be: 'Беларуская', //Belarusian\n  'be-x-old': 'ltr', //Belarusian\n  bg: 'Български', //Bulgarian\n  bh: 'भोजपुरी', //Bihari\n  bi: 'Bislama', //Bislama\n  bm: 'Bamanankan', //Bambara\n  bn: 'বাংলা', //Bengali\n  bo: 'བོད་ཡིག', //Tibetan\n  bpy: 'ltr', //Bishnupriya\n  br: 'Brezhoneg', //Breton\n  bs: 'Bosanski', //Bosnian\n  bug: 'ᨅᨔ', //Buginese\n  bxr: 'ltr', //Buriat\n  ca: 'Català', //Catalan\n  cdo: 'Chinese', //Min\n  ce: 'Нохчийн', //Chechen\n  ceb: 'Sinugboanong', //Cebuano\n  ch: 'Chamoru', //Chamorro\n  cho: 'Choctaw', //Choctaw\n  chr: 'ᏣᎳᎩ', //Cherokee\n  chy: 'Tsetsêhestâhese', //Cheyenne\n  co: 'Corsu', //Corsican\n  cr: 'Nehiyaw', //Cree\n  cs: 'Česky', //Czech\n  csb: 'Kaszëbsczi', //Kashubian\n  cu: 'Slavonic', //Old\n  cv: 'Чăваш', //Chuvash\n  cy: 'Cymraeg', //Welsh\n  da: 'Dansk', //Danish\n  de: 'Deutsch', //German\n  diq: 'Zazaki', //Dimli\n  dsb: 'ltr', //Lower\n  dv: 'ދިވެހިބަސް', //Divehi\n  dz: 'ཇོང་ཁ', //Dzongkha\n  ee: 'Ɛʋɛ', //Ewe\n  far: 'فارسی', //Farsi\n  el: 'Ελληνικά', //Greek\n  en: 'English', //English\n  eo: 'Esperanto', //Esperanto\n  es: 'Español', //Spanish\n  et: 'Eesti', //Estonian\n  eu: 'Euskara', //Basque\n  ext: 'Estremeñu', //Extremaduran\n  ff: 'Fulfulde', //Peul\n  fi: 'Suomi', //Finnish\n  'fiu-vro': 'Võro', //Võro\n  fj: 'Na', //Fijian\n  fo: 'Føroyskt', //Faroese\n  fr: 'Français', //French\n  frp: 'Arpitan', //Arpitan\n  fur: 'Furlan', //Friulian\n  fy: 'ltr', //West\n  ga: 'Gaeilge', //Irish\n  gan: 'ltr', //Gan\n  gd: 'ltr', //Scottish\n  gil: 'Taetae', //Gilbertese\n  gl: 'Galego', //Galician\n  gn: \"Avañe'ẽ\", //Guarani\n  got: 'gutisk', //Gothic\n  gu: 'ગુજરાતી', //Gujarati\n  gv: 'Gaelg', //Manx\n  ha: 'هَوُسَ', //Hausa\n  hak: 'ltr', //Hakka\n  haw: 'Hawai`i', //Hawaiian\n  he: 'עברית', //Hebrew\n  hi: 'हिन्दी', //Hindi\n  ho: 'ltr', //Hiri\n  hr: 'Hrvatski', //Croatian\n  ht: 'Krèyol', //Haitian\n  hu: 'Magyar', //Hungarian\n  hy: 'Հայերեն', //Armenian\n  hz: 'Otsiherero', //Herero\n  ia: 'Interlingua', //Interlingua\n  id: 'Bahasa', //Indonesian\n  ie: 'Interlingue', //Interlingue\n  ig: 'Igbo', //Igbo\n  ii: 'ltr', //Sichuan\n  ik: 'Iñupiak', //Inupiak\n  ilo: 'Ilokano', //Ilokano\n  io: 'Ido', //Ido\n  is: 'Íslenska', //Icelandic\n  it: 'Italiano', //Italian\n  iu: 'ᐃᓄᒃᑎᑐᑦ', //Inuktitut\n  ja: '日本語', //Japanese\n  jbo: 'Lojban', //Lojban\n  jv: 'Basa', //Javanese\n  ka: 'ქართული', //Georgian\n  kg: 'KiKongo', //Kongo\n  ki: 'Gĩkũyũ', //Kikuyu\n  kj: 'Kuanyama', //Kuanyama\n  kk: 'Қазақша', //Kazakh\n  kl: 'Kalaallisut', //Greenlandic\n  km: 'ភាសាខ្មែរ', //Cambodian\n  kn: 'ಕನ್ನಡ', //Kannada\n  khw: 'کھوار', //Khowar\n  ko: '한국어', //Korean\n  kr: 'Kanuri', //Kanuri\n  ks: 'कश्मीरी', //Kashmiri\n  ksh: 'Ripoarisch', //Ripuarian\n  ku: 'Kurdî', //Kurdish\n  kv: 'Коми', //Komi\n  kw: 'Kernewek', //Cornish\n  ky: 'Kırgızca', //Kirghiz\n  la: 'Latina', //Latin\n  lad: 'Dzhudezmo', //Ladino\n  lan: 'Leb', //Lango\n  lb: 'Lëtzebuergesch', //Luxembourgish\n  lg: 'Luganda', //Ganda\n  li: 'Limburgs', //Limburgian\n  lij: 'Líguru', //Ligurian\n  lmo: 'Lumbaart', //Lombard\n  ln: 'Lingála', //Lingala\n  lo: 'ລາວ', //Laotian\n  lt: 'Lietuvių', //Lithuanian\n  lv: 'Latviešu', //Latvian\n  'map-bms': 'Basa', //Banyumasan\n  mg: 'Malagasy', //Malagasy\n  man: '官話', //Mandarin\n  mh: 'Kajin', //Marshallese\n  mi: 'Māori', //Maori\n  min: 'Minangkabau', //Minangkabau\n  mk: 'Македонски', //Macedonian\n  ml: 'മലയാളം', //Malayalam\n  mn: 'Монгол', //Mongolian\n  mo: 'Moldovenească', //Moldovan\n  mr: 'मराठी', //Marathi\n  ms: 'Bahasa', //Malay\n  mt: 'bil-Malti', //Maltese\n  mus: 'Muskogee', //Creek\n  my: 'Myanmasa', //Burmese\n  na: 'Dorerin', //Nauruan\n  nah: 'Nahuatl', //Nahuatl\n  nap: 'Nnapulitano', //Neapolitan\n  nd: 'ltr', //North\n  nds: 'Plattdüütsch', //Low German\n  'nds-nl': 'Saxon', //Dutch\n  ne: 'नेपाली', //Nepali\n  new: 'नेपालभाषा', //Newar\n  ng: 'Oshiwambo', //Ndonga\n  nl: 'Nederlands', //Dutch\n  nn: 'ltr', //Norwegian\n  no: 'Norsk', //Norwegian\n  nr: 'ltr', //South\n  nso: 'ltr', //Northern\n  nrm: 'Nouormand', //Norman\n  nv: 'Diné', //Navajo\n  ny: 'Chi-Chewa', //Chichewa\n  oc: 'Occitan', //Occitan\n  oj: 'ᐊᓂᔑᓈᐯᒧᐎᓐ', //Ojibwa\n  om: 'Oromoo', //Oromo\n  or: 'ଓଡ଼ିଆ', //Oriya\n  os: 'Иронау', //Ossetian\n  pa: 'ਪੰਜਾਬੀ', //Panjabi\n  pag: 'Pangasinan', //Pangasinan\n  pam: 'Kapampangan', //Kapampangan\n  pap: 'Papiamentu', //Papiamentu\n  pdc: 'ltr', //Pennsylvania\n  pi: 'Pāli', //Pali\n  pih: 'Norfuk', //Norfolk\n  pl: 'Polski', //Polish\n  pms: 'Piemontèis', //Piedmontese\n  ps: 'پښتو', //Pashto\n  pt: 'Português', //Portuguese\n  qu: 'Runa', //Quechua\n  rm: 'ltr', //Raeto\n  rmy: 'Romani', //Romani\n  rn: 'Kirundi', //Kirundi\n  ro: 'Română', //Romanian\n  'roa-rup': 'Armâneashti', //Aromanian\n  ru: 'Русский', //Russian\n  rw: 'Kinyarwandi', //Rwandi\n  sa: 'संस्कृतम्', //Sanskrit\n  sc: 'Sardu', //Sardinian\n  scn: 'Sicilianu', //Sicilian\n  sco: 'Scots', //Scots\n  sd: 'सिनधि', //Sindhi\n  se: 'ltr', //Northern\n  sg: 'Sängö', //Sango\n  sh: 'Srpskohrvatski', //Serbo-Croatian\n  si: 'සිංහල', //Sinhalese\n  simple: 'ltr', //Simple\n  sk: 'Slovenčina', //Slovak\n  sl: 'Slovenščina', //Slovenian\n  sm: 'Gagana', //Samoan\n  sn: 'chiShona', //Shona\n  so: 'Soomaaliga', //Somalia\n  sq: 'Shqip', //Albanian\n  sr: 'Српски', //Serbian\n  ss: 'SiSwati', //Swati\n  st: 'ltr', //Southern\n  su: 'Basa', //Sundanese\n  sv: 'Svenska', //Swedish\n  sw: 'Kiswahili', //Swahili\n  ta: 'தமிழ்', //Tamil\n  te: 'తెలుగు', //Telugu\n  tet: 'Tetun', //Tetum\n  tg: 'Тоҷикӣ', //Tajik\n  th: 'ไทย', //Thai\n  ti: 'ትግርኛ', //Tigrinya\n  tk: 'Туркмен', //Turkmen\n  tl: 'Tagalog', //Tagalog\n  tlh: 'tlhIngan-Hol', //Klingon\n  tn: 'Setswana', //Tswana\n  to: 'Lea', //Tonga\n  tpi: 'ltr', //Tok\n  tr: 'Türkçe', //Turkish\n  ts: 'Xitsonga', //Tsonga\n  tt: 'Tatarça', //Tatar\n  tum: 'chiTumbuka', //Tumbuka\n  tw: 'Twi', //Twi\n  ty: 'Reo', //Tahitian\n  udm: 'Удмурт', //Udmurt\n  ug: 'Uyƣurqə', //Uyghur\n  uk: 'Українська', //Ukrainian\n  ur: 'اردو', //Urdu\n  uz: 'Ўзбек', //Uzbek\n  ve: 'Tshivenḓa', //Venda\n  vi: 'Việtnam', //Vietnamese\n  vec: 'Vèneto', //Venetian\n  vls: 'ltr', //West\n  vo: 'Volapük', //Volapük\n  wa: 'Walon', //Walloon\n  war: 'Winaray', //Waray-Waray\n  wo: 'Wollof', //Wolof\n  xal: 'Хальмг', //Kalmyk\n  xh: 'isiXhosa', //Xhosa\n  yi: 'ייִדיש', //Yiddish\n  yo: 'Yorùbá', //Yoruba\n  za: 'Cuengh', //Zhuang\n  zh: '中文', //Chinese\n  'zh-classical': 'ltr', //Classical\n  'zh-min-nan': 'Bân-lâm-gú', //Minnan\n  'zh-yue': '粵語', //Cantonese\n  zu: 'isiZulu', //Zulu\n}\n", "const wp = '.wikipedia.org/wiki/$1'\nconst wm = '.wikimedia.org/wiki/$1'\nconst w = 'www.'\n\nexport default {\n  acronym: w + 'acronymfinder.com/$1.html',\n  advisory: 'advisory' + wm,\n  advogato: w + 'advogato.org/$1',\n  aew: 'wiki.arabeyes.org/$1',\n  appropedia: w + 'appropedia.org/$1',\n  aquariumwiki: w + 'theaquariumwiki.com/$1',\n  arborwiki: 'localwiki.org/ann-arbor/$1',\n  arxiv: 'arxiv.org/abs/$1',\n  atmwiki: w + 'otterstedt.de/wiki/index.php/$1',\n  baden: w + 'stadtwiki-baden-baden.de/wiki/$1/',\n  battlestarwiki: 'en.battlestarwiki.org/wiki/$1',\n  bcnbio: 'historiapolitica.bcn.cl/resenas_parlamentarias/wiki/$1',\n  beacha: w + 'beachapedia.org/$1',\n  betawiki: 'translatewiki.net/wiki/$1',\n  bibcode: 'adsabs.harvard.edu/abs/$1',\n  bibliowiki: 'wikilivres.org/wiki/$1',\n  bluwiki: 'bluwiki.com/go/$1',\n  blw: 'britainloves' + wp,\n  botwiki: 'botwiki.sno.cc/wiki/$1',\n  boxrec: w + 'boxrec.com/media/index.php?$1',\n  brickwiki: w + 'brickwiki.info/wiki/$1',\n  bugzilla: 'bugzilla.wikimedia.org/show_bug.cgi?id=$1',\n  bulba: 'bulbapedia.bulbagarden.net/wiki/$1',\n  c: 'commons' + wm,\n  c2: 'c2.com/cgi/wiki?$1',\n  c2find: 'c2.com/cgi/wiki?FindPage&value=$1',\n  cache: w + 'google.com/search?q=cache:$1',\n  ĉej: 'esperanto.blahus.cz/cxej/vikio/index.php/$1',\n  cellwiki: 'cell.wikia.com/wiki/$1',\n  centralwikia: 'community.wikia.com/wiki/$1',\n  chej: 'esperanto.blahus.cz/cxej/vikio/index.php/$1',\n  choralwiki: w + 'cpdl.org/wiki/index.php/$1',\n  citizendium: 'en.citizendium.org/wiki/$1',\n  ckwiss: w + 'ck-wissen.de/ckwiki/index.php?title=$1',\n  comixpedia: w + 'comixpedia.org/index.php?title=$1',\n  commons: 'commons' + wm,\n  communityscheme: 'community.schemewiki.org/?c=s&key=$1',\n  communitywiki: 'communitywiki.org/$1',\n  comune: 'rete.comuni-italiani.it/wiki/$1',\n  creativecommons: 'creativecommons.org/licenses/$1',\n  creativecommonswiki: 'wiki.creativecommons.org/$1',\n  cxej: 'esperanto.blahus.cz/cxej/vikio/index.php/$1',\n  dcc: w + 'dccwiki.com/$1',\n  dcdatabase: 'dc.wikia.com/$1',\n  dcma: 'christian-morgenstern.de/dcma/index.php?title=$1',\n  debian: 'wiki.debian.org/$1',\n  delicious: w + 'delicious.com/tag/$1',\n  devmo: 'developer.mozilla.org/en/docs/$1',\n  dictionary: w + 'dict.org/bin/Dict?Database=*&Form=Dict1&Strategy=*&Query=$1',\n  dict: w + 'dict.org/bin/Dict?Database=*&Form=Dict1&Strategy=*&Query=$1',\n  disinfopedia: 'sourcewatch.org/index.php/$1',\n  distributedproofreaders: w + 'pgdp.net/wiki/$1',\n  distributedproofreadersca: w + 'pgdpcanada.net/wiki/index.php/$1',\n  dmoz: 'curlie.org/$1',\n  dmozs: 'curlie.org/search?q=$1',\n  doi: 'doi.org/$1',\n  donate: 'donate' + wm,\n  doom_wiki: 'doom.wikia.com/wiki/$1',\n  download: 'releases.wikimedia.org/$1',\n  dbdump: 'dumps.wikimedia.org/$1/latest/',\n  dpd: 'lema.rae.es/dpd/?key=$1',\n  drae: 'dle.rae.es/?w=$1',\n  dreamhost: 'wiki.dreamhost.com/index.php/$1',\n  drumcorpswiki: w + 'drumcorpswiki.com/index.php/$1',\n  dwjwiki: w + 'suberic.net/cgi-bin/dwj/wiki.cgi?$1',\n  eĉei: w + 'ikso.net/cgi-bin/wiki.pl?$1',\n  ecoreality: w + 'EcoReality.org/wiki/$1',\n  ecxei: w + 'ikso.net/cgi-bin/wiki.pl?$1',\n  elibre: 'enciclopedia.us.es/index.php/$1',\n  emacswiki: w + 'emacswiki.org/emacs?$1',\n  encyc: 'encyc.org/wiki/$1',\n  energiewiki: w + 'netzwerk-energieberater.de/wiki/index.php/$1',\n  englyphwiki: 'en.glyphwiki.org/wiki/$1',\n  enkol: 'enkol.pl/$1',\n  eokulturcentro: 'esperanto.toulouse.free.fr/nova/wikini/wakka.php?wiki=$1',\n  esolang: 'esolangs.org/wiki/$1',\n  etherpad: 'etherpad.wikimedia.org/$1',\n  ethnologue: w + 'ethnologue.com/language/$1',\n  ethnologuefamily: w + 'ethnologue.com/show_family.asp?subid=$1',\n  evowiki: 'wiki.cotch.net/index.php/$1',\n  exotica: w + 'exotica.org.uk/wiki/$1',\n  fanimutationwiki: 'wiki.animutationportal.com/index.php/$1',\n  fedora: 'fedoraproject.org/wiki/$1',\n  finalfantasy: 'finalfantasy.wikia.com/wiki/$1',\n  finnix: w + 'finnix.org/$1',\n  flickruser: w + 'flickr.com/people/$1',\n  flickrphoto: w + 'flickr.com/photo.gne?id=$1',\n  floralwiki: w + 'floralwiki.co.uk/wiki/$1',\n  foldoc: 'foldoc.org/$1',\n  foundation: 'foundation' + wm,\n  foundationsite: 'wikimediafoundation.org/$1',\n  foxwiki: 'fox.wikis.com/wc.dll?Wiki~$1',\n  freebio: 'freebiology.org/wiki/$1',\n  freebsdman: w + 'FreeBSD.org/cgi/man.cgi?apropos=1&query=$1',\n  freeculturewiki: 'wiki.freeculture.org/index.php/$1',\n  freedomdefined: 'freedomdefined.org/$1',\n  freefeel: 'freefeel.org/wiki/$1',\n  freekiwiki: 'wiki.freegeek.org/index.php/$1',\n  // freenode: 'irc://irc.freenode.net/$1',\n  freesoft: 'directory.fsf.org/wiki/$1',\n  ganfyd: 'ganfyd.org/index.php?title=$1',\n  gardenology: w + 'gardenology.org/wiki/$1',\n  gausswiki: 'gauss.ffii.org/$1',\n  gentoo: 'wiki.gentoo.org/wiki/$1',\n  genwiki: 'wiki.genealogy.net/index.php/$1',\n  gerrit: 'gerrit.wikimedia.org/r/$1',\n  git: 'gerrit.wikimedia.org/g/$1',\n  google: w + 'google.com/search?q=$1',\n  googledefine: w + 'google.com/search?q=define:$1',\n  googlegroups: 'groups.google.com/groups?q=$1',\n  guildwarswiki: 'wiki.guildwars.com/wiki/$1',\n  guildwiki: 'guildwars.wikia.com/wiki/$1',\n  guc: 'tools.wmflabs.org/guc/?user=$1',\n  gucprefix: 'tools.wmflabs.org/guc/?isPrefixPattern=1&src=rc&user=$1',\n  gutenberg: w + 'gutenberg.org/etext/$1',\n  gutenbergwiki: w + 'gutenberg.org/wiki/$1',\n  hackerspaces: 'hackerspaces.org/wiki/$1',\n  h2wiki: 'halowiki.net/p/$1',\n  hammondwiki: w + 'dairiki.org/HammondWiki/index.php3?$1',\n  hdl: 'hdl.handle.net/$1',\n  heraldik: 'heraldik-wiki.de/wiki/$1',\n  heroeswiki: 'heroeswiki.com/$1',\n  horizonlabs: 'horizon.wikimedia.org/$1',\n  hrwiki: w + 'hrwiki.org/index.php/$1',\n  hrfwiki: 'fanstuff.hrwiki.org/index.php/$1',\n  hupwiki: 'wiki.hup.hu/index.php/$1',\n  iarchive: 'archive.org/details/$1',\n  imdbname: w + 'imdb.com/name/nm$1/',\n  imdbtitle: w + 'imdb.com/title/tt$1/',\n  imdbcompany: w + 'imdb.com/company/co$1/',\n  imdbcharacter: w + 'imdb.com/character/ch$1/',\n  incubator: 'incubator' + wm,\n  infosecpedia: 'infosecpedia.org/wiki/$1',\n  infosphere: 'theinfosphere.org/$1',\n  // irc: 'irc://irc.freenode.net/$1',\n  // ircs: 'ircs://irc.freenode.net/$1',\n  // ircrc: 'irc://irc.wikimedia.org/$1',\n  // rcirc: 'irc://irc.wikimedia.org/$1',\n  'iso639-3': 'iso639-3.sil.org/code/$1',\n  issn: w + 'worldcat.org/issn/$1',\n  iuridictum: 'iuridictum.pecina.cz/w/$1',\n  jaglyphwiki: 'glyphwiki.org/wiki/$1',\n  jefo: 'esperanto-jeunes.org/wiki/$1',\n  jerseydatabase: 'jerseydatabase.com/wiki.php?id=$1',\n  jira: 'jira.toolserver.org/browse/$1',\n  jspwiki: w + 'ecyrd.com/JSPWiki/Wiki.jsp?page=$1',\n  jstor: w + 'jstor.org/journals/$1',\n  kamelo: 'kamelopedia.mormo.org/index.php/$1',\n  karlsruhe: 'ka.stadtwiki.net/$1',\n  kinowiki: 'kino.skripov.com/index.php/$1',\n  komicawiki: 'wiki.komica.org/?$1',\n  kontuwiki: 'kontu.wiki/$1',\n  wikitech: 'wikitech' + wm,\n  libreplanet: 'libreplanet.org/wiki/$1',\n  linguistlist: 'linguistlist.org/forms/langs/LLDescription.cfm?code=$1',\n  linuxwiki: w + 'linuxwiki.de/$1',\n  linuxwikide: w + 'linuxwiki.de/$1',\n  liswiki: 'liswiki.org/wiki/$1',\n  literateprograms: 'en.literateprograms.org/$1',\n  livepedia: w + 'livepedia.gr/index.php?title=$1',\n  localwiki: 'localwiki.org/$1',\n  lojban: 'mw.lojban.org/papri/$1',\n  lostpedia: 'lostpedia.wikia.com/wiki/$1',\n  lqwiki: 'wiki.linuxquestions.org/wiki/$1',\n  luxo: 'tools.wmflabs.org/guc/?user=$1',\n  mail: 'lists.wikimedia.org/mailman/listinfo/$1',\n  mailarchive: 'lists.wikimedia.org/pipermail/$1',\n  mariowiki: w + 'mariowiki.com/$1',\n  marveldatabase: w + 'marveldatabase.com/wiki/index.php/$1',\n  meatball: 'meatballwiki.org/wiki/$1',\n  mw: w + 'mediawiki.org/wiki/$1',\n  mediazilla: 'bugzilla.wikimedia.org/$1',\n  memoryalpha: 'memory-alpha.fandom.com/wiki/$1',\n  metawiki: 'meta' + wm,\n  metawikimedia: 'meta' + wm,\n  metawikipedia: 'meta' + wm,\n  mineralienatlas: w + 'mineralienatlas.de/lexikon/index.php/$1',\n  moinmoin: 'moinmo.in/$1',\n  monstropedia: w + 'monstropedia.org/?title=$1',\n  mosapedia: 'mosapedia.de/wiki/index.php/$1',\n  mozcom: 'mozilla.wikia.com/wiki/$1',\n  mozillawiki: 'wiki.mozilla.org/$1',\n  mozillazinekb: 'kb.mozillazine.org/$1',\n  musicbrainz: 'musicbrainz.org/doc/$1',\n  mediawikiwiki: w + 'mediawiki.org/wiki/$1',\n  mwod: w + 'merriam-webster.com/dictionary/$1',\n  mwot: w + 'merriam-webster.com/thesaurus/$1',\n  nkcells: w + 'nkcells.info/index.php?title=$1',\n  nara: 'catalog.archives.gov/id/$1',\n  nosmoke: 'no-smok.net/nsmk/$1',\n  nost: 'nostalgia' + wp,\n  nostalgia: 'nostalgia' + wp,\n  oeis: 'oeis.org/$1',\n  oldwikisource: 'wikisource.org/wiki/$1',\n  olpc: 'wiki.laptop.org/go/$1',\n  omegawiki: w + 'omegawiki.org/Expression:$1',\n  onelook: w + 'onelook.com/?ls=b&w=$1',\n  openlibrary: 'openlibrary.org/$1',\n  openstreetmap: 'wiki.openstreetmap.org/wiki/$1',\n  openwetware: 'openwetware.org/wiki/$1',\n  opera7wiki: 'operawiki.info/$1',\n  organicdesign: w + 'organicdesign.co.nz/$1',\n  orthodoxwiki: 'orthodoxwiki.org/$1',\n  osmwiki: 'wiki.openstreetmap.org/wiki/$1',\n  otrs: 'ticket.wikimedia.org/otrs/index.pl?Action=AgentTicketZoom&TicketID=$1',\n  otrswiki: 'otrs-wiki' + wm,\n  ourmedia: w + 'socialtext.net/ourmedia/index.cgi?$1',\n  outreach: 'outreach' + wm,\n  outreachwiki: 'outreach' + wm,\n  owasp: w + 'owasp.org/index.php/$1',\n  panawiki: 'wiki.alairelibre.net/index.php?title=$1',\n  patwiki: 'gauss.ffii.org/$1',\n  personaltelco: 'personaltelco.net/wiki/$1',\n  petscan: 'petscan.wmflabs.org/?psid=$1',\n  phab: 'phabricator.wikimedia.org/$1',\n  phabricator: 'phabricator.wikimedia.org/$1',\n  phwiki: w + 'pocketheaven.com/ph/wiki/index.php?title=$1',\n  phpwiki: 'phpwiki.sourceforge.net/phpwiki/index.php?$1',\n  planetmath: 'planetmath.org/node/$1',\n  pmeg: w + 'bertilow.com/pmeg/$1',\n  pmid: w + 'ncbi.nlm.nih.gov/pubmed/$1?dopt=Abstract',\n  pokewiki: 'pokewiki.de/$1',\n  pokéwiki: 'pokewiki.de/$1',\n  policy: 'policy.wikimedia.org/$1',\n  proofwiki: w + 'proofwiki.org/wiki/$1',\n  pyrev: w + 'mediawiki.org/wiki/Special:Code/pywikipedia/$1',\n  pythoninfo: 'wiki.python.org/moin/$1',\n  pythonwiki: w + 'pythonwiki.de/$1',\n  pywiki: 'c2.com/cgi/wiki?$1',\n  psycle: 'psycle.sourceforge.net/wiki/$1',\n  quality: 'quality' + wm,\n  quarry: 'quarry.wmflabs.org/$1',\n  regiowiki: 'regiowiki.at/wiki/$1',\n  rev: w + 'mediawiki.org/wiki/Special:Code/MediaWiki/$1',\n  revo: 'purl.org/NET/voko/revo/art/$1.html',\n  rfc: 'tools.ietf.org/html/rfc$1',\n  rheinneckar: 'rhein-neckar-wiki.de/$1',\n  robowiki: 'robowiki.net/?$1',\n  rodovid: 'en.rodovid.org/wk/$1',\n  reuterswiki: 'glossary.reuters.com/index.php/$1',\n  rowiki: 'wiki.rennkuckuck.de/index.php/$1',\n  rt: 'rt.wikimedia.org/Ticket/Display.html?id=$1',\n  // rtfm: 'ftp://rtfm.mit.edu/pub/faqs/$1',\n  s23wiki: 's23.org/wiki/$1',\n  scholar: 'scholar.google.com/scholar?q=$1',\n  schoolswp: 'schools-' + wp,\n  scores: 'imslp.org/wiki/$1',\n  scoutwiki: 'en.scoutwiki.org/$1',\n  scramble: w + 'scramble.nl/wiki/index.php?title=$1',\n  seapig: w + 'seapig.org/$1',\n  seattlewiki: 'seattle.wikia.com/wiki/$1',\n  slwiki: 'wiki.secondlife.com/wiki/$1',\n  'semantic-mw': w + 'semantic-mediawiki.org/wiki/$1',\n  senseislibrary: 'senseis.xmp.net/?$1',\n  sharemap: 'sharemap.org/$1',\n  silcode: w + 'sil.org/iso639-3/documentation.asp?id=$1',\n  slashdot: 'slashdot.org/article.pl?sid=$1',\n  sourceforge: 'sourceforge.net/$1',\n  spcom: 'spcom' + wm,\n  species: 'species' + wm,\n  squeak: 'wiki.squeak.org/squeak/$1',\n  stats: 'stats.wikimedia.org/$1',\n  stewardry: 'tools.wmflabs.org/meta/stewardry/?wiki=$1',\n  strategy: 'strategy' + wm,\n  strategywiki: 'strategywiki.org/wiki/$1',\n  sulutil: 'meta.wikimedia.org/wiki/Special:CentralAuth/$1',\n  swtrain: 'train.spottingworld.com/$1',\n  svn: 'svn.wikimedia.org/viewvc/mediawiki/$1?view=log',\n  swinbrain: 'swinbrain.ict.swin.edu.au/wiki/$1',\n  tabwiki: w + 'tabwiki.com/index.php/$1',\n  tclerswiki: 'wiki.tcl.tk/$1',\n  technorati: w + 'technorati.com/search/$1',\n  tenwiki: 'ten' + wp,\n  testwiki: 'test' + wp,\n  testwikidata: 'test.wikidata.org/wiki/$1',\n  test2wiki: 'test2' + wp,\n  tfwiki: 'tfwiki.net/wiki/$1',\n  thelemapedia: w + 'thelemapedia.org/index.php/$1',\n  theopedia: w + 'theopedia.com/$1',\n  thinkwiki: w + 'thinkwiki.org/wiki/$1',\n  ticket: 'ticket.wikimedia.org/otrs/index.pl?Action=AgentTicketZoom&TicketNumber=$1',\n  tmbw: 'tmbw.net/wiki/$1',\n  tmnet: w + 'technomanifestos.net/?$1',\n  tmwiki: w + 'EasyTopicMaps.com/?page=$1',\n  toolforge: 'tools.wmflabs.org/$1',\n  toollabs: 'tools.wmflabs.org/$1',\n  tools: 'toolserver.org/$1',\n  tswiki: w + 'mediawiki.org/wiki/Toolserver:$1',\n  translatewiki: 'translatewiki.net/wiki/$1',\n  tviv: 'tviv.org/wiki/$1',\n  tvtropes: w + 'tvtropes.org/pmwiki/pmwiki.php/Main/$1',\n  twiki: 'twiki.org/cgi-bin/view/$1',\n  tyvawiki: w + 'tyvawiki.org/wiki/$1',\n  umap: 'umap.openstreetmap.fr/$1',\n  uncyclopedia: 'en.uncyclopedia.co/wiki/$1',\n  unihan: w + 'unicode.org/cgi-bin/GetUnihanData.pl?codepoint=$1',\n  unreal: 'wiki.beyondunreal.com/wiki/$1',\n  urbandict: w + 'urbandictionary.com/define.php?term=$1',\n  usej: w + 'tejo.org/usej/$1',\n  usemod: w + 'usemod.com/cgi-bin/wiki.pl?$1',\n  usability: 'usability' + wm,\n  utrs: 'utrs.wmflabs.org/appeal.php?id=$1',\n  vikidia: 'fr.vikidia.org/wiki/$1',\n  vlos: 'tusach.thuvienkhoahoc.com/wiki/$1',\n  vkol: 'kol.coldfront.net/thekolwiki/index.php/$1',\n  voipinfo: w + 'voip-info.org/wiki/view/$1',\n  votewiki: 'vote' + wm,\n  werelate: w + 'werelate.org/wiki/$1',\n  wg: 'wg-en' + wp,\n  wikia: w + 'wikia.com/wiki/w:c:$1',\n  wikiasite: w + 'wikia.com/wiki/w:c:$1',\n  wikiapiary: 'wikiapiary.com/wiki/$1',\n  wikibooks: 'en.wikibooks.org/wiki/$1',\n  wikichristian: w + 'wikichristian.org/index.php?title=$1',\n  wikicities: w + 'wikia.com/wiki/w:$1',\n  wikicity: w + 'wikia.com/wiki/w:c:$1',\n  wikiconference: 'wikiconference.org/wiki/$1',\n  wikidata: w + 'wikidata.org/wiki/$1',\n  wikif1: w + 'wikif1.org/$1',\n  wikifur: 'en.wikifur.com/wiki/$1',\n  wikihow: w + 'wikihow.com/$1',\n  wikiindex: 'wikiindex.org/$1',\n  wikilemon: 'wiki.illemonati.com/$1',\n  wikilivres: 'wikilivres.org/wiki/$1',\n  wikilivresru: 'wikilivres.ru/$1',\n  'wikimac-de': 'apfelwiki.de/wiki/Main/$1',\n  wikimedia: 'foundation' + wm,\n  wikinews: 'en.wikinews.org/wiki/$1',\n  wikinfo: 'wikinfo.org/w/index.php/$1',\n  wikinvest: 'meta.wikimedia.org/wiki/Interwiki_map/discontinued#Wikinvest',\n  wikiotics: 'wikiotics.org/$1',\n  wikipapers: 'wikipapers.referata.com/wiki/$1',\n  wikipedia: 'en' + wp,\n  wikipediawikipedia: 'en.wikipedia.org/wiki/Wikipedia:$1',\n  wikiquote: 'en.wikiquote.org/wiki/$1',\n  wikisophia: 'wikisophia.org/index.php?title=$1',\n  wikisource: 'en.wikisource.org/wiki/$1',\n  wikispecies: 'species' + wm,\n  wikispot: 'wikispot.org/?action=gotowikipage&v=$1',\n  wikiskripta: w + 'wikiskripta.eu/index.php/$1',\n  labsconsole: 'wikitech' + wm,\n  wikiti: 'wikiti.denglend.net/index.php?title=$1',\n  wikiversity: 'en.wikiversity.org/wiki/$1',\n  wikivoyage: 'en.wikivoyage.org/wiki/$1',\n  betawikiversity: 'beta.wikiversity.org/wiki/$1',\n  wikiwikiweb: 'c2.com/cgi/wiki?$1',\n  wiktionary: 'en.wiktionary.org/wiki/$1',\n  wipipedia: 'wipipedia.org/index.php/$1',\n  wlug: w + 'wlug.org.nz/$1',\n  wmam: 'am' + wm,\n  wmar: w + 'wikimedia.org.ar/wiki/$1',\n  wmat: 'mitglieder.wikimedia.at/$1',\n  wmau: 'wikimedia.org.au/wiki/$1',\n  wmbd: 'bd' + wm,\n  wmbe: 'be' + wm,\n  wmbr: 'br' + wm,\n  wmca: 'ca' + wm,\n  wmch: w + 'wikimedia.ch/$1',\n  wmcl: w + 'wikimediachile.cl/index.php?title=$1',\n  wmcn: 'cn' + wm,\n  wmco: 'co' + wm,\n  wmcz: w + 'wikimedia.cz/web/$1',\n  wmdc: 'wikimediadc.org/wiki/$1',\n  securewikidc: 'secure.wikidc.org/$1',\n  wmde: 'wikimedia.de/wiki/$1',\n  wmdk: 'dk' + wm,\n  wmee: 'ee' + wm,\n  wmec: 'ec' + wm,\n  wmes: w + 'wikimedia.es/wiki/$1',\n  wmet: 'ee' + wm,\n  wmfdashboard: 'outreachdashboard.wmflabs.org/$1',\n  wmfi: 'fi' + wm,\n  wmfr: 'wikimedia.fr/$1',\n  wmge: 'ge' + wm,\n  wmhi: 'hi' + wm,\n  wmhk: 'meta.wikimedia.org/wiki/Wikimedia_Hong_Kong',\n  wmhu: 'wikimedia.hu/wiki/$1',\n  wmid: 'id' + wm,\n  wmil: w + 'wikimedia.org.il/$1',\n  wmin: 'wiki.wikimedia.in/$1',\n  wmit: 'wiki.wikimedia.it/wiki/$1',\n  wmke: 'meta.wikimedia.org/wiki/Wikimedia_Kenya',\n  wmmk: 'mk' + wm,\n  wmmx: 'mx' + wm,\n  wmnl: 'nl' + wm,\n  wmnyc: 'nyc' + wm,\n  wmno: 'no' + wm,\n  'wmpa-us': 'pa-us' + wm,\n  wmph: 'meta.wikimedia.org/wiki/Wikimedia_Philippines',\n  wmpl: 'pl' + wm,\n  wmpt: 'pt' + wm,\n  wmpunjabi: 'punjabi' + wm,\n  wmromd: 'romd' + wm,\n  wmrs: 'rs' + wm,\n  wmru: 'ru' + wm,\n  wmse: 'se' + wm,\n  wmsk: 'wikimedia.sk/$1',\n  wmtr: 'tr' + wm,\n  wmtw: 'wikimedia.tw/wiki/index.php5/$1',\n  wmua: 'ua' + wm,\n  wmuk: 'wikimedia.org.uk/wiki/$1',\n  wmve: 'wikimedia.org.ve/wiki/$1',\n  wmza: 'wikimedia.org.za/wiki/$1',\n  wm2005: 'wikimania2005' + wm,\n  wm2006: 'wikimania2006' + wm,\n  wm2007: 'wikimania2007' + wm,\n  wm2008: 'wikimania2008' + wm,\n  wm2009: 'wikimania2009' + wm,\n  wm2010: 'wikimania2010' + wm,\n  wm2011: 'wikimania2011' + wm,\n  wm2012: 'wikimania2012' + wm,\n  wm2013: 'wikimania2013' + wm,\n  wm2014: 'wikimania2014' + wm,\n  wm2015: 'wikimania2015' + wm,\n  wm2016: 'wikimania2016' + wm,\n  wm2017: 'wikimania2017' + wm,\n  wm2018: 'wikimania2018' + wm,\n  wmania: 'wikimania' + wm,\n  wikimania: 'wikimania' + wm,\n  wmteam: 'wikimaniateam' + wm,\n  wmf: 'foundation' + wm,\n  wmfblog: 'blog.wikimedia.org/$1',\n  wmdeblog: 'blog.wikimedia.de/$1',\n  wookieepedia: 'starwars.wikia.com/wiki/$1',\n  wowwiki: w + 'wowwiki.com/$1',\n  wqy: 'wqy.sourceforge.net/cgi-bin/index.cgi?$1',\n  wurmpedia: 'wurmpedia.com/index.php/$1',\n  viaf: 'viaf.org/viaf/$1',\n  zrhwiki: w + 'zrhwiki.ch/wiki/$1',\n  zum: 'wiki.zum.de/$1',\n  zwiki: w + 'zwiki.org/$1',\n  m: 'meta' + wm,\n  meta: 'meta' + wm,\n  sep11: 'sep11' + wp,\n  d: w + 'wikidata.org/wiki/$1',\n  minnan: 'zh-min-nan' + wp,\n  nb: 'no' + wp,\n  'zh-cfr': 'zh-min-nan' + wp,\n  'zh-cn': 'zh' + wp,\n  'zh-tw': 'zh' + wp,\n  nan: 'zh-min-nan' + wp,\n  vro: 'fiu-vro' + wp,\n  cmn: 'zh' + wp,\n  lzh: 'zh-classical' + wp,\n  rup: 'roa-rup' + wp,\n  gsw: 'als' + wp,\n  'be-tarask': 'be-x-old' + wp,\n  sgs: 'bat-smg' + wp,\n  egl: 'eml' + wp,\n  w: 'en' + wp,\n  wikt: 'en.wiktionary.org/wiki/$1',\n  q: 'en.wikiquote.org/wiki/$1',\n  b: 'en.wikibooks.org/wiki/$1',\n  n: 'en.wikinews.org/wiki/$1',\n  s: 'en.wikisource.org/wiki/$1',\n  chapter: 'en' + wm,\n  v: 'en.wikiversity.org/wiki/$1',\n  voy: 'en.wikivoyage.org/wiki/$1',\n}\n", "import languages from '../_data/languages.js'\n//some colon symbols are valid links, like `America: That place`\n//so we have to whitelist allowable interwiki links\nimport interwikis from '../_data/interwiki.js'\n//add language prefixes too..\nObject.keys(languages).forEach((k) => {\n  interwikis[k] = k + '.wikipedia.org/wiki/$1'\n})\n\n//this is predictably very complicated.\n// https://meta.wikimedia.org/wiki/Help:Interwiki_linking\nconst parseInterwiki = function (obj) {\n  let str = obj.page || ''\n  if (str.indexOf(':') !== -1) {\n    let m = str.match(/^(.*):(.*)/)\n    if (m === null) {\n      return obj\n    }\n    let site = m[1] || ''\n    site = site.toLowerCase()\n    // double colon - [[m:Help:Help]] \n    if (site.indexOf(':') !== -1) {\n      let [, wiki, lang] = site.match(/^:?(.*):(.*)/)\n      //only allow interwikis to these specific places\n      if (interwikis.hasOwnProperty(wiki) === false || languages.hasOwnProperty(lang) === false) {\n        return obj\n      }\n      obj.wiki = { wiki: wiki, lang: lang }\n    } else {\n      // [[fr:cool]]\n      if (interwikis.hasOwnProperty(site) === false) {\n        return obj\n      }\n      obj.wiki = site\n    }\n    obj.page = m[2]\n  }\n  return obj\n}\nexport default parseInterwiki\n", "import parse_interwiki from './interwiki.js'\nconst ignore_links =\n  /^(category|catégorie|kategorie|categoría|categoria|categorie|kategoria|تصنيف|image|file|fichier|datei|media):/i\nconst external_link = /\\[(https?|news|ftp|mailto|gopher|irc)(:\\/\\/[^\\]| ]{4,1500})([| ].*?)?\\]/g\nconst link_reg = /\\[\\[(.{0,1600}?)\\]\\]([a-z]+)?/gi //allow dangling suffixes - \"[[flanders]]s\"\n\nconst external_links = function (links, str) {\n  str.replace(external_link, function (raw, protocol, link, text) {\n    text = text || ''\n    links.push({\n      type: 'external',\n      site: protocol + link,\n      text: text.trim(),\n      raw: raw,\n    })\n    return text\n  })\n  return links\n}\n\nconst internal_links = function (links, str) {\n  //regular links\n  str.replace(link_reg, function (raw, s, suffix) {\n    let txt = null\n    //make a copy of original\n    let link = s\n    if (s.match(/\\|/)) {\n      //replacement link [[link|text]]\n      s = s.replace(/\\[\\[(.{2,1000}?)\\]\\](\\w{0,10})/g, '$1$2') //remove ['s and keep suffix\n      link = s.replace(/(.{2,1000})\\|.{0,2000}/, '$1') //replaced links\n      txt = s.replace(/.{2,1000}?\\|/, '')\n      //handle funky case of [[toronto|]]\n      if (txt === null && link.match(/\\|$/)) {\n        link = link.replace(/\\|$/, '')\n        txt = link\n      }\n    }\n    //kill off non-wikipedia namespaces\n    if (link.match(ignore_links)) {\n      return s\n    }\n    //kill off just these just-anchor links [[#history]]\n    // if (link.match(/^#/i)) {\n    //   return s\n    // }\n    //remove anchors from end [[toronto#history]]\n    let obj = {\n      page: link,\n      raw: raw,\n    }\n    obj.page = obj.page.replace(/#(.*)/, (a, b) => {\n      obj.anchor = b\n      return ''\n    })\n    //grab any fr:Paris parts\n    obj = parse_interwiki(obj)\n    if (obj.wiki) {\n      obj.type = 'interwiki'\n    }\n    if (txt !== null && txt !== obj.page) {\n      obj.text = txt\n    }\n    //finally, support [[link]]'s apostrophe\n    if (suffix) {\n      obj.text = obj.text || obj.page\n      obj.text += suffix.trim()\n    }\n    //titlecase it, if necessary\n    if (obj.page && /^[A-Z]/.test(obj.page) === false) {\n      if (!obj.text) {\n        obj.text = obj.page\n      }\n      obj.page = obj.page\n    }\n    // support [[:Category:Foo]] syntax\n    if (obj.text && obj.text.startsWith(':')) {\n      obj.text = obj.text.replace(/^:/, '')\n    }\n    links.push(obj)\n    return s\n  })\n  return links\n}\n\n//grab an array of internal links in the text\nconst parse_links = function (str) {\n  let links = []\n  //first, parse external links\n  links = external_links(links, str)\n  //internal links\n  links = internal_links(links, str)\n  if (links.length === 0) {\n    return undefined\n  }\n  return links\n}\nexport default parse_links\n", "import { redirects } from '../_data/i18n.js'\nimport parseLink from '../link/parse.js'\n\n//pulls target link out of redirect page\nconst REDIRECT_REGEX = new RegExp('^[ \\n\\t]*?#(' + redirects.join('|') + ') *?(\\\\[\\\\[.{2,180}?\\\\]\\\\])', 'i')\n\nconst isRedirect = function (wiki) {\n  //too long to be a redirect?\n  if (!wiki) {\n    return false\n  }\n  return REDIRECT_REGEX.test(wiki)\n}\n\nconst parse = function (wiki) {\n  let m = wiki.match(REDIRECT_REGEX)\n  if (m && m[2]) {\n    let links = parseLink(m[2]) || []\n    return links[0]\n  }\n  return {}\n}\n\nexport { isRedirect, parse }\n", "//okay, i know you're not supposed to regex html, but...\n//https://en.wikipedia.org/wiki/Help:HTML_in_wikitext\n\n//these are things we throw-away\n//these will mess-up if they're nested, but they're not usually.\nconst ignore = [\n  'table',\n  'code',\n  'score',\n  'data',\n  'categorytree',\n  'charinsert',\n  'hiero',\n  'imagemap',\n  'inputbox',\n  'references',\n  'source',\n  'syntaxhighlight',\n  'timeline',\n  'maplink',\n]\nconst openTag = `< ?(${ignore.join('|')}) ?[^>]{0,200}?>`\nconst closeTag = `< ?/ ?(${ignore.join('|')}) ?>`\nconst anyChar = '\\\\s\\\\S' //including newline\nconst noThanks = new RegExp(`${openTag}[${anyChar}]+?${closeTag}`, 'gi')\n\nconst kill_xml = function (wiki) {\n  //(<ref> tags are parsed in Section class) - luckily, refs can't be recursive.\n  //types of html/xml that we want to trash completely.\n  wiki = wiki.replace(noThanks, ' ')\n  //some xml-like fragments we can also kill\n  wiki = wiki.replace(/ ?< ?(span|div|table|data) [a-zA-Z0-9=%.\\-#:;'\" ]{2,100}\\/? ?> ?/g, ' ') //<ref name=\"asd\">\n  //only kill ref tags if they are selfclosing\n  wiki = wiki.replace(/ ?< ?(ref) [a-zA-Z0-9=\" ]{2,100}\\/ ?> ?/g, ' ') //<ref name=\"asd\"/>\n\n  // convert these html tags to known formatting\n  wiki = wiki.replace(/<i>(.*?)<\\/i>/g, `''$1''`)\n  wiki = wiki.replace(/<b>(.*?)<\\/b>/g, `'''$1'''`)\n\n  // these are better-handled with templates\n  wiki = wiki.replace(/<sub>(.*?)<\\/sub>/g, `{{sub|$1}}`)\n  wiki = wiki.replace(/<sup>(.*?)<\\/sup>/g, `{{sup|$1}}`)\n  wiki = wiki.replace(/<blockquote>(.*?)<\\/blockquote>/g, `{{blockquote|text=$1}}`)\n\n  //some formatting xml, we'll keep their insides though\n  wiki = wiki.replace(/ ?<[ /]?(p|sub|sup|span|nowiki|div|table|br|tr|td|th|pre|pre2|hr|u)[ /]?> ?/g, ' ') //<sub>, </sub>\n  wiki = wiki.replace(/ ?<[ /]?(abbr|bdi|bdo|cite|del|dfn|em|ins|kbd|mark|q|s|small)[ /]?> ?/g, ' ') //<abbr>, </abbr>\n  wiki = wiki.replace(/ ?<[ /]?h[0-9][ /]?> ?/g, ' ') //<h2>, </h2>\n  wiki = wiki.replace(/ ?< ?br ?\\/> ?/g, '\\n') //<br />\n  return wiki.trim()\n}\nexport default kill_xml\n", "import kill_xml from './kill_xml.js'\n\n/**\n * removes unnecessary strings from the wikitext\n * it is mostly-formatting stuff can be cleaned-up first, to make life easier\n *\n * @private\n * @param {string} wiki the wikitext that needs processing\n * @returns {string} the processed text\n */\nfunction preProcess(wiki) {\n  //remove comments\n  wiki = wiki.replace(/<!--[\\s\\S]{0,3000}?-->/g, '')\n  wiki = wiki.replace(/__(NOTOC|NOEDITSECTION|FORCETOC|TOC)__/gi, '')\n  //signitures\n  wiki = wiki.replace(/~{2,3}/g, '')\n  //windows newlines\n  wiki = wiki.replace(/\\r/g, '')\n  //japanese periods - '。'\n  wiki = wiki.replace(/\\u3002/g, '. ')\n  //horizontal rule\n  wiki = wiki.replace(/----/g, '')\n  //formatting for templates-in-templates...\n  wiki = wiki.replace(/\\{\\{\\}\\}/g, ' – ')\n  wiki = wiki.replace(/\\{\\{\\\\\\}\\}/g, ' / ')\n  // some html escaping\n  wiki = wiki.replace(/&nbsp;/g, ' ')\n  wiki = wiki.replace(/&ndash;/g, '–')\n\n  //give it the inglorious send-off it deserves..\n  wiki = kill_xml(wiki)\n  //({{template}},{{template}}) leaves empty parentheses\n  wiki = wiki.replace(/\\([,;: ]+\\)/g, '')\n  //these templates just screw things up, too\n  wiki = wiki.replace(/\\{\\{(baseball|basketball) (primary|secondary) (style|color).*?\\}\\}/i, '')\n\n  return wiki\n}\nexport default preProcess\n", "//dumpster-dive throws everything into mongodb  - github.com/spencermountain/dumpster-dive\n//mongo has some opinions about what characters are allowed as keys and ids.\n//https://stackoverflow.com/questions/12397118/mongodb-dot-in-key-name/30254815#30254815\nconst specialChar = /[\\\\.$]/\n\n/**\n * this function encodes a string to make it mongodb compatible.\n * https://stackoverflow.com/questions/12397118/mongodb-dot-in-key-name/30254815#30254815\n *\n * @param {string} str\n * @returns {string} the encoded string\n */\nconst encodeStr = function (str) {\n  if (typeof str !== 'string') {\n    str = ''\n  }\n  str = str.replace(/\\\\/g, '\\\\\\\\')\n  str = str.replace(/^\\$/, '\\\\u0024')\n  str = str.replace(/\\./g, '\\\\u002e')\n  return str\n}\n\nconst encodeObj = function (obj = {}) {\n  let keys = Object.keys(obj)\n  for (let i = 0; i < keys.length; i += 1) {\n    if (specialChar.test(keys[i]) === true) {\n      let str = encodeStr(keys[i])\n      if (str !== keys[i]) {\n        obj[str] = obj[keys[i]]\n        delete obj[keys[i]]\n      }\n    }\n  }\n  return obj\n}\n\nexport default encodeObj \n", "import setDefaults from '../_lib/setDefaults.js'\nimport encodeObj from '../_lib/encode.js'\n\nconst defaults = {\n  headers: true,\n  depth: true,\n  paragraphs: true,\n  images: true,\n  tables: true,\n  templates: true,\n  infoboxes: true,\n  lists: true,\n  references: true,\n}\n\n/**\n *\n * @param {object} section\n * @param {object} options\n * @returns {object}\n */\nconst toJSON = function (section, options) {\n  options = setDefaults(options, defaults)\n  /**\n   * @type {object}\n   */\n  let data = {}\n\n  if (options.headers === true) {\n    data.title = section.title()\n  }\n\n  if (options.depth === true) {\n    data.depth = section.depth()\n  }\n\n  //these return objects\n  if (options.paragraphs === true) {\n    let paragraphs = section.paragraphs().map((p) => p.json(options))\n    if (paragraphs.length > 0) {\n      data.paragraphs = paragraphs\n    }\n  }\n\n  //image json data\n  if (options.images === true) {\n    let images = section.images().map((img) => img.json(options))\n    if (images.length > 0) {\n      data.images = images\n    }\n  }\n\n  //table json data\n  if (options.tables === true) {\n    let tables = section.tables().map((t) => t.json(options))\n    if (tables.length > 0) {\n      data.tables = tables\n    }\n  }\n\n  //template json data\n  if (options.templates === true) {\n    let templates = section.templates().map((tmpl) => tmpl.json())\n    if (templates.length > 0) {\n      data.templates = templates\n      //encode them, for mongodb\n      if (options.encode === true) {\n        data.templates.forEach((t) => encodeObj(t))\n      }\n    }\n  }\n  //infobox json data\n  if (options.infoboxes === true) {\n    let infoboxes = section.infoboxes().map((i) => i.json(options))\n    if (infoboxes.length > 0) {\n      data.infoboxes = infoboxes\n    }\n  }\n  //list json data\n  if (options.lists === true) {\n    let lists = section.lists().map((list) => list.json(options))\n    if (lists.length > 0) {\n      data.lists = lists\n    }\n  }\n  //list references - default true\n  if (options.references === true || options.citations === true) {\n    let references = section.references().map((ref) => ref.json(options))\n    if (references.length > 0) {\n      data.references = references\n    }\n  }\n  //default off\n  if (options.sentences === true) {\n    data.sentences = section.sentences().map((s) => s.json(options))\n  }\n  return data\n}\nexport default toJSON\n", "import wikis from '../_data/interwiki.js'\n\nconst defaults = {\n  type: 'internal',\n}\nconst Link = function (data) {\n  data = data || {}\n  data = Object.assign({}, defaults, data)\n  Object.defineProperty(this, 'data', {\n    enumerable: false,\n    value: data,\n  })\n}\nconst methods = {\n  text: function (str) {\n    if (str !== undefined) {\n      this.data.text = str\n    }\n    let txt = this.data.text || this.data.page || ''\n    // remove bold/italics\n    txt = txt.replace(/'{2,}/g, '')\n    return txt\n  },\n  json: function () {\n    let obj = {\n      text: this.data.text,\n      type: this.type(),\n    }\n    if (obj.type === 'internal') {\n      obj.page = this.page()\n    } else if (obj.type === 'interwiki') {\n      obj.wiki = this.wiki()\n      obj.page = this.page()\n    } else {\n      obj.site = this.site()\n    }\n    let anchor = this.anchor()\n    if (anchor) {\n      obj.anchor = anchor\n    }\n    return obj\n  },\n  wikitext: function () {\n    let txt = this.data.raw || ''\n    return txt\n  },\n  page: function (str) {\n    if (str !== undefined) {\n      this.data.page = str\n    }\n    return this.data.page\n  },\n  anchor: function (str) {\n    if (str !== undefined) {\n      this.data.anchor = str\n    }\n    return this.data.anchor || ''\n  },\n  wiki: function (str) {\n    if (str !== undefined) {\n      this.data.wiki = str\n    }\n    return this.data.wiki\n  },\n  type: function (str) {\n    if (str !== undefined) {\n      this.data.type = str\n    }\n    return this.data.type\n  },\n  site: function (str) {\n    if (str !== undefined) {\n      this.data.site = str\n    }\n    return this.data.site\n  },\n  //create a url for any type of link\n  href: function () {\n    let type = this.type()\n    if (type === 'external') {\n      return this.site()\n    }\n    let page = this.page()\n    page = page.replace(/ /g, '_')\n    page = encodeURIComponent(page)\n    let url = ''\n\n    if (type === 'interwiki') {\n      let wiki = this.wiki()\n      url = 'https://en.wikipedia.org/wiki/$1'\n      if (wikis.hasOwnProperty(wiki)) {\n        url = 'http://' + wikis[this.wiki()]\n      }\n      url = url.replace(/\\$1/g, page)\n    } else {\n      //internal link\n      url = `./${this.page()}`\n    }\n    //add anchor on the end\n    if (this.anchor()) {\n      url += '#' + this.anchor()\n    }\n    return url\n  },\n}\nObject.keys(methods).forEach((k) => {\n  Link.prototype[k] = methods[k]\n})\nexport default Link\n", "import Link from './Link.js'\nimport parseLinks from './parse.js'\n\n//return only rendered text of wiki links\nconst removeLinks = function (line) {\n  // [[File:with|Size]]\n  line = line.replace(/\\[\\[File:(.{2,80}?)\\|([^\\]]+)\\]\\](\\w{0,5})/g, '$1')\n  return line\n}\n\nconst getLinks = function (data) {\n  let wiki = data.text\n  let links = parseLinks(wiki) || []\n  data.links = links.map((link) => {\n    wiki = wiki.replace(link.raw, link.text || link.page || '')\n    // delete link.raw\n    return new Link(link)\n  })\n  wiki = removeLinks(wiki)\n  data.text = wiki\n}\nexport default getLinks\n", "//handle the bold/italics\nconst formatting = function (obj) {\n  let bolds = []\n  let italics = []\n  let wiki = obj.text || ''\n  //bold and italics combined 5 's\n  wiki = wiki.replace(/'''''(.{0,2500}?)'''''/g, (a, b) => {\n    bolds.push(b)\n    italics.push(b)\n    return b\n  })\n  //''''four'''' → bold with quotes\n  wiki = wiki.replace(/''''(.{0,2500}?)''''/g, (a, b) => {\n    bolds.push(`'${b}'`)\n    return `'${b}'`\n  })\n  //'''bold'''\n  wiki = wiki.replace(/'''(.{0,2500}?)'''/g, (a, b) => {\n    bolds.push(b)\n    return b\n  })\n  //''italic''\n  wiki = wiki.replace(/''(.{0,2500}?)''/g, (a, b) => {\n    italics.push(b)\n    return b\n  })\n\n  //pack it all up..\n  obj.text = wiki\n  if (bolds.length > 0) {\n    obj.fmt = obj.fmt || {}\n    obj.fmt.bold = bolds\n  }\n  if (italics.length > 0) {\n    obj.fmt = obj.fmt || {}\n    obj.fmt.italic = italics\n  }\n  return obj\n}\nexport default formatting\n", "import setDefaults from '../_lib/setDefaults.js'\nconst isNumber = /^[0-9,.]+$/\n\nconst defaults = {\n  text: true,\n  links: true,\n  formatting: true,\n  numbers: true,\n}\n\n/**\n * @private\n * */\nconst toJSON = function (s, options) {\n  options = setDefaults(options, defaults)\n  let data = {}\n  let text = s.text()\n  if (options.text === true) {\n    data.text = text\n  }\n  //add number field\n  if (options.numbers === true && isNumber.test(text)) {\n    let num = Number(text.replace(/,/g, ''))\n    if (isNaN(num) === false) {\n      data.number = num\n    }\n  }\n  if (options.links && s.links().length > 0) {\n    data.links = s.links().map((l) => l.json())\n  }\n  if (options.formatting && s.data.fmt) {\n    data.formatting = s.data.fmt\n  }\n  return data\n}\nexport default toJSON\n", "import toJSON from './toJson.js'\n\n//where we store the formatting, link, date information\nconst Sentence = function (data = {}) {\n  Object.defineProperty(this, 'data', {\n    enumerable: false,\n    value: data,\n  })\n}\n\nconst methods = {\n  links: function (n) {\n    let arr = this.data.links || []\n    if (typeof n === 'string') {\n      //grab a link like .links('Fortnight')\n      n = n.charAt(0).toUpperCase() + n.substring(1) //titlecase it\n      let link = arr.find((o) => o.page === n)\n      return link === undefined ? [] : [link]\n    }\n    return arr\n  },\n  interwiki: function () {\n    return this.links().filter((l) => l.wiki !== undefined)\n  },\n  bolds: function () {\n    if (this.data && this.data.fmt && this.data.fmt.bold) {\n      return this.data.fmt.bold || []\n    }\n    return []\n  },\n  italics: function () {\n    if (this.data && this.data.fmt && this.data.fmt.italic) {\n      return this.data.fmt.italic || []\n    }\n    return []\n  },\n  text: function (str) {\n    if (str !== undefined && typeof str === 'string') {\n      //set the text?\n      this.data.text = str\n    }\n    return this.data.text || ''\n  },\n  json: function (options) {\n    return toJSON(this, options)\n  },\n  wikitext: function () {\n    return this.data.wiki || ''\n  },\n  isEmpty: function () {\n    return this.data.text === ''\n  },\n}\n\nObject.keys(methods).forEach((k) => {\n  Sentence.prototype[k] = methods[k]\n})\n\n// aliases\nconst singular = {\n  links: 'link',\n  bolds: 'bold',\n  italics: 'italic',\n}\nObject.keys(singular).forEach((k) => {\n  let sing = singular[k]\n  Sentence.prototype[sing] = function (clue) {\n    let arr = this[k](clue)\n    if (typeof clue === 'number') {\n      return arr[clue]\n    }\n    return arr[0]\n  }\n})\n\nSentence.prototype.plaintext = Sentence.prototype.text\n\nexport default Sentence\n", "//these are used for the sentence-splitter\nexport default [\n  'ad',\n  'adj',\n  'adm',\n  'adv',\n  'al',\n  'alta',\n  'approx',\n  'apr',\n  'apt',\n  'arc',\n  'ariz',\n  'assn',\n  'asst',\n  'atty',\n  'aug',\n  'ave',\n  'ba',\n  'bc',\n  'bl',\n  'bldg',\n  'blvd',\n  'brig',\n  'bros',\n  'ca',\n  'cal',\n  'calif',\n  'capt',\n  'cca',\n  'cg',\n  'cl',\n  'cm',\n  'cmdr',\n  'co',\n  'col',\n  'colo',\n  'comdr',\n  'conn',\n  'corp',\n  'cpl',\n  'cres',\n  'ct',\n  'cyn',\n  'dak',\n  'dec',\n  'def',\n  'dept',\n  'det',\n  'dg',\n  'dist',\n  'dl',\n  'dm',\n  'dr',\n  'ea',\n  'eg',\n  'eng',\n  'esp',\n  'esq',\n  'est',\n  'etc',\n  'ex',\n  'exp',\n  'feb',\n  'fem',\n  'fig',\n  'fl oz',\n  'fl',\n  'fla',\n  'fm',\n  'fr',\n  'ft',\n  'fy',\n  'ga',\n  'gal',\n  'gb',\n  'gen',\n  'gov',\n  'hg',\n  'hon',\n  'hr',\n  'hrs',\n  'hwy',\n  'hz',\n  'ia',\n  'ida',\n  'ie',\n  'inc',\n  'inf',\n  'jan',\n  'jd',\n  'jr',\n  'jul',\n  'jun',\n  'kan',\n  'kans',\n  'kb',\n  'kg',\n  'km',\n  'kmph',\n  'lat',\n  'lb',\n  'lit',\n  'llb',\n  'lm',\n  'lng',\n  'lt',\n  'ltd',\n  'lx',\n  'ma',\n  'maj',\n  'mar',\n  'masc',\n  'mb',\n  'md',\n  'messrs',\n  'mg',\n  'mi',\n  'min',\n  'minn',\n  'misc',\n  'mister',\n  'ml',\n  'mlle',\n  'mm',\n  'mme',\n  'mph',\n  'mps',\n  'mr',\n  'mrs',\n  'ms',\n  'mstr',\n  'mt',\n  'neb',\n  'nebr',\n  'nee',\n  'no',\n  'nov',\n  'oct',\n  'okla',\n  'ont',\n  'op',\n  'ord',\n  'oz',\n  'pa',\n  'pd',\n  'penn',\n  'penna',\n  'phd',\n  'pl',\n  'pp',\n  'pref',\n  'prob',\n  'prof',\n  'pron',\n  'ps',\n  'psa',\n  'pseud',\n  'pt',\n  'pvt',\n  'qt',\n  'que',\n  'rb',\n  'rd',\n  'rep',\n  'reps',\n  'res',\n  'rev',\n  'sask',\n  'sec',\n  'sen',\n  'sens',\n  'sep',\n  'sept',\n  'sfc',\n  'sgt',\n  'sir',\n  'situ',\n  'sq ft',\n  'sq',\n  'sr',\n  'ss',\n  'st',\n  'ste',\n  'supt',\n  'surg',\n  'tb',\n  'tbl',\n  'tbsp',\n  'tce',\n  'td',\n  'tel',\n  'temp',\n  'tenn',\n  'tex',\n  'tsp',\n  'univ',\n  'usafa',\n  'ut',\n  'va',\n  'vb',\n  'ver',\n  'vet',\n  'vitro',\n  'vivo',\n  'vol',\n  'vs',\n  'vt',\n  'wis',\n  'wisc',\n  'wr',\n  'wy',\n  'wyo',\n  'yb',\n  'µg',\n]\n", "//split text into sentences, using regex\n//@spencermountain MIT\n\n//(Rule-based sentence boundary segmentation) - chop given text into its proper sentences.\n// Ignore periods/questions/exclamations used in acronyms/abbreviations/numbers, etc.\n// @spencermountain 2015 MIT\nimport literalAbbreviations from './_abbreviations.js'\nconst abbreviations = literalAbbreviations.concat('[^]][^]]')\nconst abbrev_reg = new RegExp(\"(^| |')(\" + abbreviations.join('|') + `)[.!?] ?$`, 'i')\nconst acronym_reg = /[ .'][A-Z].? *$/i\nconst elipses_reg = /\\.{3,} +$/\nconst circa_reg = / c\\.\\s$/\nconst hasWord = /\\p{Letter}/iu\n\n//turn a nested array into one array\nconst flatten = function (arr) {\n  let all = []\n  arr.forEach(function (a) {\n    all = all.concat(a)\n  })\n  return all\n}\n\nconst naiive_split = function (text) {\n  //first, split by newline\n  let splits = text.split(/(\\n+)/)\n  splits = splits.filter((s) => s.match(/\\S/))\n  //split by period, question-mark, and exclamation-mark\n  splits = splits.map(function (str) {\n    return str.split(/(\\S.+?[.!?]\"?)(?=\\s|$)/g) //\\u3002\n  })\n  return flatten(splits)\n}\n\n// if this looks like a period within a wikipedia link, return false\nconst isBalanced = function (str) {\n  str = str || ''\n  const open = str.split(/\\[\\[/) || []\n  const closed = str.split(/\\]\\]/) || []\n  if (open.length > closed.length) {\n    return false\n  }\n  //make sure quotes are closed too\n  const quotes = str.match(/\"/g)\n  if (quotes && quotes.length % 2 !== 0 && str.length < 900) {\n    return false\n  }\n  //make sure quotes are closed too\n  const parens = str.match(/[()]/g)\n  if (parens && parens.length % 2 !== 0 && str.length < 900) {\n    return false\n  }\n  return true\n}\n\nconst sentence_parser = function (text) {\n  let sentences = []\n  //first do a greedy-split..\n  let chunks = []\n  //ensure it 'smells like' a sentence\n  if (!text || typeof text !== 'string' || text.trim().length === 0) {\n    return sentences\n  }\n  // This was the splitter regex updated to fix quoted punctuation marks.\n  // let splits = text.split(/(\\S.+?[.\\?!])(?=\\s+|$|\")/g);\n  // todo: look for side effects in this regex replacement:\n  let splits = naiive_split(text)\n  //filter-out the grap ones\n  for (let i = 0; i < splits.length; i++) {\n    let s = splits[i]\n    if (!s || s === '') {\n      continue\n    }\n    //this is meaningful whitespace\n    if (!s.match(/\\S/)) {\n      //add it to the last one\n      if (chunks[chunks.length - 1]) {\n        chunks[chunks.length - 1] += s\n        continue\n      } else if (splits[i + 1]) {\n        //add it to the next one\n        splits[i + 1] = s + splits[i + 1]\n        continue\n      }\n    }\n    chunks.push(s)\n  }\n\n  //detection of non-sentence chunks\n  const isSentence = function (hmm) {\n    if (hmm.match(abbrev_reg) || hmm.match(acronym_reg) || hmm.match(elipses_reg) || hmm.match(circa_reg)) {\n      return false\n    }\n    //too short? - no consecutive letters\n    if (hasWord.test(hmm) === false) {\n      return false\n    }\n    if (!isBalanced(hmm)) {\n      return false\n    }\n    return true\n  }\n  //loop through these chunks, and join the non-sentence chunks back together..\n  for (let i = 0; i < chunks.length; i++) {\n    //should this chunk be combined with the next one?\n    if (chunks[i + 1] && !isSentence(chunks[i])) {\n      // need a space to connect these?\n      if (!/^\\s/.test(chunks[i + 1]) && !/\\s$/.test(chunks[i])) {\n        chunks[i + 1] = chunks[i] + ' ' + chunks[i + 1]\n      } else {\n        chunks[i + 1] = chunks[i] + chunks[i + 1]\n      }\n    } else if (chunks[i] && chunks[i].length > 0) {\n      //this chunk is a proper sentence..\n      sentences.push(chunks[i])\n      chunks[i] = ''\n    }\n  }\n  //if we never got a sentence, return the given text\n  if (sentences.length === 0) {\n    return [text]\n  }\n  return sentences\n}\n\nexport default sentence_parser\n", "import { trim_whitespace } from '../_lib/helpers.js'\nimport parseLinks from '../link/index.js'\nimport parseFmt from './formatting.js'\nimport Sentence from './Sentence.js'\nimport sentenceParser from './parse.js'\n\n/**\n * This function removes some final characters from the sentence\n *\n * @private\n * @param {string} line the wiki text for processing\n * @returns {string} the processed string\n */\nfunction postprocess(line) {\n  //remove empty parentheses (sometimes caused by removing templates)\n  line = line.replace(/\\([,;: ]*\\)/g, '')\n  //these semi-colons in parentheses are particularly troublesome\n  line = line.replace(/\\( *(; ?)+/g, '(')\n  //dangling punctuation\n  line = trim_whitespace(line)\n  line = line.replace(/ +\\.$/, '.')\n  return line\n}\n\n/**\n * returns one sentence object\n *\n * @param {string} str create a object from a sentence\n * @returns {Sentence} the Sentence created from the text\n */\nfunction fromText(str) {\n  let obj = {\n    wiki: str,\n    text: str,\n  }\n  //pull-out the [[links]]\n  parseLinks(obj)\n  obj.text = postprocess(obj.text)\n  //pull-out the bolds and ''italics''\n  obj = parseFmt(obj)\n  //pull-out things like {{start date|...}}\n  return new Sentence(obj)\n}\n\n//used for consistency with other class-definitions\nconst byParagraph = function (paragraph) {\n  //array of texts\n  let sentences = sentenceParser(paragraph.wiki)\n  //sentence objects\n  sentences = sentences.map(fromText)\n  //remove :indented first line, as it is often a disambiguation\n  if (sentences[0] && sentences[0].text() && sentences[0].text()[0] === ':') {\n    sentences = sentences.slice(1)\n  }\n  paragraph.sentences = sentences\n}\n\nexport { fromText, byParagraph }\n", "//remove top-bottoms\nconst cleanup = function (lines) {\n  lines = lines.filter((line) => {\n    //a '|+' row is a 'table caption', remove it.\n    return line && /^\\|\\+/.test(line) !== true\n  })\n  if (/^\\{\\|/.test(lines[0]) === true) {\n    lines.shift()\n  }\n  if (/^\\|\\}/.test(lines[lines.length - 1]) === true) {\n    lines.pop()\n  }\n  if (/^\\|-/.test(lines[0]) === true) {\n    lines.shift()\n  }\n  return lines\n}\n\n//turn newline seperated into '|-' seperated\nconst findRows = function (lines) {\n  let rows = []\n  let row = []\n  lines = cleanup(lines)\n  for (let i = 0; i < lines.length; i += 1) {\n    let line = lines[i]\n    //'|-' is a row-seperator\n    if (/^\\|-/.test(line) === true) {\n      //okay, we're done the row\n      if (row.length > 0) {\n        rows.push(row)\n        row = []\n      }\n    } else {\n      // remove leading | or ! for the ||/!! splitting\n      let startChar = line.charAt(0)\n      if (startChar === '|' || startChar === '!') {\n        line = line.substring(1)\n      }\n      //look for '||' inline row-splitter\n      line = line.split(/(?:\\|\\||!!)/) //eslint-disable-line\n      // add leading ! back, because we later read it in header parsing functions\n      if (startChar === '!') {\n        line[0] = startChar + line[0]\n      }\n      line.forEach((l) => {\n        l = l.trim()\n        row.push(l)\n      })\n    }\n  }\n  //finish the last one\n  if (row.length > 0) {\n    rows.push(row)\n  }\n  return rows\n}\nexport default findRows\n", "const getRowSpan = /.*rowspan *= *[\"']?([0-9]+)[\"']?[ |]*/\nconst getColSpan = /.*colspan *= *[\"']?([0-9]+)[\"']?[ |]*/\n\n//colspans stretch ←left/right→\nconst doColSpan = function (rows) {\n  rows.forEach((row) => {\n    row.forEach((str, c) => {\n      let m = str.match(getColSpan)\n      if (m !== null) {\n        let num = parseInt(m[1], 10)\n\n        //...maybe if num is so big, and centered, remove it?\n        // if (num > 3) {\n        //   rows[r] = []\n        //   return\n        // }\n        //splice-in n empty columns right here\n        row[c] = str.replace(getColSpan, '')\n        for (let i = 1; i < num; i += 1) {\n          row.splice(c + 1, 0, '')\n        }\n      }\n    })\n  })\n  rows = rows.filter((r) => r.length > 0)\n  return rows\n}\n\n//colspans stretch up/down\nconst doRowSpan = function (rows) {\n  rows.forEach((row, r) => {\n    row.forEach((str, c) => {\n      let m = str.match(getRowSpan)\n      if (m !== null) {\n        let num = parseInt(m[1], 10)\n        //copy this cell down n rows\n        str = str.replace(getRowSpan, '')\n        row[c] = str\n        for (let i = r + 1; i < r + num; i += 1) {\n          if (!rows[i]) {\n            break\n          }\n          rows[i].splice(c, 0, str)\n        }\n      }\n    })\n  })\n  return rows\n}\n\n//\nconst handleSpans = function (rows) {\n  rows = doColSpan(rows)\n  rows = doRowSpan(rows)\n  return rows\n}\nexport default handleSpans\n", "import { fromText as parseSentence } from '../../04-sentence/index.js'\nimport findRows from './_findRows.js'\nimport handleSpans from './_spans.js'\nconst isHeading = /^!/\n\n//common ones\nconst headings = {\n  name: true,\n  age: true,\n  born: true,\n  date: true,\n  year: true,\n  city: true,\n  country: true,\n  population: true,\n  count: true,\n  number: true,\n}\n\n//additional table-cruft to remove before parseLine method\nconst cleanText = function (str) {\n  str = parseSentence(str).text()\n  //anything before a single-pipe is styling, so remove it\n  if (str.match(/\\|/)) {\n    str = str.replace(/.*?\\| ?/, '') //class=\"unsortable\"|title\n  }\n  str = str.replace(/style=['\"].*?[\"']/, '')\n  //'!' is used as a highlighed-column\n  str = str.replace(/^!/, '')\n  // str = str.replace(/\\(.*?\\)/, '')\n  str = str.trim()\n  // str = str.toLowerCase()\n  return str\n}\n\nconst skipSpanRow = function (row) {\n  row = row || []\n  let len = row.length\n  let hasTxt = row.filter((str) => str).length\n  //does it have 3 empty spaces?\n  if (len - hasTxt > 3) {\n    return true\n  }\n  return false\n}\n\n//remove non-header span rows\nconst removeMidSpans = function (rows) {\n  rows = rows.filter((row) => {\n    if (row.length === 1 && row[0] && isHeading.test(row[0]) && /rowspan/i.test(row[0]) === false) {\n      return false\n    }\n    return true\n  })\n  return rows\n}\n\n//'!' starts a header-row\nconst findHeaders = function (rows = []) {\n  let headers = []\n\n  // is the first-row just a ton of colspan?\n  if (skipSpanRow(rows[0])) {\n    rows.shift()\n  }\n\n  let first = rows[0]\n  if (first && first[0] && first[1] && (/^!/.test(first[0]) || /^!/.test(first[1]))) {\n    headers = first.map((h) => {\n      h = h.replace(/^! */, '')\n      h = cleanText(h)\n      return h\n    })\n    rows.shift()\n  }\n  //try the second row, too (overwrite first-row, if it exists)\n  first = rows[0]\n  if (first && first[0] && first[1] && /^!/.test(first[0]) && /^!/.test(first[1])) {\n    first.forEach((h, i) => {\n      h = h.replace(/^! */, '')\n      h = cleanText(h)\n      if (Boolean(h) === true) {\n        headers[i] = h\n      }\n    })\n    rows.shift()\n  }\n  return headers\n}\n\n//turn headers, array into an object\nconst parseRow = function (arr, headers) {\n  let row = {}\n  arr.forEach((str, i) => {\n    let h = headers[i] || 'col' + (i + 1)\n    let s = parseSentence(str)\n    s.text(cleanText(s.text()))\n    row[h] = s\n  })\n  return row\n}\n\n//should we use the first row as a the headers?\nconst firstRowHeader = function (rows) {\n  if (rows.length <= 3) {\n    return []\n  }\n  let headers = rows[0].slice(0)\n  headers = headers.map((h) => {\n    h = h.replace(/^! */, '')\n    h = parseSentence(h).text()\n    h = cleanText(h)\n    h = h.toLowerCase()\n    return h\n  })\n  for (let i = 0; i < headers.length; i += 1) {\n    if (headings.hasOwnProperty(headers[i])) {\n      rows.shift()\n      return headers\n    }\n  }\n  return []\n}\n\n//turn a {|...table string into an array of arrays\nconst parseTable = function (wiki) {\n  let lines = wiki\n    .replace(/\\r/g, '')\n    .replace(/\\n(\\s*[^|!{\\s])/g, ' $1') //remove unecessary newlines\n    .split(/\\n/)\n    .map((l) => l.trim())\n  let rows = findRows(lines)\n  rows = rows.filter((r) => r)\n  if (rows.length === 0) {\n    return []\n  }\n\n  //remove non-header span rows\n  rows = removeMidSpans(rows)\n  //support colspan, rowspan...\n  rows = handleSpans(rows)\n  //grab the header rows\n  let headers = findHeaders(rows)\n  if (!headers || headers.length <= 1) {\n    headers = firstRowHeader(rows)\n    let want = rows[rows.length - 1] || []\n    //try the second row\n    if (headers.length <= 1 && want.length > 2) {\n      headers = firstRowHeader(rows.slice(1))\n      if (headers.length > 0) {\n        rows = rows.slice(2) //remove them\n      }\n    }\n  }\n  //index each column by it's header\n  let table = rows.map((arr) => {\n    return parseRow(arr, headers)\n  })\n  return table\n}\n\nexport default parseTable\n", "import encodeObj from '../_lib/encode.js'\n//\nconst toJson = function (tables, options) {\n  return tables.map((table) => {\n    let row = {}\n    Object.keys(table).forEach((k) => {\n      row[k] = table[k].json() //(they're sentence objects)\n    })\n    //encode them, for mongodb\n    if (options.encode === true) {\n      row = encodeObj(row)\n    }\n    return row\n  })\n}\nexport default toJson\n", "import setDefaults from '../_lib/setDefaults.js'\nimport toJson from './toJson.js'\nconst defaults = {}\n\nconst normalize = function (key = '') {\n  key = key.toLowerCase()\n  key = key.replace(/[_-]/g, ' ')\n  key = key.replace(/\\(.*?\\)/, '')\n  key = key.trim()\n  return key\n}\n\nconst Table = function (data, wiki = '') {\n  Object.defineProperty(this, 'data', {\n    enumerable: false,\n    value: data,\n  })\n  Object.defineProperty(this, '_wiki', {\n    enumerable: false,\n    value: wiki,\n  })\n}\n\nconst methods = {\n  links(n) {\n    let links = []\n    this.data.forEach((r) => {\n      Object.keys(r).forEach((k) => {\n        links = links.concat(r[k].links())\n      })\n    })\n    if (typeof n === 'string') {\n      //grab a link like .links('Fortnight')\n      n = n.charAt(0).toUpperCase() + n.substring(1) //titlecase it\n      let link = links.find((o) => o.page() === n)\n      return link === undefined ? [] : [link]\n    }\n    return links\n  },\n  get(keys) {\n    // normalize mappings\n    let have = this.data[0] || {}\n    let mapping = Object.keys(have).reduce((h, k) => {\n      h[normalize(k)] = k\n      return h\n    }, {})\n    // string gets a flat-list\n    if (typeof keys === 'string') {\n      let key = normalize(keys)\n      key = mapping[key] || key\n      return this.data.map((row) => {\n        return row[key] ? row[key].text() : null\n      })\n    }\n    // array gets obj-list\n    keys = keys.map(normalize).map((k) => mapping[k] || k)\n    return this.data.map((row) => {\n      return keys.reduce((h, k) => {\n        if (row[k]) {\n          h[k] = row[k].text()\n        } else {\n          h[k] = ''\n        }\n        return h\n      }, {})\n    })\n  },\n  keyValue(options) {\n    let rows = this.json(options)\n    rows.forEach((row) => {\n      Object.keys(row).forEach((k) => {\n        row[k] = row[k].text\n      })\n    })\n    return rows\n  },\n  json(options) {\n    options = setDefaults(options, defaults)\n    return toJson(this.data, options)\n  },\n\n  text() {\n    return ''\n  },\n\n  wikitext() {\n    return this._wiki || ''\n  },\n}\nmethods.keyvalue = methods.keyValue\nmethods.keyval = methods.keyValue\n\nObject.keys(methods).forEach((k) => {\n  Table.prototype[k] = methods[k]\n})\nexport default Table\n", "import parseTable from './parse/index.js'\nimport Table from './Table.js'\n//const table_reg = /\\{\\|[\\s\\S]+?\\|\\}/g; //the largest-cities table is ~70k chars.\nconst openReg = /^\\s*\\{\\|/\nconst closeReg = /^\\s*\\|\\}/\n\n//tables can be recursive, so looky-here.\nconst findTables = function (section) {\n  let list = []\n  let wiki = section._wiki\n  let lines = wiki.split('\\n')\n  let stack = []\n  for (let i = 0; i < lines.length; i += 1) {\n    //start a table\n    if (openReg.test(lines[i]) === true) {\n      stack.push(lines[i])\n      continue\n    }\n    //close a table\n    if (closeReg.test(lines[i]) === true) {\n      stack[stack.length - 1] += '\\n' + lines[i]\n      let table = stack.pop()\n      list.push(table)\n      continue\n    }\n    //keep-going on one\n    if (stack.length > 0) {\n      stack[stack.length - 1] += '\\n' + lines[i]\n    }\n  }\n  //work-em together for a Table class\n  let tables = []\n  list.forEach((str) => {\n    if (str) {\n      //also re-remove a newline at the end of the table (awkward)\n      wiki = wiki.replace(str + '\\n', '')\n      wiki = wiki.replace(str, '')\n      let data = parseTable(str)\n      if (data && data.length > 0) {\n        tables.push(new Table(data, str))\n      }\n    }\n  })\n\n  if (tables.length > 0) {\n    section._tables = tables\n  }\n  section._wiki = wiki\n}\n\nexport default findTables\n", "import setDefaults from '../_lib/setDefaults.js'\n\nconst defaults = {\n  sentences: true,\n}\n\nconst toJson = function (p, options) {\n  options = setDefaults(options, defaults)\n  let data = {}\n  if (options.sentences === true) {\n    data.sentences = p.sentences().map((s) => s.json(options))\n  }\n  return data\n}\nexport default toJson\n", "import toJSON from './toJson.js'\nimport setDefaults from '../_lib/setDefaults.js'\nconst defaults = {\n  sentences: true,\n  lists: true,\n  images: true,\n}\n\nconst Paragraph = function (data) {\n  Object.defineProperty(this, 'data', {\n    enumerable: false,\n    value: data,\n  })\n}\n\nconst methods = {\n  sentences: function () {\n    return this.data.sentences || []\n  },\n  references: function () {\n    return this.data.references\n  },\n  lists: function () {\n    return this.data.lists\n  },\n  images() {\n    return this.data.images || []\n  },\n  links: function (clue) {\n    let arr = []\n    this.sentences().forEach((s) => {\n      arr = arr.concat(s.links(clue))\n    })\n    if (typeof clue === 'string') {\n      //grab a specific link like .links('Fortnight')\n      clue = clue.charAt(0).toUpperCase() + clue.substring(1) //titlecase it\n      let link = arr.find((o) => o.page() === clue)\n      return link === undefined ? [] : [link]\n    }\n    return arr || []\n  },\n  interwiki() {\n    let arr = []\n    this.sentences().forEach((s) => {\n      arr = arr.concat(s.interwiki())\n    })\n    return arr || []\n  },\n  text: function (options) {\n    options = setDefaults(options, defaults)\n    let str = this.sentences()\n      .map((s) => s.text(options))\n      .join(' ')\n    this.lists().forEach((list) => {\n      str += '\\n' + list.text()\n    })\n    return str\n  },\n  json: function (options) {\n    options = setDefaults(options, defaults)\n    return toJSON(this, options)\n  },\n  wikitext: function () {\n    return this.data.wiki\n  },\n}\nmethods.citations = methods.references\nObject.keys(methods).forEach((k) => {\n  Paragraph.prototype[k] = methods[k]\n})\n\n// aliases\nconst singular = {\n  sentences: 'sentence',\n  references: 'reference',\n  citations: 'citation',\n  lists: 'list',\n  images: 'image',\n  links: 'link',\n}\nObject.keys(singular).forEach((k) => {\n  let sing = singular[k]\n  Paragraph.prototype[sing] = function (clue) {\n    let arr = this[k](clue)\n    if (typeof clue === 'number') {\n      return arr[clue]\n    }\n    return arr[0]\n  }\n})\n\nexport default Paragraph\n", "/**\n * removes the top and bottom off the template\n * so it removes tje '{{' and '}}'\n *\n * @private\n * @param {string} tmpl the string to be striped\n * @returns {string} the striped string\n */\nconst strip = function (tmpl) {\n  tmpl = tmpl.replace(/^\\{\\{/, '')\n  tmpl = tmpl.replace(/\\}\\}$/, '')\n  return tmpl\n}\nexport default strip\n", "//normalize template names\nconst fmtName = function (name) {\n  name = (name || '').trim()\n  name = name.toLowerCase()\n  name = name.replace(/_/g, ' ')\n  return name\n}\nexport default fmtName\n", "/**\n * turn {{name|one|two|three}} into [name, one, two, three]\n *\n * @private\n * @param {string} tmpl the template text\n * @returns {string[]} a array containing all the split parameters\n */\nconst pipeSplitter = function (tmpl) {\n  //start with a naive '|' split\n  let arr = tmpl.split(/\\n?\\|/)\n  //we've split by '|', which is pretty lame\n  //look for broken-up links and fix them :/\n  arr.forEach((a, i) => {\n    if (a === null) {\n      return\n    }\n    //has '[[' but no ']]'\n    //has equal number of opening and closing tags. handle nested case '[[[[' ']]'\n    if (\n      /\\[\\[[^\\]]+$/.test(a) ||\n      /\\{\\{[^}]+$/.test(a) ||\n      a.split('{{').length !== a.split('}}').length ||\n      a.split('[[').length !== a.split(']]').length\n    ) {\n      arr[i + 1] = arr[i] + '|' + arr[i + 1]\n      arr[i] = null\n    }\n  })\n  //cleanup any mistakes we've made\n  arr = arr.filter((a) => a !== null)\n  arr = arr.map((a) => (a || '').trim())\n\n  //remove empty fields, only at the end:\n  for (let i = arr.length - 1; i >= 0; i -= 1) {\n    if (arr[i] === '') {\n      arr.pop()\n    }\n    break\n  }\n  return arr\n}\nexport default pipeSplitter\n", "//every value in {{tmpl|a|b|c}} needs a name\n//here we come up with names for them\nconst hasKey = /^[\\p{Letter}0-9._/\\- '()\\t]+=/iu\n\n//templates with these properties are asking for trouble\nconst reserved = {\n  template: true,\n  list: true,\n  prototype: true,\n}\n\n/**\n * @typedef parseKeyReturn\n * @property {string} val\n * @property {string} key\n */\n\n/**\n * turn 'key=val' into {key:key, val:val}\n *\n * @param {string} str the string that will be parsed\n * @returns {parseKeyReturn} the spit string\n */\nconst parseKey = function (str) {\n  let parts = str.split('=')\n  let key = parts[0] || ''\n  key = key.toLowerCase().trim()\n  let val = parts.slice(1).join('=')\n  //don't let it be called 'template'..\n  if (reserved.hasOwnProperty(key)) {\n    key = '_' + key\n  }\n  return {\n    key: key,\n    val: val.trim(),\n  }\n}\n\n/**\n * turn [a, b=v, c] into {'1':a, b:v, '2':c}\n *\n * @private\n * @param {string[]} arr the array of parameters\n * @param {string[]} [order] the order in which the parameters are returned\n * @returns {object} and object with the names as the keys and the values as the values\n */\nconst keyMaker = function (arr, order) {\n  let keyIndex = 0\n  return arr.reduce((h, str = '') => {\n    str = str.trim()\n\n    //support named keys - 'foo=bar'\n    if (hasKey.test(str) === true) {\n      let res = parseKey(str)\n      if (res.key) {\n        // don't overwrite if empty\n        if (h[res.key] && !res.val) {\n          return h\n        }\n        h[res.key] = res.val\n        return h\n      }\n    }\n\n    //if the current index is present in the order array then we have a name for the key\n    if (order && order[keyIndex]) {\n      let key = order[keyIndex]\n      h[key] = str\n    } else {\n      h.list = h.list || []\n      h.list.push(str)\n    }\n\n    keyIndex += 1\n    return h\n  }, {})\n}\n\nexport default keyMaker\n", "const whoCares = {\n  classname: true,\n  style: true,\n  align: true,\n  margin: true,\n  left: true,\n  break: true,\n  boxsize: true,\n  framestyle: true,\n  item_style: true,\n  collapsible: true,\n  list_style_type: true,\n  'list-style-type': true,\n  colwidth: true,\n}\n\n//remove wiki-cruft & some styling info from templates\nconst cleanup = function (obj) {\n  Object.keys(obj).forEach((k) => {\n    if (whoCares[k.toLowerCase()] === true) {\n      delete obj[k]\n    }\n    //remove empty values, too\n    if (obj[k] === null || obj[k] === '') {\n      delete obj[k]\n    }\n  })\n  return obj\n}\nexport default cleanup\n", "//remove the top/bottom off the template\nimport strip from './_strip.js'\nimport fmtName from './_fmtName.js'\nimport { fromText as parseSentence } from '../../../04-sentence/index.js'\nimport pipeSplitter from './01-pipe-splitter.js'\nimport keyMaker from './02-keyMaker.js'\nimport cleanup from './03-cleanup.js'\n\n/**\n * most templates just want plaintext...\n *\n * @private\n * @param {str} str\n * @param {'json' | 'raw'} [fmt]\n * @returns {string} text\n */\nconst makeFormat = function (str, fmt) {\n  let s = parseSentence(str)\n  //support various output formats\n  if (fmt === 'json') {\n    return s.json()\n  } else if (fmt === 'raw') {\n    return s\n  }\n  //default to flat text\n  return s.text()\n}\n\n/**\n * parses the parameters of a template to a usable format\n *\n * @private\n * @param {string} tmpl the template text\n * @param {string[]} [order] the order in which the parameters are returned\n * @param {'json' | 'raw'} [fmt] whether you wan to parse the text of the template the raw object or just the text\n * @returns {object} the parameters of the template in a usable format\n */\nconst parser = function (tmpl, order = [], fmt) {\n  //remove {{}}'s and split based on pipes\n  tmpl = strip(tmpl || '')\n  let arr = pipeSplitter(tmpl)\n  //get template name\n  let name = arr.shift()\n\n  //name each value\n  let obj = keyMaker(arr, order)\n\n  //remove wiki-junk\n  obj = cleanup(obj)\n\n  //is this a infobox/reference?\n  //let known = isKnown(obj);\n\n  //using '|1=content' is an escaping-thing..\n  if (obj['1'] && order[0] && obj.hasOwnProperty(order[0]) === false) {\n    //move it over..\n    obj[order[0]] = obj['1']\n    delete obj['1']\n  }\n\n  Object.keys(obj).forEach((k) => {\n    if (k === 'list') {\n      obj[k] = obj[k].map((v) => makeFormat(v, fmt))\n      return\n    }\n    obj[k] = makeFormat(obj[k], fmt)\n  })\n\n  //add the template name\n  if (name) {\n    obj.template = fmtName(name)\n  }\n  return obj\n}\nexport default parser\n", "const opener = '['\nconst closer = ']'\n\n/**\n *\n * find all the pairs of '[[...[[..]]...]]' in the text\n * used to properly root out recursive template calls, [[.. [[...]] ]]\n * basically just adds open tags, and subtracts closing tags\n *\n * @private\n * @param {string} text the text in which is searched in\n * @returns {string[]} all the links in the text\n */\nfunction nested_find(text) {\n  let out = []\n  let last = []\n  const chars = text.split('')\n  let open = 0\n  for (let i = 0; i < chars.length; i++) {\n    const c = text[i]\n    //increment open tag\n    if (c === opener) {\n      open += 1\n    }\n    //decrement close tag\n    else if (c === closer) {\n      open -= 1\n      if (open < 0) {\n        open = 0\n      }\n    } else if (last.length === 0) {\n      //If we're not inside of a pair of delimiters, we can discard the current letter.\n      //The return of this function is only used to extract images.\n      continue\n    }\n\n    last.push(c)\n    if (open === 0 && last.length > 0) {\n      //first, fix botched parse\n      let open_count = 0\n      let close_count = 0\n      for (let j = 0; j < last.length; j++) {\n        if (last[j] === opener) {\n          open_count++\n        } else if (last[j] === closer) {\n          close_count++\n        }\n      }\n      //is it botched?\n      if (open_count > close_count) {\n        last.push(closer)\n      }\n      //looks good, keep it\n      out.push(last.join(''))\n      last = []\n    }\n  }\n  return out\n}\n\nexport default nested_find\n", "import { images } from '../_data/i18n.js'\nimport Image from './Image.js'\nimport parseTemplate from '../template/parse/toJSON/index.js'\nimport { fromText as parseSentence } from '../04-sentence/index.js'\nimport nested_find from './nested_find.js'\n//regexes:\nconst isFile = new RegExp('(' + images.join('|') + '):', 'i')\nlet fileNames = `(${images.join('|')})`\nconst file_reg = new RegExp(fileNames + ':(.+?)[\\\\||\\\\]]', 'iu')\nconst linkToFile = /^\\[\\[:/\n\n//style directives for Wikipedia:Extended_image_syntax\nconst imgLayouts = {\n  thumb: true,\n  thumbnail: true,\n  border: true,\n  right: true,\n  left: true,\n  center: true,\n  top: true,\n  bottom: true,\n  none: true,\n  upright: true,\n  baseline: true,\n  middle: true,\n  sub: true,\n  super: true,\n}\n\n//images are usually [[image:my_pic.jpg]]\nconst oneImage = function (img, doc) {\n  let m = img.match(file_reg)\n  if (m === null || !m[2]) {\n    return null\n  }\n  if (linkToFile.test(img)) {\n    return null\n  }\n  let file = `${m[1]}:${m[2] || ''}`\n  if (file) {\n    let obj = {\n      file: file,\n      lang: doc._lang,\n      domain: doc._domain,\n      wiki: img,\n      pluginData: {}\n    }\n    //try to grab other metadata, too\n    img = img.replace(/^\\[\\[/, '')\n    img = img.replace(/\\]\\]$/, '')\n\n    //https://en.wikipedia.org/wiki/Wikipedia:Extended_image_syntax\n    //- [[File:Name|Type|Border|Location|Alignment|Size|link=Link|alt=Alt|lang=Langtag|Caption]]\n    let imgData = parseTemplate(img)\n    let arr = imgData.list || []\n    //parse-out alt text, if explicitly given\n    if (imgData.alt) {\n      obj.alt = imgData.alt\n    }\n    //remove 'thumb' and things\n    arr = arr.filter((str) => imgLayouts.hasOwnProperty(str) === false)\n    if (arr[arr.length - 1]) {\n      obj.caption = parseSentence(arr[arr.length - 1])\n    }\n    return new Image(obj)\n  }\n  return null\n}\n\nconst parseImages = function (paragraph, doc) {\n  let wiki = paragraph.wiki\n  //parse+remove scary '[[ [[]] ]]' stuff\n  let matches = nested_find(wiki)\n  matches.forEach(function (s) {\n    if (isFile.test(s) === true) {\n      paragraph.images = paragraph.images || []\n      let img = oneImage(s, doc)\n      if (img) {\n        paragraph.images.push(img)\n        wiki = wiki.replace(s, '')\n      }\n    }\n  })\n  paragraph.wiki = wiki\n}\nexport default parseImages\n", "import setDefaults from '../_lib/setDefaults.js'\nconst defaults = {}\n\nconst toText = (list, options) => {\n  return list\n    .map((s) => {\n      let str = s.text(options)\n      return ' * ' + str\n    })\n    .join('\\n')\n}\n\nconst List = function (data, wiki = '') {\n  Object.defineProperty(this, 'data', {\n    enumerable: false,\n    value: data,\n  })\n  Object.defineProperty(this, 'wiki', {\n    enumerable: false,\n    value: wiki,\n  })\n}\n\nconst methods = {\n  lines() {\n    return this.data\n  },\n  links(clue) {\n    let links = []\n    this.lines().forEach((s) => {\n      links = links.concat(s.links())\n    })\n    if (typeof clue === 'string') {\n      //grab a link like .links('Fortnight')\n      clue = clue.charAt(0).toUpperCase() + clue.substring(1) //titlecase it\n      let link = links.find((o) => o.page() === clue)\n      return link === undefined ? [] : [link]\n    }\n    return links\n  },\n  json(options) {\n    options = setDefaults(options, defaults)\n    return this.lines().map((s) => s.json(options))\n  },\n  text() {\n    return toText(this.data)\n  },\n  wikitext() {\n    return this.wiki || ''\n  },\n}\n\nObject.keys(methods).forEach((k) => {\n  List.prototype[k] = methods[k]\n})\nexport default List\n", "import List from './List.js'\nimport { fromText as parseSentence } from '../04-sentence/index.js'\nconst list_reg = /^[#*:;|]+/\nconst bullet_reg = /^\\*+[^:,|]{4}/\nconst number_reg = /^ ?#[^:,|]{4}/\nconst has_word = /[\\p{Letter}_0-9\\]}]/iu\n\n// does it start with a bullet point or something?\nconst isList = function (line) {\n  return list_reg.test(line) || bullet_reg.test(line) || number_reg.test(line)\n}\n\n//make bullets/numbers into human-readable *'s\nconst cleanList = function (list) {\n  let number = 1\n  list = list.filter((l) => l)\n  for (let i = 0; i < list.length; i++) {\n    let line = list[i]\n    //add # numberings formatting\n    if (line.match(number_reg)) {\n      line = line.replace(/^ ?#*/, number + ') ')\n      line = line + '\\n'\n      number += 1\n    } else if (line.match(list_reg)) {\n      number = 1\n      line = line.replace(list_reg, '')\n    }\n    list[i] = parseSentence(line)\n  }\n  return list\n}\n\nconst grabList = function (lines, i) {\n  let sub = []\n  for (let o = i; o < lines.length; o++) {\n    if (isList(lines[o])) {\n      sub.push(lines[o])\n    } else {\n      break\n    }\n  }\n  sub = sub.filter((a) => a && has_word.test(a))\n  sub = cleanList(sub)\n  return sub\n}\n\nconst parseList = function (paragraph) {\n  let wiki = paragraph.wiki\n  let lines = wiki.split(/\\n/g)\n  let lists = []\n  let theRest = []\n  for (let i = 0; i < lines.length; i++) {\n    if (isList(lines[i])) {\n      let sub = grabList(lines, i)\n      if (sub.length > 0) {\n        lists.push(sub)\n        i += sub.length - 1\n      }\n    } else {\n      theRest.push(lines[i])\n    }\n  }\n  paragraph.lists = lists.map((l) => new List(l, wiki))\n  paragraph.wiki = theRest.join('\\n')\n}\nexport default parseList\n", "import Paragraph from './Paragraph.js'\nimport { byParagraph as parseSentences } from '../04-sentence/index.js'\n\nconst twoNewLines = /\\r?\\n\\r?\\n/\nimport parseImage from '../image/index.js'\nimport parseList from '../list/index.js'\n\nconst parseParagraphs = function (section, doc) {\n  let wiki = section._wiki\n  let paragraphs = wiki.split(twoNewLines)\n  //don't create empty paragraphs\n  paragraphs = paragraphs.filter((p) => p && p.trim().length > 0)\n  paragraphs = paragraphs.map((str) => {\n    let paragraph = {\n      wiki: str,\n      lists: [],\n      sentences: [],\n      images: [],\n    }\n    //parse the lists\n    parseList(paragraph)\n    //parse images\n    parseImage(paragraph, doc)\n    //parse the sentences\n    parseSentences(paragraph)\n    return new Paragraph(paragraph)\n  })\n  section._wiki = wiki\n  section._paragraphs = paragraphs\n}\nexport default parseParagraphs\n", "const open = '{'\nconst close = '}'\n\n//grab all first-level recursions of '{{...}}'\nconst findFlat = function (wiki) {\n  let depth = 0\n  let list = []\n  let carry = []\n  for (let i = wiki.indexOf(open); i !== -1 && i < wiki.length; depth > 0 ? i++ : (i = wiki.indexOf(open, i + 1))) {\n    let c = wiki[i]\n    //open it\n    if (c === open) {\n      depth += 1\n    }\n    //close it\n    if (depth > 0) {\n      if (c === close) {\n        depth -= 1\n        if (depth === 0) {\n          carry.push(c)\n          let tmpl = carry.join('')\n          carry = []\n          //last check\n          if (/\\{\\{/.test(tmpl) && /\\}\\}/.test(tmpl)) {\n            list.push(tmpl)\n          }\n          continue\n        }\n      }\n      //require two '{{' to open it\n      if (depth === 1 && c !== open && c !== close) {\n        depth = 0\n        carry = []\n        continue\n      }\n      carry.push(c)\n    }\n  }\n  return list\n}\nexport default findFlat\n", "import fmtName from './_fmtName.js'\n//get the name of the template\n//templates are usually '{{name|stuff}}'\nconst getName = function (tmpl) {\n  let name = null\n  //{{name|foo}}\n  if (/^\\{\\{[^\\n]+\\|/.test(tmpl)) {\n    name = (tmpl.match(/^\\{\\{(.+?)\\|/) || [])[1]\n  } else if (tmpl.indexOf('\\n') !== -1) {\n    // {{name \\n...\n    name = (tmpl.match(/^\\{\\{(.+)\\n/) || [])[1]\n  } else {\n    //{{name here}}\n    name = (tmpl.match(/^\\{\\{(.+?)\\}\\}$/) || [])[1]\n  }\n  if (name) {\n    name = name.replace(/:.*/, '')\n    name = fmtName(name)\n  }\n  return name || null\n}\nexport default getName\n", "import findFlat from './02-flat.js'\nimport getName from '../parse/toJSON/_getName.js'\nconst hasTemplate = /\\{\\{/\n\nconst parseTemplate = function (tmpl) {\n  // this is some unexplained Lua thing\n  return {\n    body: tmpl,\n    name: getName(tmpl),\n    children: [],\n  }\n}\n\nconst doEach = function (obj) {\n  // peel-off top-level\n  let wiki = obj.body.substr(2)\n  wiki = wiki.replace(/\\}\\}$/, '')\n\n  // get our child templates\n  obj.children = findFlat(wiki)\n  obj.children = obj.children.map(parseTemplate)\n\n  if (obj.children.length === 0) {\n    return obj\n  }\n  // recurse through children\n  obj.children.forEach((ch) => {\n    let inside = ch.body.substr(2)\n    if (hasTemplate.test(inside)) {\n      return doEach(ch) //keep going\n    }\n    return null\n  })\n  return obj\n}\n\n// return a nested structure of all templates\nconst findTemplates = function (wiki) {\n  let list = findFlat(wiki)\n  list = list.map(parseTemplate)\n  list = list.map(doEach)\n  return list\n}\n\nexport default findTemplates\n", "//we explicitly ignore these, because they sometimes have resolve some data\nconst list = [\n  //https://en.wikipedia.org/wiki/category:templates_with_no_visible_output\n  'anchor',\n  'defaultsort',\n  'use list-defined references',\n  'void',\n  //https://en.wikipedia.org/wiki/Category:Protection_templates\n  'pp',\n  'pp-move-indef',\n  'pp-semi-indef',\n  'pp-vandalism',\n  //out-of-scope still - https://en.wikipedia.org/wiki/Template:Tag\n  '#tag',\n  //https://en.wikipedia.org/wiki/Template:Navboxes\n  // 'navboxes',\n  // 'reflist',\n  // 'ref-list',\n  'div col',\n  // 'authority control',\n  //https://en.wikipedia.org/wiki/Template:End\n  'pope list end',\n  'shipwreck list end',\n  'starbox end',\n  'end box',\n  'end',\n  's-end',\n]\nconst ignore = list.reduce((h, str) => {\n  h[str] = true\n  return h\n}, {})\nexport default ignore\n", "export default {\n  'gnf protein box': true,\n  'automatic taxobox': true,\n  'chembox ': true,\n  editnotice: true,\n  geobox: true,\n  hybridbox: true,\n  ichnobox: true,\n  infraspeciesbox: true,\n  mycomorphbox: true,\n  oobox: true,\n  'paraphyletic group': true,\n  speciesbox: true,\n  subspeciesbox: true,\n  'starbox short': true,\n  taxobox: true,\n  nhlteamseason: true,\n  'asian games bid': true,\n  'canadian federal election results': true,\n  'dc thomson comic strip': true,\n  'daytona 24 races': true,\n  edencharacter: true,\n  'moldova national football team results': true,\n  samurai: true,\n  protein: true,\n  'sheet authority': true,\n  'order-of-approx': true,\n  'bacterial labs': true,\n  'medical resources': true,\n  ordination: true,\n  'hockey team coach': true,\n  'hockey team gm': true,\n  'pro hockey team': true,\n  'hockey team player': true,\n  'hockey team start': true,\n  mlbbioret: true,\n}\n", "import infoboxList from '../../infobox/_infoboxes.js'\nimport { infoboxes } from '../../_data/i18n.js'\nconst i18nReg = new RegExp('^(subst.)?(' + infoboxes.join('|') + ')(?=:| |\\n|$)', 'i')\ninfoboxes.forEach(name => {\n  infoboxList[name] = true\n})\n\n//some looser ones\nconst startReg = /^infobox /i\nconst endReg = / infobox$/i\nconst yearIn = /^year in [A-Z]/i\n\n//some known ones from\n//https://en.wikipedia.org/wiki/Wikipedia:List_of_infoboxes\n//and https://en.wikipedia.org/wiki/Category:Infobox_templates\nconst isInfobox = function (name) {\n  //known\n  if (infoboxList.hasOwnProperty(name) === true) {\n    return true\n  }\n  if (i18nReg.test(name)) {\n    return true\n  }\n  if (startReg.test(name) || endReg.test(name)) {\n    return true\n  }\n  //these are also infoboxes: 'Year in Belarus'\n  if (yearIn.test(name)) {\n    return true\n  }\n  return false\n}\n\n//turns template data into good infobox data\nconst fmtInfobox = function (obj = {}) {\n  let m = obj.template.match(i18nReg)\n  let type = obj.template\n  if (m && m[0]) {\n    type = type.replace(m[0], '')\n  }\n  type = type.trim()\n  let infobox = {\n    template: 'infobox',\n    type: type,\n    data: obj,\n  }\n  delete infobox.data.template //already have this.\n  delete infobox.data.list //just in case!\n  return infobox\n}\n\nexport { isInfobox, fmtInfobox }\n", "import languages from '../../_data/languages.js'\n\n//aliases\nlet aliases = {\n  imdb: 'imdb name',\n  'imdb episodes': 'imdb episode',\n  localday: 'currentday',\n  localdayname: 'currentdayname',\n  localyear: 'currentyear',\n  'birth date based on age at death': 'birth based on age as of date',\n  'bare anchored list': 'anchored list',\n  cvt: 'convert',\n  cricon: 'flagicon',\n  sfrac: 'frac',\n  sqrt: 'radic',\n  'unreferenced section': 'unreferenced',\n  redir: 'redirect',\n  sisterlinks: 'sister project links',\n  'main article': 'main',\n  by: 'baseball year',\n  aldsy: 'alds year',\n  nldsy: 'nlds year',\n  //not perfect..\n  'str rep': 'replace',\n  ushr2: 'ushr',\n  stn: 'station',\n  metrod: 'metro',\n  fw: 'ferry',\n  rws: 'stnlnk',\n  sclass2: 'sclass',\n  under: 'underline',\n  brackets: 'bracket',\n  raise: 'lower',\n  'born-in': 'born in',\n  'c.': 'circa',\n  'r.': 'reign',\n  frac: 'fraction',\n  rdelim: 'ldelim',\n  abs: 'pipe',\n  'pp.': 'p.',\n  'iss.': 'vol.',\n  h2d: 'hex2dec',\n}\n\n//multiple aliases\nlet multi = {\n  date: ['byline', 'dateline'], //wikinews\n  citation: ['cite', 'source', 'source-pr', 'source-science'],\n\n  'no spam': ['email', '@', 'no spam blue'],\n  'angle bracket': ['angbr', 'infix', 'angbr ipa'],\n\n  'lrt station': ['lrt', 'lrts'],\n  'mrt station': ['mrt', 'mrts'],\n\n  flagcountry: ['cr', 'cr-rt'],\n\n  trunc: ['str left', 'str crop'],\n\n  percentage: ['pct', 'percentage'],\n\n  rnd: ['rndfrac', 'rndnear'],\n\n  abbr: ['tooltip', 'abbrv', 'define'],\n\n  sfn: ['sfnref', 'harvid', 'harvnb'],\n\n  'birth date and age': ['death date and age', 'bda', 'b-da'],\n\n  currentmonth: ['localmonth', 'currentmonthname', 'currentmonthabbrev'],\n\n  currency: ['monnaie', 'unité', 'nombre', 'nb', 'iso4217'],\n\n  coord: ['coor', 'coor title dms', 'coor title dec', 'coor dms', 'coor dm', 'coor dec'],\n\n  'columns-list': ['cmn', 'col-list', 'columnslist', 'collist'],\n\n  nihongo: ['nihongo2', 'nihongo3', 'nihongo-s', 'nihongo foot'],\n\n  plainlist: ['flatlist', 'plain list'],\n\n  'winning percentage': ['winpct', 'winperc'],\n\n  'collapsible list': [\n    'nblist',\n    'nonbulleted list',\n    'ubl',\n    'ublist',\n    'ubt',\n    'unbullet',\n    'unbulleted list',\n    'unbulleted',\n    'unbulletedlist',\n    'vunblist',\n  ],\n\n  'election box begin': [\n    'election box begin no change',\n    'election box begin no party',\n    'election box begin no party no change',\n    'election box inline begin',\n    'election box inline begin no change',\n  ],\n\n  'election box candidate': [\n    'election box candidate for alliance',\n    'election box candidate minor party',\n    'election box candidate no party link no change',\n    'election box candidate with party link',\n    'election box candidate with party link coalition 1918',\n    'election box candidate with party link no change',\n    'election box inline candidate',\n    'election box inline candidate no change',\n    'election box inline candidate with party link',\n    'election box inline candidate with party link no change',\n    'election box inline incumbent',\n  ],\n\n  '4teambracket': [\n    '2teambracket',\n    '4team2elimbracket',\n    '8teambracket',\n    '16teambracket',\n    '32teambracket',\n    '4roundbracket-byes',\n    'cwsbracket',\n    'nhlbracket',\n    'nhlbracket-reseed',\n    '4teambracket-nhl',\n    '4teambracket-ncaa',\n    '4teambracket-mma',\n    '4teambracket-mlb',\n    '16teambracket-two-reseeds',\n    '8teambracket-nhl',\n    '8teambracket-mlb',\n    '8teambracket-ncaa',\n    '8teambracket-afc',\n    '8teambracket-afl',\n    '8teambracket-tennis3',\n    '8teambracket-tennis5',\n    '16teambracket-nhl',\n    '16teambracket-nhl divisional',\n    '16teambracket-nhl-reseed',\n    '16teambracket-nba',\n    '16teambracket-swtc',\n    '16teambracket-afc',\n    '16teambracket-tennis3',\n    '16teambracket-tennis5',\n  ],\n\n  start: [\n    'end',\n    'birth',\n    'death',\n    'start date',\n    'end date',\n    'birth date',\n    'birthdate',\n    'death date',\n    'start date and age',\n    'end date and age',\n    'dob',\n  ],\n\n  'start-date': [\n    'end-date',\n    'birth-date',\n    'death-date',\n    'birth-date and age',\n    'birth-date and given age',\n    'death-date and age',\n    'death-date and given age',\n  ],\n\n  tl: [\n    'lts',\n    't',\n    'tfd links',\n    'tiw',\n    'tltt',\n    'tetl',\n    'tsetl',\n    'ti',\n    'tic',\n    'tiw',\n    'tlt',\n    'ttl',\n    'twlh',\n    'tl2',\n    'tlu',\n    'demo',\n    'xpd',\n    'para',\n    'elc',\n    'xtag',\n    'mli',\n    'mlix',\n    'url', //https://en.wikipedia.org/wiki/Template:URL\n  ],\n\n  // https://en.wikipedia.org/wiki/Template:Done/See_also\n  done: [\n    'resolved mark large',\n    'implemented',\n    'pimplemented',\n    'resolved mark',\n    'accepted',\n    'agree',\n    'approved',\n    'checked2',\n    'verified',\n    'conditional yes',\n    'confirmed',\n    'confirmed-nc',\n    'tallyho',\n    'tick',\n    'helped',\n    'doneu|example',\n    'edited2',\n    'donetask',\n    'unprod',\n    'autp',\n    'responded',\n    'sure',\n    'merge done',\n    'marked',\n    'pass',\n    'aye',\n    'yes check',\n    'y&',\n    'yeac',\n    'yeag',\n  ],\n  xmark: [\n    'expired',\n    'deleted',\n    'not done',\n    'not done empty request',\n    'not done unclear',\n    'not done not likely',\n    'stale-small',\n    'smallrejected',\n    'x mark',\n    'nay',\n    'no mark',\n    'not done-t',\n    'fail',\n    'n&',\n    'x mark-n',\n    'xed box',\n    'cancelled',\n    'deleted-image',\n    'already declined',\n    'opblocked',\n    'user-blocked',\n    'notabug',\n    'notfixed',\n    \"won't fix\",\n    'withdraw',\n    'nojoy',\n    'unrelated',\n    'off-topic talk',\n    'nayc',\n    'nayg',\n  ],\n  checked: ['already done', 'resolved1', 'check mark-n', 'checked box'],\n  // https://en.wikipedia.org/wiki/Template:Ferry\n  'station link': ['amtk', 'cta', 'bts', 'mnrr', 'mtams', 'munis', 'njts', 'scax', 'wmata', 'rwsa'],\n  'video game release': ['vgrelease', 'video game release hlist', 'vgrtbl', 'vgrelease hlist', 'vgrh'],\n  aka: ['a.k.a.', 'also known as'],\n  'literal translation': ['lit', 'literal', 'literally'],\n  'citation needed': [\n    'are you sure?',\n    'cb',\n    'ciation needed',\n    'cit',\n    'cita requerida',\n    'citaiton needed',\n    'citation missing',\n    'citation need',\n    'citation requested',\n    'citation required',\n    'citation-needed',\n    'citationeeded',\n    'citationneeded',\n    'citationrequired',\n    'citazione necessaria',\n    'cite missing',\n    'cite needed',\n    'cite source',\n    'cite-needed',\n    'citeneeded',\n    'citesource',\n    'citn',\n    'cn needed',\n    'cn',\n    'ctn',\n    'fact?',\n    'fact',\n    'facts',\n    'fcitation needed',\n    'me-fact',\n    'need citation',\n    'need sources',\n    'need-ref',\n    'needcitation',\n    'needcite',\n    'needs citation',\n    'needs citations',\n    'needs reference',\n    'needs source',\n    'needs-cite',\n    'needsref',\n    'no source given',\n    'prov-statement',\n    'prove it',\n    'proveit',\n    'ref needed',\n    'ref-needed',\n    'ref?',\n    'reference necessary',\n    'reference needed',\n    'reference required',\n    'refnec',\n    'refneeded',\n    'refplease',\n    'request citation',\n    'source needed',\n    'source?',\n    'sourceme',\n    'uncited',\n    'unreferenced inline',\n    'unsourced-inline',\n  ],\n\n  'en dash': ['ndash', 'nsndns'],\n  'spaced en dash': ['spnd', 'sndash', 'spndash'],\n  'spaced en dash space': ['snds', 'spndsp', 'sndashs', 'spndashsp'],\n  'zero width joiner em dash zero width non joiner': ['nsmdns', 'nsmdashns', 'nsemdashns', 'mdashb'],\n  color: ['colour', 'colored text', 'fgcolor'],\n}\n\n// - other languages -\n// Polish, {{IPAc-pl}}\t{{IPAc-pl|'|sz|cz|e|ć|i|n}} → [ˈʂt͡ʂɛt͡ɕin]\n// Portuguese, {{IPAc-pt}}\t{{IPAc-pt|p|o|<|r|t|u|'|g|a|l|lang=pt}} and {{IPAc-pt|b|r|a|'|s|i|l|lang=br}} → [puɾtuˈɣaɫ] and [bɾaˈsiw]\nObject.keys(languages).forEach((lang) => {\n  aliases['ipa-' + lang] = 'ipa'\n  aliases['ipac-' + lang] = 'ipac'\n})\n\n// add each alias in\nObject.keys(multi).forEach((k) => {\n  multi[k].forEach((str) => {\n    aliases[str] = k\n  })\n})\n\nexport default aliases\n", "export default {\n  '·': '·',\n  dot: '·',\n  middot: '·',\n  '•': ' • ',\n  ',': ',',\n  '=': '=',\n  '1/2': '1⁄2',\n  '1/3': '1⁄3',\n  '2/3': '2⁄3',\n  '1/4': '1⁄4',\n  '3/4': '3⁄4',\n  '–': '–',\n  ndash: '–',\n  'en dash': '–',\n  'spaced ndash': ' – ',\n  '—': '—',\n  mdash: '—',\n  spd: ' – ',\n  'em dash': '—',\n  'number sign': '#',\n  'hash-tag': '#',\n  ibeam: 'I',\n  '&': '&',\n  ';': ';',\n  ampersand: '&',\n  dagger: '†',\n  'double-dagger': '‡',\n  snds: ' – ',\n  snd: ' – ',\n  '^': ' ',\n  '!': '|',\n  \"'\": `'`,\n  '\\\\': ' /',\n  '`': '`',\n  // bracket: '[',\n  '[': '[',\n  '*': '*',\n  asterisk: '*',\n  'long dash': '———',\n  clear: '\\n\\n',\n  'h.': 'ḥ',\n  profit: '▲',\n  // loss: '▼',\n  // gain: '▲',\n  ell: 'ℓ',\n  '1~': '~',\n  '2~': '~~',\n  '3~': '~~~',\n  '4~': '~~~~',\n  '5~': '~~~~~',\n  // some emoji replacements\n  goldmedal: '🥇',\n  silvermedal: '🥈',\n  bronzemedal: '🥉',\n  done: '✅',\n  xmark: '❌',\n  checked: '✔️',\n  'thumbs up': '👍',\n  'thumbs down': '👎',\n  minusplus: '∓',\n  plusminus: '±',\n\n  // 'hbeff début': '{|-\\n',\n  egiptekas: '{|-\\n',\n  langle: '⟨',\n  rangle: '⟩',\n  epsilon: 'ε',\n  xi: '𝜉',\n  Φ: 'Φ',\n  phi: '𝜙',\n  varphi: '𝜑',\n  upsilon: '𝜐',\n  tau: '𝜏',\n  varsigma: '𝜍',\n  sigma: '𝜎',\n  pi: 'π',\n  mu: '𝜇',\n  lambda: '𝜆',\n  kappa: '𝜘',\n  vartheta: '𝜗',\n  theta: '𝜃',\n  varepsilon: '𝜀',\n  gamma: '𝛾',\n  shy: '-',\n  mdashb: '—‌',\n  'spaced en dash': ' –',\n  'spaced en dash space': ' – ',\n  'zero width joiner em dash zero width non joiner': '—‌',\n  colon: ':',\n  pipe: '|',\n  '-?': '?',\n  zwsp: ' ',\n  sp: ' ',\n  px2: ' ',\n  indent: '    ',\n  nb5: '    ',\n  ns: '    ',\n  quad: '    ',\n  spaces: '    ',\n  in5: '     ',\n  tombstone: '◻',\n  // increase: '▲',\n  // decrease: '▼',\n  'no.': '#',\n  'thin space': ' ',\n  thinspace: ' ',\n  'very thin space': ' ',\n  'word joiner': ' ',\n  'figure space': ' ',\n  'zero width joiner': ' ',\n  'hair space': ' ',\n  'narrow no-break space': ' ',\n  'non breaking hyphen': '-',\n  '!((': '[[',\n  '))!': ']]',\n  '(': '{',\n  '((': '{{',\n  '(((': '{{{',\n  ')': '}',\n  '))': '}}',\n  ')))': '}}}',\n  '(!': '{|',\n  '!+': '|+',\n  '!-': '|-',\n  '!)': '|}',\n  flat: '♭',\n  sharp: '♯',\n  lbf: 'lbF',\n  lbm: 'lbm',\n}\n", "//grab the first, second or third pipe..\nlet templates = {\n  p1: 0,\n  p2: 1,\n  p3: 2,\n  resize: 1, //https://en.wikipedia.org/wiki/'Resize',\n  lang: 1,\n  'rtl-lang': 1,\n  'line-height': 1,\n  l: 2,\n  h: 1, //https://en.wikipedia.org/wiki/'Hover_title',\n  sort: 1, //https://en.wikipedia.org/wiki/'Sort',\n  color: 1,\n  'background color': 1,\n}\n\n//templates that we simply grab their insides as plaintext\nlet zeros = [\n  'defn',\n  'lino', //https://en.wikipedia.org/wiki/'Linum',\n  'finedetail', //https://en.wikipedia.org/wiki/'Finedetail',\n  'nobold',\n  'noitalic',\n  'nocaps',\n  'vanchor', //https://en.wikipedia.org/wiki/'Visible_anchor',\n  'rnd',\n  'date', //Explictly-set dates - https://en.wikipedia.org/wiki/'Date',\n  'taste',\n  'monthname',\n  'baseball secondary style',\n  'nowrap',\n  'nobr',\n  'big',\n  'cquote',\n  'pull quote',\n  'smaller',\n  'midsize',\n  'larger',\n  'big',\n  'kbd',\n  'bigger',\n  'large',\n  'mono',\n  'strongbad',\n  'stronggood',\n  'huge',\n  'xt',\n  'xt2',\n  '!xt',\n  'xtn',\n  'xtd',\n  'dc',\n  'dcr',\n  'mxt',\n  '!mxt',\n  'mxtn',\n  'mxtd',\n  'bxt',\n  '!bxt',\n  'bxtn',\n  'bxtd',\n  'delink', //https://en.wikipedia.org/wiki/'Delink',\n  'pre',\n  'var',\n  'mvar',\n  'pre2',\n  'code',\n  'char',\n  'angle bracket',\n  'symb',\n  'dabsearch',\n  'key press', //needs work - https://en.m.wikipedia.org/wiki/'Key_press',\n  // these should escape certain chars\n  'nowiki',\n  'nowiki2',\n  'unstrip',\n  'unstripnowiki',\n  'plain text',\n  'make code',\n  'killmarkers',\n  'longitem',\n  'longlink',\n  'strikethrough',\n  'underline',\n  'uuline',\n  'not a typo',\n  'text',\n  'var serif',\n  'double underline',\n  'nee',\n  'ne',\n  'left',\n  'right',\n  'center',\n  'centered',\n  'justify',\n  'smalldiv',\n  'bold div',\n  'monodiv',\n  'italic div',\n  'bigdiv',\n  'strikethroughdiv',\n  'strikethrough color',\n  'pbpe', //pt\n  'video game release/abbr',\n  'nobel abbr',\n  'gloss',\n  'gcl',\n  'overline',\n  'underline',\n  'overarc',\n  'normal',\n  'norm',\n  'tmath',\n  'vec',\n  'subst',\n  'highlight',\n  'tq',\n  'subst:nft',\n  'subst:nwft',\n  'subst:nfa',\n]\nzeros.forEach((k) => {\n  templates[k] = 0\n})\n\nexport default templates\n", "import parse from '../../parse/toJSON/index.js'\nlet templates = {}\n// these templates all have a predictable pattern\n// {{HSC|Ship Name|ID}} -> [[HSC Name (id)]]\nlet arr = [\n  // ships\n  'mv',\n  'm/v',\n  'gts',\n  'hsc',\n  'ms',\n  'm/s',\n  'my',\n  'm/y',\n  'ps',\n  'rms',\n  'rv',\n  'r/v',\n  'sb',\n  'ss',\n  's/s',\n  'sv',\n  's/v',\n  'sy',\n  's/y',\n  'tss',\n  'ans',\n  'hmas',\n  'hmbs',\n  'bns',\n  'hmcs',\n  'ccgs',\n  'arc',\n  'hdms',\n  'bae',\n  'ens',\n  'eml',\n  'rfns',\n  'fns',\n  'hs',\n  'sms',\n  'smu',\n  'gs',\n  'icgv',\n  'ins',\n  'kri',\n  'lé',\n  'jsub',\n  'jds',\n  'js',\n  'hnlms',\n  'hmnzs',\n  'nns',\n  'hnoms',\n  'hmpngs',\n  'bap',\n  'rps',\n  'brp',\n  'orp',\n  'nrp',\n  'nms',\n  'rss',\n  'sas',\n  'hmsas',\n  'roks',\n  'hswms',\n  'htms',\n  'tcg',\n  'hms',\n  'hmt',\n  'rfaux',\n  'usat',\n  'uscgc',\n  'usns',\n  'usrc',\n  'uss',\n  'usav',\n]\n\narr.forEach((word) => {\n  templates[word] = (tmpl) => {\n    let { name, id } = parse(tmpl, ['name', 'id'])\n    return id ? `[[${word.toUpperCase()} ${name} (${id})]]` : `[[${word.toUpperCase()} ${name}]]`\n  }\n})\n\nlet links = ['no redirect', 'tl-r', 'template link no redirect', 'redirect?', 'subatomic particle', 'auto link', 'bl']\nlinks.forEach((word) => {\n  templates[word] = (tmpl) => {\n    let data = parse(tmpl, ['page', 'text'])\n    if (data.text && data.text !== data.page) {\n      return `[[${data.page}|${data.text}]]`\n    }\n    return `[[${data.page}]]`\n  }\n})\nexport default templates\n", "import languages from '../../_data/languages.js'\n\n//simply num/denom * 100\nconst percentage = function (obj) {\n  if (!obj.numerator && !obj.denominator) {\n    return null\n  }\n  let perc = Number(obj.numerator) / Number(obj.denominator)\n  perc *= 100\n  let dec = Number(obj.decimals)\n  if (isNaN(dec)) {\n    dec = 1\n  }\n  return parseInt(perc, 10)\n}\n\nconst toNumber = function (str = '') {\n  if (typeof str === 'number') {\n    return str\n  }\n  str = str.replace(/,/g, '')\n  str = str.replace(/−/g, '-')\n  let num = Number(str)\n  if (isNaN(num)) {\n    return str\n  }\n  return num\n}\n\nconst getLang = function (name) {\n  //grab the language from the template name - 'ipa-de'\n  let lang = name.match(/ipac?-(.+)/)\n  if (lang !== null) {\n    if (languages.hasOwnProperty(lang[1]) === true) {\n      return languages[lang[1]].english_title\n    }\n    return lang[1]\n  }\n  return null\n}\n\nconst titlecase = (str) => {\n  return str.charAt(0).toUpperCase() + str.substring(1)\n}\n\nconst toOrdinal = function (i) {\n  let j = i % 10\n  let k = i % 100\n  if (j === 1 && k !== 11) {\n    return i + 'st'\n  }\n  if (j === 2 && k !== 12) {\n    return i + 'nd'\n  }\n  if (j === 3 && k !== 13) {\n    return i + 'rd'\n  }\n  return i + 'th'\n}\n\nconst sisterProjects = {\n  wikt: 'wiktionary',\n  commons: 'commons',\n  c: 'commons',\n  commonscat: 'commonscat',\n  n: 'wikinews',\n  q: 'wikiquote',\n  s: 'wikisource',\n  a: 'wikiauthor',\n  b: 'wikibooks',\n  voy: 'wikivoyage',\n  v: 'wikiversity',\n  d: 'wikidata',\n  species: 'wikispecies',\n  m: 'meta',\n  mw: 'mediawiki',\n}\n\nexport {\n  titlecase,\n  sisterProjects,\n  getLang,\n  toOrdinal,\n  percentage,\n  toNumber,\n}\n", "import parse from '../../parse/toJSON/index.js'\nimport strip from '../../parse/toJSON/_strip.js'\nimport { titlecase, percentage, toOrdinal } from '../_lib.js'\nexport default {\n  //https://en.wikipedia.org/wiki/Template:Ra\n  ra: (tmpl) => {\n    let obj = parse(tmpl, ['hours', 'minutes', 'seconds'])\n    return [obj.hours || 0, obj.minutes || 0, obj.seconds || 0].join(':')\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Deg2HMS\n  deg2hms: (tmpl) => {\n    //this template should do the conversion\n    let obj = parse(tmpl, ['degrees'])\n    return (obj.degrees || '') + '°'\n  },\n\n  hms2deg: (tmpl) => {\n    //this template should do the conversion too\n    let obj = parse(tmpl, ['hours', 'minutes', 'seconds'])\n    return [obj.hours || 0, obj.minutes || 0, obj.seconds || 0].join(':')\n  },\n\n  decdeg: (tmpl) => {\n    //this template should do the conversion too\n    let obj = parse(tmpl, ['deg', 'min', 'sec', 'hem', 'rnd'])\n    return (obj.deg || obj.degrees) + '°'\n  },\n  //https://en.wikipedia.org/wiki/Template:Sortname\n  sortname: (tmpl) => {\n    let obj = parse(tmpl, ['first', 'last', 'target', 'sort'])\n    let name = `${obj.first || ''} ${obj.last || ''}`\n    name = name.trim()\n    if (obj.nolink) {\n      return obj.target || name\n    }\n    if (obj.dab) {\n      name += ` (${obj.dab})`\n      if (obj.target) {\n        obj.target += ` (${obj.dab})`\n      }\n    }\n    if (obj.target) {\n      return `[[${obj.target}|${name}]]`\n    }\n    return `[[${name}]]`\n  },\n\n  // https://en.wikipedia.org/wiki/Template:First_word\n  'first word': (tmpl) => {\n    let obj = parse(tmpl, ['text'])\n    let str = obj.text || ''\n    if (obj.sep) {\n      return str.split(obj.sep)[0]\n    }\n    return str.split(' ')[0]\n  },\n\n  trunc: (tmpl) => {\n    let obj = parse(tmpl, ['str', 'len'])\n    return (obj.str || '').substr(0, obj.len)\n  },\n\n  'str mid': (tmpl) => {\n    let obj = parse(tmpl, ['str', 'start', 'end']) || {}\n    let start = parseInt(obj.start, 10) - 1\n    let end = parseInt(obj.end, 10)\n    return (obj.str || '').substr(start, end)\n  },\n\n  reign: (tmpl) => {\n    let obj = parse(tmpl, ['start', 'end'])\n    return `(r. ${obj.start} – ${obj.end})`\n  },\n\n  // https://en.wikipedia.org/wiki/Template:Decade_link\n  'decade link': (tmpl) => {\n    let { year } = parse(tmpl, ['year'])\n    return `${year}|${year}s`\n  },\n\n  // https://en.wikipedia.org/wiki/Template:Decade\n  decade: (tmpl) => {\n    let obj = parse(tmpl, ['year'])\n    let year = Number(obj.year)\n    year = Math.floor(year / 10) * 10 // round to decade\n    return `${year}s`\n  },\n\n  // https://en.wikipedia.org/wiki/Template:Century\n  century: (tmpl) => {\n    let obj = parse(tmpl, ['year'])\n    let year = parseInt(obj.year, 10)\n    year = Math.floor(year / 100) + 1\n    return `${year}`\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Radic\n  radic: (tmpl) => {\n    let obj = parse(tmpl, ['after', 'before'])\n    return `${obj.before || ''}√${obj.after || ''}`\n  },\n\n  'medical cases chart/row': (tmpl) => {\n    // Deprecated template; we keep it.\n    return tmpl\n  },\n\n  //https://en.wikipedia.org/wiki/Template:OldStyleDate\n  oldstyledate: (tmpl) => {\n    let obj = parse(tmpl, ['date', 'year'])\n    return obj.year ? obj.date + ' ' + obj.year : obj.date\n  },\n\n  //formatting things - https://en.wikipedia.org/wiki/Template:Nobold\n  braces: (tmpl) => {\n    let obj = parse(tmpl, ['text'])\n    let attrs = ''\n    if (obj.list) {\n      attrs = '|' + obj.list.join('|')\n    }\n    return '{{' + (obj.text || '') + attrs + '}}'\n  },\n\n  hlist: (tmpl) => {\n    let obj = parse(tmpl)\n    obj.list = obj.list || []\n    return obj.list.join(' · ')\n  },\n\n  pagelist: (tmpl) => {\n    let arr = parse(tmpl).list || []\n    return arr.join(', ')\n  },\n\n  // not perfect - https://en.m.wikipedia.org/wiki/Template:Interlinear\n  interlinear: (tmpl) => {\n    let arr = parse(tmpl).list || []\n    return arr.join('\\n\\n')\n  },\n\n  //actually rendering these links removes the text.\n  //https://en.wikipedia.org/wiki/Template:Catlist\n  catlist: (tmpl) => {\n    let arr = parse(tmpl).list || []\n    return arr.join(', ')\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Br_separated_entries\n  'br separated entries': (tmpl) => {\n    let arr = parse(tmpl).list || []\n    return arr.join('\\n\\n')\n  },\n\n  'comma separated entries': (tmpl) => {\n    let arr = parse(tmpl).list || []\n    return arr.join(', ')\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Bare_anchored_list\n  'anchored list': (tmpl) => {\n    let arr = parse(tmpl).list || []\n    arr = arr.map((str, i) => `${i + 1}. ${str}`)\n    return arr.join('\\n\\n')\n  },\n\n  'bulleted list': (tmpl) => {\n    let arr = parse(tmpl).list || []\n    arr = arr.filter((f) => f)\n    arr = arr.map((str) => '• ' + str)\n    return arr.join('\\n\\n')\n  },\n\n  //a strange, newline-based list - https://en.wikipedia.org/wiki/Template:Plainlist\n  plainlist: (tmpl) => {\n    tmpl = strip(tmpl)\n    let arr = tmpl.split('|').slice(1) //remove the title\n    arr = arr.join('|').split(/\\n ?\\* ?/) //split on newline\n    arr = arr.filter((s) => s)\n    return arr.join('\\n\\n')\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Term\n  term: (tmpl) => {\n    let obj = parse(tmpl, ['term'])\n    return `${obj.term}:`\n  },\n\n  linum: (tmpl) => {\n    let { num, text } = parse(tmpl, ['num', 'text'])\n    return `${num}. ${text}`\n  },\n\n  'block indent': (tmpl) => {\n    let obj = parse(tmpl)\n    if (obj['1']) {\n      return '\\n' + obj['1'] + '\\n'\n    }\n    return ''\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Lbs\n  lbs: (tmpl) => {\n    let obj = parse(tmpl, ['text'])\n    return `[[${obj.text} Lifeboat Station|${obj.text}]]`\n  },\n\n  //Foo-class\n  lbc: (tmpl) => {\n    let obj = parse(tmpl, ['text'])\n    return `[[${obj.text}-class lifeboat|${obj.text}-class]]`\n  },\n\n  lbb: (tmpl) => {\n    let obj = parse(tmpl, ['text'])\n    return `[[${obj.text}-class lifeboat|${obj.text}]]`\n  },\n\n  //https://www.mediawiki.org/wiki/Help:Magic_words#Formatting\n  '#dateformat': (tmpl) => {\n    tmpl = tmpl.replace(/:/, '|')\n    let obj = parse(tmpl, ['date', 'format'])\n    return obj.date\n  },\n\n  //https://www.mediawiki.org/wiki/Help:Magic_words#Formatting\n  lc: (tmpl) => {\n    tmpl = tmpl.replace(/:/, '|')\n    let obj = parse(tmpl, ['text'])\n    return (obj.text || '').toLowerCase()\n  },\n\n  //https://www.mediawiki.org/wiki/Help:Magic_words#Formatting\n  uc: (tmpl) => {\n    tmpl = tmpl.replace(/:/, '|')\n    let obj = parse(tmpl, ['text'])\n    return (obj.text || '').toUpperCase()\n  },\n\n  lcfirst: (tmpl) => {\n    tmpl = tmpl.replace(/:/, '|')\n    let text = parse(tmpl, ['text']).text\n    if (!text) {\n      return ''\n    }\n    return text[0].toLowerCase() + text.substr(1)\n  },\n\n  ucfirst: (tmpl) => {\n    tmpl = tmpl.replace(/:/, '|')\n    let text = parse(tmpl, ['text']).text\n    if (!text) {\n      return ''\n    }\n    return text[0].toUpperCase() + text.substr(1)\n  },\n\n  padleft: (tmpl) => {\n    tmpl = tmpl.replace(/:/, '|')\n    let obj = parse(tmpl, ['text', 'num'])\n    let text = obj.text || ''\n    return text.padStart(obj.num, obj.str || '0')\n  },\n\n  padright: (tmpl) => {\n    tmpl = tmpl.replace(/:/, '|')\n    let obj = parse(tmpl, ['text', 'num'])\n    let text = obj.text || ''\n    return text.padEnd(obj.num, obj.str || '0')\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Abbrlink\n  abbrlink: (tmpl) => {\n    let obj = parse(tmpl, ['abbr', 'page'])\n    if (obj.page) {\n      return `[[${obj.page}|${obj.abbr}]]`\n    }\n    return `[[${obj.abbr}]]`\n  },\n\n  // https://en.wikipedia.org/wiki/Template:Own\n  own: (tmpl) => {\n    let obj = parse(tmpl, ['author'])\n    let str = 'Own work'\n    if (obj.author) {\n      str += ' by ' + obj.author\n    }\n    return str\n  },\n\n  //https://www.mediawiki.org/wiki/Help:Magic_words#Formatting\n  formatnum: (tmpl) => {\n    tmpl = tmpl.replace(/:/, '|')\n    let obj = parse(tmpl, ['number'])\n    let str = obj.number || ''\n    str = str.replace(/,/g, '')\n    let num = Number(str)\n    return num.toLocaleString() || ''\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Frac\n  fraction: (tmpl) => {\n    let obj = parse(tmpl, ['a', 'b', 'c'])\n    if (obj.c) {\n      return `${obj.a} ${obj.b}/${obj.c}`\n    }\n    if (obj.b) {\n      return `${obj.a}/${obj.b}`\n    }\n    return `1/${obj.b}`\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Convert#Ranges_of_values\n  convert: (tmpl) => {\n    let obj = parse(tmpl, ['num', 'two', 'three', 'four'])\n    //todo: support plural units\n    if (obj.two === '-' || obj.two === 'to' || obj.two === 'and') {\n      if (obj.four) {\n        return `${obj.num} ${obj.two} ${obj.three} ${obj.four}`\n      }\n      return `${obj.num} ${obj.two} ${obj.three}`\n    }\n    return `${obj.num} ${obj.two}`\n  },\n\n  // Large number of aliases - https://en.wikipedia.org/wiki/Template:Tl\n  tl: (tmpl) => {\n    let obj = parse(tmpl, ['first', 'second'])\n    return obj.second || obj.first\n  },\n\n  //this one's a little different\n  won: (tmpl) => {\n    let data = parse(tmpl, ['text'])\n    return data.place || data.text || titlecase(data.template)\n  },\n\n  //a convulated way to make a xml tag - https://en.wikipedia.org/wiki/Template:Tag\n  tag: (tmpl) => {\n    let obj = parse(tmpl, ['tag', 'open'])\n    const ignore = {\n      span: true,\n      div: true,\n      p: true,\n    }\n    //pair, empty, close, single\n    if (!obj.open || obj.open === 'pair') {\n      //just skip generating spans and things..\n      if (ignore[obj.tag]) {\n        return obj.content || ''\n      }\n      return `<${obj.tag} ${obj.attribs || ''}>${obj.content || ''}</${obj.tag}>`\n    }\n    return ''\n  },\n\n  //dumb inflector - https://en.wikipedia.org/wiki/Template:Plural\n  plural: (tmpl) => {\n    tmpl = tmpl.replace(/plural:/, 'plural|')\n    let obj = parse(tmpl, ['num', 'word'])\n    let num = Number(obj.num)\n    let word = obj.word\n    if (num !== 1) {\n      if (/.y$/.test(word)) {\n        word = word.replace(/y$/, 'ies')\n      } else {\n        word += 's'\n      }\n    }\n    return num + ' ' + word\n  },\n\n  //https://en.wikipedia.org/wiki/Template:DEC\n  dec: (tmpl) => {\n    let obj = parse(tmpl, ['degrees', 'minutes', 'seconds'])\n    let str = (obj.degrees || 0) + '°'\n    if (obj.minutes) {\n      str += obj.minutes + `′`\n    }\n    if (obj.seconds) {\n      str += obj.seconds + '″'\n    }\n    return str\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Val\n  val: (tmpl) => {\n    let obj = parse(tmpl, ['number', 'uncertainty'])\n    let num = obj.number\n    if (num && Number(num)) {\n      num = Number(num).toLocaleString()\n    }\n    let str = num || ''\n    //prefix/suffix\n    if (obj.p) {\n      str = obj.p + str\n    }\n    if (obj.s) {\n      str = obj.s + str\n    }\n    //add units, too\n    if (obj.u || obj.ul || obj.upl) {\n      str = str + ' ' + (obj.u || obj.ul || obj.upl)\n    }\n    return str\n  },\n\n  //{{percentage | numerator | denominator | decimals to round to (zero or greater) }}\n  percentage: (tmpl) => {\n    let obj = parse(tmpl, ['numerator', 'denominator', 'decimals'])\n    let num = Number(obj.numerator) / Number(obj.denominator)\n    num *= 100\n    if (num === null) {\n      return ''\n    }\n    let dec = Number(obj.decimals) || 0\n    return `${num.toFixed(dec)}%`\n  },\n  // this one is re-used by i18n\n  small: (tmpl) => {\n    let obj = parse(tmpl)\n    if (obj.list && obj.list[0]) {\n      return obj.list[0]\n    }\n    return ''\n  },\n\n  // {{Percent-done|done=N|total=N|digits=N}}\n  'percent-done': (tmpl) => {\n    let obj = parse(tmpl, ['done', 'total', 'digits'])\n    let num = percentage({\n      numerator: obj.done,\n      denominator: obj.total,\n      decimals: obj.digits,\n    })\n    if (num === null) {\n      return ''\n    }\n    return `${obj.done} (${num}%) done`\n  },\n\n  loop: (tmpl) => {\n    let data = parse(tmpl, ['times', 'text'])\n    let n = Number(data.times) || 0\n    let out = ''\n    for (let i = 0; i < n; i += 1) {\n      out += data.text || ''\n    }\n    return out\n  },\n  'str len': (tmpl) => {\n    let data = parse(tmpl, ['text'])\n    return String((data.text || '').trim().length)\n  },\n  digits: (tmpl) => {\n    let data = parse(tmpl, ['text'])\n    return (data.text || '').replace(/[^0-9]/g, '')\n  },\n  resize: (tmpl) => {\n    let { n, text } = parse(tmpl, ['n', 'text'])\n    if (!text) {\n      return n || ''\n    }\n    return text || ''\n  },\n  'last word': (tmpl) => {\n    let data = parse(tmpl, ['text'])\n    let arr = (data.text || '').split(/ /g)\n    return arr[arr.length - 1] || ''\n  },\n  replace: (tmpl) => {\n    let data = parse(tmpl, ['text', 'from', 'to'])\n    if (!data.from || !data.to) {\n      return data.text || ''\n    }\n    return (data.text || '').replace(data.from, data.to)\n  },\n  'title case': (tmpl) => {\n    let data = parse(tmpl, ['text'])\n    let txt = data.text || ''\n    return txt\n      .split(/ /)\n      .map((w, i) => {\n        if ((i > 0 && w === 'the') || w === 'of') {\n          return w\n        }\n        return titlecase(w)\n      })\n      .join(' ')\n  },\n  'no spam': (tmpl) => {\n    let data = parse(tmpl, ['account', 'domain'])\n    return `${data.account || ''}@${data.domain}`\n  },\n  'baseball year': (tmpl) => {\n    let year = parse(tmpl, ['year']).year || ''\n    return `[[${year} in baseball|${year}]]`\n  },\n  'mlb year': (tmpl) => {\n    let year = parse(tmpl, ['year']).year || ''\n    return `[[${year} Major League Baseball season|${year}]]`\n  },\n  'nlds year': (tmpl) => {\n    let { year } = parse(tmpl, ['year'])\n    return `[[${year || ''} National League Division Series|${year}]]`\n  },\n  'alds year': (tmpl) => {\n    let { year } = parse(tmpl, ['year'])\n    return `[[${year || ''} American League Division Series|${year}]]`\n  },\n  'nfl year': (tmpl) => {\n    let { year, other } = parse(tmpl, ['year', 'other'])\n    if (other && year) {\n      return `[[${year} NFL season|${year}]]–[[${other} NFL season|${other}]]`\n    }\n    return `[[${year || ''} NFL season|${year}]]`\n  },\n  'nfl playoff year': (tmpl) => {\n    let { year } = parse(tmpl, ['year'])\n    year = Number(year)\n    let after = year + 1\n    return `[[${year}–${after} NFL playoffs|${year}]]`\n  },\n  'nba year': (tmpl) => {\n    let { year } = parse(tmpl, ['year'])\n    year = Number(year)\n    let after = year + 1\n    return `[[${year}–${after} NBA season|${year}–${after}]]`\n  },\n  'mhl year': (tmpl) => {\n    let data = parse(tmpl, ['year'])\n    let year = Number(data.year)\n    let after = year + 1\n    return `[[${year}–${after} NHL season|${year}–${after}]]`\n  },\n  // some math\n  min: (tmpl) => {\n    let arr = parse(tmpl).list || []\n    let min = Number(arr[0]) || 0\n    arr.forEach((str) => {\n      let n = Number(str)\n      if (!isNaN(n) && n < min) {\n        min = n\n      }\n    })\n    return String(min)\n  },\n  max: (tmpl) => {\n    let arr = parse(tmpl).list || []\n    let max = Number(arr[0]) || 0\n    arr.forEach((str) => {\n      let n = Number(str)\n      if (!isNaN(n) && n > max) {\n        max = n\n      }\n    })\n    return String(max)\n  },\n  // US-politics\n  uspolabbr: (tmpl) => {\n    let { party, state, house } = parse(tmpl, ['party', 'state', 'house', 'link'])\n    if (!party || !state) {\n      return ''\n    }\n    let out = `${party}‑${state}`\n    if (house) {\n      out += ` ${toOrdinal(house)}`\n    }\n    return out\n  },\n  // https://en.wikipedia.org/wiki/Template:Ushr\n  ushr: (tmpl) => {\n    let { state, num, type } = parse(tmpl, ['state', 'num', 'type'])\n    let link = ''\n    if (num === 'AL') {\n      link = `${state}'s at-large congressional district`\n    } else {\n      num = toOrdinal(Number(num))\n      return `${state}'s ${num} congressional district`\n    }\n    if (type) {\n      type = type.toLowerCase()\n      num = num === 'AL' ? 'At-large' : num\n      // there are many of these\n      if (type === 'e') {\n        return `[[${link}|${num}]]`\n      }\n      if (type === 'u') {\n        return `[[${link}|${state}]]`\n      }\n      if (type === 'b' || type === 'x') {\n        return `[[${link}|${state} ${num}]]`\n      }\n    }\n    return `[[${link}]]`\n  },\n\n  // transit station links\n  metro: (tmpl) => {\n    let { name, dab } = parse(tmpl, ['name', 'dab'])\n    if (dab) {\n      return `[[${name} station (${dab})|${name}]]`\n    }\n    return `[[${name} station|${name}]]`\n  },\n  station: (tmpl) => {\n    let { name, dab } = parse(tmpl, ['name', 'x', 'dab'])\n    if (dab) {\n      return `[[${name} station (${dab})|${name}]]`\n    }\n    return `[[${name} station|${name}]]`\n  },\n  bssrws: (tmpl) => {\n    let { one, two } = parse(tmpl, ['one', 'two'])\n    let name = one\n    if (two) {\n      name += ' ' + two\n    }\n    return `[[${name} railway station|${name}]]`\n  },\n  stnlnk: (tmpl) => {\n    let { name, dab } = parse(tmpl, ['name', 'dab'])\n    if (dab) {\n      return `[[${name} railway station (${dab})|${name}]]`\n    }\n    return `[[${name} railway station|${name}]]`\n  },\n  // https://en.wikipedia.org/wiki/Template:Station_link\n  'station link': (tmpl) => {\n    let { station, system } = parse(tmpl, ['system', 'station']) //incomplete\n    return station || system\n  },\n  'line link': (tmpl) => {\n    let { station, system } = parse(tmpl, ['system', 'station']) //incomplete\n    return station || system\n  },\n  subway: (tmpl) => {\n    let { name } = parse(tmpl, ['name'])\n    return `[[${name} subway station|${name}]]`\n  },\n  'lrt station': (tmpl) => {\n    let { name } = parse(tmpl, ['name'])\n    return `[[${name} LRT station|${name}]]`\n  },\n  'mrt station': (tmpl) => {\n    let { name } = parse(tmpl, ['name'])\n    return `[[${name} MRT station|${name}]]`\n  },\n  rht: (tmpl) => {\n    let { name } = parse(tmpl, ['name'])\n    return `[[${name} railway halt|${name}]]`\n  },\n  ferry: (tmpl) => {\n    let { name } = parse(tmpl, ['name'])\n    return `[[${name} ferry wharf|${name}]]`\n  },\n  tram: (tmpl) => {\n    let { name, dab } = parse(tmpl, ['name', 'dab'])\n    if (dab) {\n      return `[[${name} tram stop (${dab})|${name}]]`\n    }\n    return `[[${name} tram stop|${name}]]`\n  },\n  tstop: (tmpl) => {\n    let { name, dab } = parse(tmpl, ['name', 'dab'])\n    if (dab) {\n      return `[[${name} ${dab} stop|${name}]]`\n    }\n    return `[[${name} stop|${name}]]`\n  },\n  // boats\n  ship: (tmpl) => {\n    let { prefix, name, id } = parse(tmpl, ['prefix', 'name', 'id'])\n    prefix = prefix || ''\n    return id ? `[[${prefix.toUpperCase()} ${name}]]` : `[[${prefix.toUpperCase()} ${name}]]`\n  },\n  sclass: (tmpl) => {\n    let { cl, type } = parse(tmpl, ['cl', 'type', 'fmt'])\n    return `[[${cl}-class ${type} |''${cl}''-class]] [[${type}]]`\n  },\n  'center block': (tmpl) => {\n    let { text } = parse(tmpl, ['text'])\n    return text || ''\n  },\n  align: (tmpl) => {\n    let { text } = parse(tmpl, ['dir', 'text'])\n    return text || ''\n  },\n  font: (tmpl) => {\n    let { text } = parse(tmpl, ['text'])\n    return text || ''\n  },\n  float: (tmpl) => {\n    let { text, dir } = parse(tmpl, ['dir', 'text'])\n    if (!text) {\n      return dir\n    }\n    return text || ''\n  },\n  lower: (tmpl) => {\n    let { text, n } = parse(tmpl, ['n', 'text'])\n    if (!text) {\n      return n\n    }\n    return text || ''\n  },\n  splitspan: (tmpl) => {\n    let list = parse(tmpl).list || []\n    return (list[0] || '') + '\\n' + (list[1] || '')\n  },\n  bracket: (tmpl) => {\n    let { text } = parse(tmpl, ['text'])\n    if (text) {\n      return `[${text}]`\n    }\n    return '['\n  },\n\n  // https://en.wikipedia.org/wiki/Template:In_title\n  'in title': (tmpl) => {\n    let { title, text } = parse(tmpl, ['title', 'text'])\n    if (text) {\n      return text\n    }\n    if (title) {\n      return `All pages with titles containing ${title}` //[[Special: ..]]\n    }\n    return ''\n  },\n  'look from': (tmpl) => {\n    let { title, text } = parse(tmpl, ['title', 'text'])\n    if (text) {\n      return text\n    }\n    if (title) {\n      return `All pages with titles beginning with ${title}` //[[Special: ..]]\n    }\n    return ''\n  },\n\n  'literal translation': (tmpl) => {\n    let arr = parse(tmpl).list || []\n    arr = arr.map((str) => `'${str}'`)\n    return 'lit. ' + arr.join(' or ')\n  },\n  overset: (tmpl) => {\n    let data = parse(tmpl, ['over', 'base'])\n    return [data.over || '', data.base || ''].join(' ')\n  },\n  underset: (tmpl) => {\n    let data = parse(tmpl, ['under', 'base'])\n    return [data.base || '', data.under || ''].join(' ')\n  },\n  ceil: (tmpl) => {\n    let data = parse(tmpl, ['txt'])\n    return `⌈${data.txt}⌉`\n  },\n  floor: (tmpl) => {\n    let data = parse(tmpl, ['txt'])\n    return `⌊${data.txt}⌋`\n  },\n  'vol.': (tmpl) => {\n    let data = parse(tmpl, ['n'])\n    return `vol. ${data.n}`\n  },\n  rp: (tmpl) => {\n    let data = parse(tmpl, ['page'])\n    if (data.pages) {\n      return `pp${data.pages}`\n    }\n    return `p. ${data.page || ''}`\n  },\n  gaps: (tmpl) => {\n    let data = parse(tmpl)\n    return data.list.join('  ')\n  },\n  bra: (tmpl) => {\n    let data = parse(tmpl, ['a'])\n    return `⟨${data.a || ''}|`\n  },\n  ket: (tmpl) => {\n    let data = parse(tmpl, ['a'])\n    return `${data.a || ''}⟩`\n  },\n  'angle bracket': (tmpl) => {\n    let data = parse(tmpl, ['txt'])\n    return `⟨${data.txt || ''}⟩`\n  },\n  'bra-ket': (tmpl) => {\n    let data = parse(tmpl, ['a', 'b'])\n    return `⟨${data.a || ''}|${data.b || ''}⟩`\n  },\n  braket: (tmpl) => {\n    let data = parse(tmpl, ['sym', 'a', 'b'])\n    if (data.sym === 'bra') {\n      return `⟨${data.a}|`\n    } else if (data.sym === 'ket') {\n      return `⟨|${data.a || ''}⟩`\n    } else {\n      return `⟨${data.a || ''}|${data.b || ''}⟩`\n    }\n  },\n  pars: (tmpl) => {\n    let data = parse(tmpl, ['text', 's'])\n    return `(${data.text || ''})`\n  },\n  circumfix: (tmpl) => {\n    let data = parse(tmpl, ['text'])\n    return `⟩${data.text || ''}⟨`\n  },\n  fluc: (tmpl) => {\n    let data = parse(tmpl, ['val', 'type'])\n    let n = Number(data.val)\n    if (data['custom label']) {\n      return data['custom label']\n    }\n    if (n > 0) {\n      return ` +${n}` //▲\n    } else if (n < 0) {\n      return ` ${n}` //▼\n    } else if (n === 0) {\n      return ` no change `\n    }\n    return data.val || ''\n  },\n\n  'p.': (tmpl) => {\n    let data = parse(tmpl, ['a', 'b'])\n    if (data.b) {\n      if (parseInt(data.b, 10)) {\n        return `pp. ${data.a}–${data.b}` //page-range\n      } else {\n        return `pp. ${data.a}${data.b}`\n      }\n    }\n    return `p. ${data.a || ''}`\n  },\n  subsup: (tmpl) => {\n    let data = parse(tmpl, ['symbol', 'subscript', 'superscript'])\n    return `${data.symbol || ''} ${data.subscript || ''} ${data.superscript || ''}`\n  },\n  su: (tmpl) => {\n    let data = parse(tmpl, ['p', 'b'])\n    return `${data.p || ''} ${data.b || ''}`\n  },\n  precision: (tmpl) => {\n    let data = parse(tmpl, ['num'])\n    let num = data.num || ''\n    if (!num.match(/\\./) && num.match(/0*$/) && num !== '0') {\n      return num.match(/0*$/)[0].length * -1\n    }\n    let dec = num.split(/\\./)[1] || ''\n    return dec.length\n  },\n  intmath: (tmpl) => {\n    let data = parse(tmpl, ['sign', 'subscript', 'superscript'])\n    const signs = {\n      int: '∫',\n      iint: '∬',\n      iiint: '∭',\n      oint: '∮',\n      varointclockwise: '∲',\n      ointctrclockwise: '∳',\n      oiint: '∯',\n      oiiint: '∰',\n    }\n    return `${signs[data.sign] || ''} ${data.superscript || ''} ${data.subscript || ''} `\n  },\n  ldelim: (tmpl) => {\n    let data = parse(tmpl, ['a', 'b', 'sub', 'sup'])\n    let after = `${data.sub || ''}${data.sup || ''}`\n    if (data.a === 'square') {\n      return `[${data.b || ''}]${after}`\n    } else if (data.a === 'round') {\n      return `(${data.b || ''})${after}`\n    } else if (data.a === 'vert') {\n      return `|${data.b || ''}|${after}`\n    } else if (data.a === 'doublevert') {\n      return `||${data.b || ''}||${after}`\n    }\n    return `${data.b || ''} ${after}`\n  },\n  multiply: (tmpl) => {\n    let data = parse(tmpl, ['a', 'b'])\n    return Number(data.a) * Number(data.b)\n  },\n  sum: (tmpl) => {\n    let data = parse(tmpl, ['a', 'b'])\n    return Number(data.a) + Number(data.b)\n  },\n  round: (tmpl) => {\n    let data = parse(tmpl, ['val', 'decimals'])\n    let n = Number(data.val)\n    //todo: handle decimal place\n    return Math.round(n) || ''\n  },\n  rounddown: (tmpl) => {\n    let data = parse(tmpl, ['val', 'decimals'])\n    let n = Number(data.val)\n    //todo: handle decimal place\n    return Math.floor(n) || ''\n  },\n  roundup: (tmpl) => {\n    let data = parse(tmpl, ['val', 'decimals'])\n    let n = Number(data.val)\n    //todo: handle decimal place\n    return Math.ceil(n) || ''\n  },\n  parity: (tmpl) => {\n    let data = parse(tmpl, ['val', 'even', 'odd'])\n    if (Number(data.val) % 2 === 0) {\n      return data.even || 'even'\n    }\n    return data.odd || 'odd'\n  },\n  hexadecimal: (tmpl) => {\n    let data = parse(tmpl, ['val'])\n    let n = Number(data.val)\n    if (!n) {\n      return data.val\n    }\n    return n.toString(16).toUpperCase()\n  },\n  octal: (tmpl) => {\n    let data = parse(tmpl, ['val'])\n    let n = Number(data.val)\n    if (!n) {\n      return data.val\n    }\n    return n.toString(8).toUpperCase() + '₈'\n  },\n  decimal2base: (tmpl) => {\n    let data = parse(tmpl, ['n', 'radix'])\n    let n = Number(data.n)\n    let radix = Number(data.radix)\n    if (!n || !radix) {\n      return data.n\n    }\n    return n.toString(radix).toUpperCase()\n  },\n  hex2dec: (tmpl) => {\n    let data = parse(tmpl, ['val'])\n    return parseInt(data.val, 16) || data.val\n  },\n  ifnotempty: (tmpl) => {\n    let data = parse(tmpl, ['cond', 'a', 'b'])\n    if (data.cond) {\n      return data.a\n    }\n    return data.b\n  },\n  both: (tmpl) => {\n    let data = parse(tmpl, ['a', 'b'])\n    if (data.a && data.b) {\n      return '1'\n    }\n    return ''\n  },\n  ifnumber: (tmpl) => {\n    let data = parse(tmpl, ['n', 'yes', 'no'])\n    if (!isNaN(Number(data.n))) {\n      return data.yes || '1'\n    }\n    return data.no || ''\n  },\n  'order of magnitude': (tmpl) => {\n    let data = parse(tmpl, ['val'])\n    let num = parseInt(data.val, 10)\n    //todo: support decimal forms\n    if (num || num === 0) {\n      return String(num).length - 1\n    }\n    return '0'\n  },\n  'percent and number': (tmpl) => {\n    let data = parse(tmpl, ['number', 'total', 'decimals'])\n    let n = Number(data.number) / Number(data.total)\n    n *= 100\n    let dec = Number(data.decimals) || 0\n    return `${n.toFixed(dec)}% (${Number(data.number).toLocaleString()})`\n  },\n  music: (tmpl) => {\n    let data = parse(tmpl, ['glyph'])\n    // these have unicode working character subs\n    let glyphs = {\n      flat: '♭',\n      b: '♭',\n      sharp: '♯',\n      '#': '♯',\n      natural: '♮',\n      n: '♮',\n      doubleflat: '𝄫',\n      bb: '𝄫',\n      '##': '𝄪',\n      doublesharp: '𝄪',\n      quarternote: '♩',\n      quarter: '♩',\n      treble: '𝄞',\n      trebleclef: '𝄞',\n      bass: '𝄢',\n      bassclef: '𝄢',\n      altoclef: '𝄡',\n      alto: '𝄡',\n      tenor: '𝄡',\n      tenorclef: '𝄡',\n    }\n    if (glyphs.hasOwnProperty(data.glyph)) {\n      return glyphs[data.glyph]\n    }\n    return ''\n  },\n  simplenuclide: (tmpl) => {\n    let data = parse(tmpl, ['name', 'mass'])\n    return `[[${data.name}|${data.mass || ''}${data.name}]]`\n  },\n  'font color': (tmpl) => {\n    let data = parse(tmpl, ['fg', 'bg', 'text'])\n    if (data.bg && data.text) {\n      return data.text\n    }\n    return data.bg\n  },\n  'colored link': (tmpl) => {\n    let data = parse(tmpl, ['color', 'title', 'text'])\n    return `[[${data.title}|${data.text || data.title}]]`\n  },\n  nftu: (tmpl) => {\n    let data = parse(tmpl, ['age', 'team'])\n    return `${data.team} U${data.age}`\n  },\n  tls: (tmpl) => {\n    let data = parse(tmpl, ['name', 'one', 'two'])\n    let out = `subst:${data.name}`\n    if (data.one) {\n      out += '|' + data.one\n    }\n    if (data.two) {\n      out += '|' + data.two\n    }\n    return `{{${out}}}`\n  },\n}\n", "import parse from '../../parse/toJSON/index.js'\n\nlet shorthands = [\n  // {{HWV|251d}} - handel, bach\n  ['bwv', 'BWV'],\n  ['hwv', 'HWV'],\n  ['d.', 'D '], //Deutsch catalogue\n  ['aka', 'a.k.a. '],\n\n  // date abbreviations\n  ['cf.', 'cf. '],\n  ['fl.', 'fl. '],\n  ['circa', 'c. '],\n  ['born in', 'b. '],\n  ['died-in', 'd. '],\n  ['married-in', 'm. '],\n]\n// create a function for each one\nlet fns = shorthands.reduce((h, a) => {\n  let [name, out] = a\n  h[name] = (tmpl) => {\n    let { first } = parse(tmpl, ['first'])\n    if (first || first === 0) {\n      return out + (first || '')\n    }\n    return out\n  }\n  return h\n}, {})\n\n// return only the name of the template\nlet justNames = [\n  'they',\n  'them',\n  'their',\n  'theirs',\n  'themself',\n  'they are',\n  'they were',\n  'they have',\n  'they do',\n  'he or she',\n  'him or her',\n  'his or her',\n  'his or hers',\n  'he/she',\n  'him/her',\n  'his/her',\n]\njustNames.forEach((str) => {\n  fns[str] = str\n})\n\nexport default fns\n", "import languages from '../../../_data/languages.js'\n\nlet templates = {}\nlet more = [\n  'sr-latn-cyrl', //first parameter latin, second cyrillic\n  'sr-cyrl-latn', //first parameter cyrillic, second latin\n  'sr-latn', //one parameter latin\n  'sr-cyrl', //one parameter cyrillic\n  'sr-cyr',\n  'sh-latn-cyrl', //for both Latin and Cyrillic in that order\n  'sh-cyrl-latn', //for both Cyrillic and Latin in that order\n  'sh-latn', //for Latin\n  'sh-cyrl', //for Cyrillic\n  'cel-1bd',\n  'cel-x-proto',\n  'en-emodeng',\n  'de-at',\n  'de-ch',\n  'gem-x-proto',\n  'gsw-fr',\n  'nds-nl',\n  'nl-be',\n  'ku-arab',\n  'ku-cyrl',\n  'pt-br',\n  'fra-frc',\n  'fra-que',\n  'roa-leo',\n  'roa-nor',\n  'ca-valencia',\n  'ast-leo',\n  'grc-gre',\n  'grc-x-doric',\n  'grc-x-proto',\n  'grc-x-medieval',\n  'cpg',\n  'gmy',\n  'grc',\n  'grk-x-proto',\n  'pnt',\n  'mga',\n  'owl',\n  'pgl',\n  'sga',\n  'wlm',\n  'xbm',\n  'xcb',\n  'xcg',\n  'xpi',\n  'aae',\n  'aln',\n  'sq-definite',\n  'bs-cyrl',\n  'hsb',\n  'ltg',\n  'orv',\n  'prg',\n  'rsk',\n  'rue',\n  'rus',\n  'sgs',\n  'sla',\n  'szl',\n  'wen',\n  'aoa',\n  'chn',\n  'cri',\n  'dlm',\n  'egl',\n  'fax',\n  'frc',\n  'frm',\n  'fro',\n  'fr-gallo',\n  'oc-gascon',\n  'gcf',\n  'gcr',\n  'ist',\n  'la-x-medieval',\n  'lij-mc',\n  'lld',\n  'lou',\n  'mfe',\n  'mol',\n  'mwl',\n  'mxi',\n  'nrf',\n  'osc',\n  'osp',\n  'pcd',\n  'pln',\n  'rcf',\n  'rgn',\n  'roa',\n  'ruo',\n  'rup',\n  'ruq',\n  'sdc',\n  'sdn',\n  'src',\n  'sro',\n  'xvo',\n  'bzj',\n  'cim',\n  'dum',\n  'enm',\n  'frk',\n  'frr',\n  'frs',\n  'gmh',\n  'gml',\n  'gmw',\n  'goh',\n  'gos',\n  'gsw',\n  'gyn',\n  'icr',\n  'jam',\n  'kri',\n  'lng',\n  'nb',\n  'non',\n  'nrn',\n  'odt',\n  'ofs',\n  'osx',\n  'pey',\n  'sli',\n  'srm',\n  'srn',\n  'stq',\n  'swg',\n  'vmf',\n  'wae',\n  'wep',\n  'wes',\n  'zea',\n  'hmd',\n  'hoc',\n  'kha',\n  'mnw',\n  'mtq',\n  'vi-chunom',\n  'vi-hantu',\n  'mvi',\n  'rys',\n  'ryu',\n  'yoi',\n  'ace',\n  'akl',\n  'ami',\n  'bew',\n  'bik',\n  'bjn',\n  'bya',\n  'cal',\n  'cbk',\n  'cjm',\n  'coa',\n  'cyo',\n  'dev',\n  'fil',\n  'gad',\n  'hil',\n  'iba',\n  'ibg',\n  'ibl',\n  'ilp',\n  'itv',\n  'ivv',\n  'jax',\n  'kne',\n  'krj',\n  'kxd',\n  'ljp',\n  'mad',\n  'mak',\n  'mdh',\n  'mrv',\n  'mrw',\n  'ms-arab',\n  'nia',\n  'niu',\n  'pau',\n  'pwn',\n  'rap',\n  'rar',\n  'sgd',\n  'su-fonts',\n  'szy',\n  'tao',\n  'tkl',\n  'tsg',\n  'tvl',\n  'uli',\n  'wls',\n  'xsb',\n  'yap',\n  'yka',\n  'ckt',\n  'itl',\n  'brh',\n  'oty',\n  'tcy',\n  'abq',\n  'ady',\n  'ddo',\n  'inh',\n  'kbd',\n  'lbe',\n  'lez',\n  'rut',\n  'tab',\n  'uby',\n  'udi',\n  'bai',\n  'bin',\n  'bsq',\n  'dag',\n  'dyu',\n  'efi',\n  'fan',\n  'fmp',\n  'fuc',\n  'fuf',\n  'gaa',\n  'ibb',\n  'kbp',\n  'kcg',\n  'kpo',\n  'ktu',\n  'lu',\n  'lua',\n  'lun',\n  'mkw',\n  'mos',\n  'oaa',\n  'sjo',\n  'ude',\n  'anm',\n  'bft',\n  'blk',\n  'brx',\n  'dng',\n  'kjp',\n  'kjz',\n  'ksw',\n  'lbj',\n  'lus',\n  'aae',\n  'aaq',\n  'abe',\n  'abq',\n  'aca',\n  'ace',\n  'acf',\n  'acm',\n  'acw',\n  'ady',\n  'ae',\n  'aeb',\n  'aec',\n  'aer',\n  'afb',\n  'aht',\n  'aii',\n  'aij',\n  'ain',\n  'aiq',\n  'akk',\n  'akl',\n  'akz',\n  'ale',\n  'aln',\n  'alq',\n  'alt',\n  'ami',\n  'anm',\n  'aoa',\n  'apj',\n  'apm',\n  'apw',\n  'ayn',\n  'arb',\n  'arh',\n  'ari',\n  'arn',\n  'arp',\n  'arq',\n  'ary',\n  'arz',\n  'asb',\n  'ath',\n  'ats',\n  'awa',\n  'axm',\n  'azb',\n  'azd',\n  'azj',\n  'bai',\n  'bal',\n  'ban',\n  'bax',\n  'bdz',\n  'bea',\n  'ber',\n  'bew',\n  'bft',\n  'bgn',\n  'bho',\n  'bik',\n  'bin',\n  'bjn',\n  'bla',\n  'blc',\n  'blk',\n  'bqi',\n  'brh',\n  'brx',\n  'bsk',\n  'bsq',\n  'bua',\n  'bvb',\n  'bya',\n  'bzj',\n  'cal',\n  'cay',\n  'cbk',\n  'ccp',\n  'chg',\n  'chm',\n  'chn',\n  'chp',\n  'cic',\n  'cim',\n  'ciw',\n  'cjm',\n  'cjs',\n  'ckb',\n  'ckt',\n  'cku',\n  'cld',\n  'clm',\n  'cmg',\n  'cmn',\n  'cms',\n  'cnu',\n  'coa',\n  'coc',\n  'coj',\n  'com',\n  'coo',\n  'cop',\n  'cpg',\n  'crg',\n  'crh',\n  'cri',\n  'crj',\n  'crk',\n  'crl',\n  'crm',\n  'cro',\n  'csw',\n  'csz',\n  'ctg',\n  'ctm',\n  'cyo',\n  'dag',\n  'dak',\n  'ddo',\n  'deh',\n  'del',\n  'den',\n  'dev',\n  'din',\n  'dlm',\n  'dng',\n  'dum',\n  'dyu',\n  'efi',\n  'egl',\n  'egy',\n  'elx',\n  'eml',\n  'ems',\n  'cmn',\n  'och',\n  'yue',\n  'mjw',\n  'mni',\n  'my-name-mlcts',\n  'nan',\n  'nwc',\n  'omp',\n  'otb',\n  'pwo',\n  'sip',\n  'xct',\n  'xsr',\n  '1ca',\n  'alt',\n  'az-arab',\n  'azb',\n  'azj',\n  'chg',\n  'cjs',\n  'crh',\n  'crh3',\n  'kaa',\n  'kjh',\n  'krc',\n  'kum',\n  'nog',\n  'ota',\n  'otk',\n  'sah',\n  'slr',\n  'sty',\n  'tt-arab',\n  'tt-cyrl',\n  'tt-latn',\n  'tyv',\n  'uniturk',\n  'chm',\n  'est-sea',\n  'fit',\n  'fkv',\n  'izh',\n  'jmy',\n  'koi',\n  'krl',\n  'liv',\n  'mdf',\n  'mhr',\n  'mrj',\n  'myv',\n  'olo',\n  'sia',\n  'sjd',\n  'sje',\n  'sjk',\n  'sjt',\n  'sju',\n  'sma',\n  'smi',\n  'smj',\n  'smn',\n  'sms',\n  'vep',\n  'vot',\n  'vro',\n  'yrk',\n  'din',\n  'luo',\n  'srr',\n  'sus',\n  'swh',\n  'umb',\n  'yao',\n]\n\n// more languages\nmore.forEach((k) => {\n  templates['lang-' + k] = 0\n})\n\n//https://en.wikipedia.org/wiki/Category:Lang-x_templates\nObject.keys(languages).forEach((k) => {\n  templates['lang-' + k] = 0\n})\nexport default templates\n", "export default [\n  ['🇦🇩', 'and', 'andorra'],\n  ['🇦🇪', 'are', 'united arab emirates'],\n  ['🇦🇫', 'afg', 'afghanistan'],\n  ['🇦🇬', 'atg', 'antigua and barbuda'],\n  ['🇦🇮', 'aia', 'anguilla'],\n  ['🇦🇱', 'alb', 'albania'],\n  ['🇦🇲', 'arm', 'armenia'],\n  ['🇦🇴', 'ago', 'angola'],\n  ['🇦🇶', 'ata', 'antarctica'],\n  ['🇦🇷', 'arg', 'argentina'],\n  ['🇦🇸', 'asm', 'american samoa'],\n  ['🇦🇹', 'aut', 'austria'],\n  ['🇦🇺', 'aus', 'australia'],\n  ['🇦🇼', 'abw', 'aruba'],\n  ['🇦🇽', 'ala', 'åland islands'],\n  ['🇦🇿', 'aze', 'azerbaijan'],\n  ['🇧🇦', 'bih', 'bosnia and herzegovina'],\n  ['🇧🇧', 'brb', 'barbados'],\n  ['🇧🇩', 'bgd', 'bangladesh'],\n  ['🇧🇪', 'bel', 'belgium'],\n  ['🇧🇫', 'bfa', 'burkina faso'],\n  ['🇧🇬', 'bgr', 'bulgaria'],\n  ['🇧🇬', 'bul', 'bulgaria'], //dupe\n  ['🇧🇭', 'bhr', 'bahrain'],\n  ['🇧🇮', 'bdi', 'burundi'],\n  ['🇧🇯', 'ben', 'benin'],\n  ['🇧🇱', 'blm', 'saint barthélemy'],\n  ['🇧🇲', 'bmu', 'bermuda'],\n  ['🇧🇳', 'brn', 'brunei darussalam'],\n  ['🇧🇴', 'bol', 'bolivia'],\n  ['🇧🇶', 'bes', 'bonaire, sint eustatius and saba'],\n  ['🇧🇷', 'bra', 'brazil'],\n  ['🇧🇸', 'bhs', 'bahamas'],\n  ['🇧🇹', 'btn', 'bhutan'],\n  ['🇧🇻', 'bvt', 'bouvet island'],\n  ['🇧🇼', 'bwa', 'botswana'],\n  ['🇧🇾', 'blr', 'belarus'],\n  ['🇧🇿', 'blz', 'belize'],\n  ['🇨🇦', 'can', 'canada'],\n  ['🇨🇨', 'cck', 'cocos (keeling) islands'],\n  ['🇨🇩', 'cod', 'congo'],\n  ['🇨🇫', 'caf', 'central african republic'],\n  ['🇨🇬', 'cog', 'congo'],\n  ['🇨🇭', 'che', 'switzerland'],\n  ['🇨🇮', 'civ', \"côte d'ivoire\"],\n  ['🇨🇰', 'cok', 'cook islands'],\n  ['🇨🇱', 'chl', 'chile'],\n  ['🇨🇲', 'cmr', 'cameroon'],\n  ['🇨🇳', 'chn', 'china'],\n  ['🇨🇴', 'col', 'colombia'],\n  ['🇨🇷', 'cri', 'costa rica'],\n  ['🇨🇺', 'cub', 'cuba'],\n  ['🇨🇻', 'cpv', 'cape verde'],\n  ['🇨🇼', 'cuw', 'curaçao'],\n  ['🇨🇽', 'cxr', 'christmas island'],\n  ['🇨🇾', 'cyp', 'cyprus'],\n  ['🇨🇿', 'cze', 'czech republic'],\n  ['🇩🇪', 'deu', 'germany'],\n  ['🇩🇪', 'ger', 'germany'], //alias\n  ['🇩🇯', 'dji', 'djibouti'],\n  ['🇩🇰', 'dnk', 'denmark'],\n  ['🇩🇲', 'dma', 'dominica'],\n  ['🇩🇴', 'dom', 'dominican republic'],\n  ['🇩🇿', 'dza', 'algeria'],\n  ['🇪🇨', 'ecu', 'ecuador'],\n  ['🇪🇪', 'est', 'estonia'],\n  ['🇪🇬', 'egy', 'egypt'],\n  ['🇪🇭', 'esh', 'western sahara'],\n  ['🇪🇷', 'eri', 'eritrea'],\n  ['🇪🇸', 'esp', 'spain'],\n  ['🇪🇹', 'eth', 'ethiopia'],\n  ['🇫🇮', 'fin', 'finland'],\n  ['🇫🇯', 'fji', 'fiji'],\n  ['🇫🇰', 'flk', 'falkland islands (malvinas)'],\n  ['🇫🇲', 'fsm', 'micronesia'],\n  ['🇫🇴', 'fro', 'faroe islands'],\n  ['🇫🇷', 'fra', 'france'],\n  ['🇬🇦', 'gab', 'gabon'],\n  ['🇬🇧', 'gbr', 'united kingdom'],\n  ['🇬🇩', 'grd', 'grenada'],\n  //['🇬🇪', 'geo', 'georgia'],\n  ['🇬🇫', 'guf', 'french guiana'],\n  ['🇬🇬', 'ggy', 'guernsey'],\n  ['🇬🇭', 'gha', 'ghana'],\n  ['🇬🇮', 'gib', 'gibraltar'],\n  ['🇬🇱', 'grl', 'greenland'],\n  ['🇬🇲', 'gmb', 'gambia'],\n  ['🇬🇳', 'gin', 'guinea'],\n  ['🇬🇵', 'glp', 'guadeloupe'],\n  ['🇬🇶', 'gnq', 'equatorial guinea'],\n  ['🇬🇷', 'grc', 'greece'],\n  ['🇬🇸', 'sgs', 'south georgia'],\n  ['🇬🇹', 'gtm', 'guatemala'],\n  ['🇬🇺', 'gum', 'guam'],\n  ['🇬🇼', 'gnb', 'guinea-bissau'],\n  ['🇬🇾', 'guy', 'guyana'],\n  ['🇭🇰', 'hkg', 'hong kong'],\n  ['🇭🇲', 'hmd', 'heard island and mcdonald islands'],\n  ['🇭🇳', 'hnd', 'honduras'],\n  ['🇭🇷', 'hrv', 'croatia'],\n  ['🇭🇹', 'hti', 'haiti'],\n  ['🇭🇺', 'hun', 'hungary'],\n  ['🇮🇩', 'idn', 'indonesia'],\n  ['🇮🇪', 'irl', 'ireland'],\n  ['🇮🇱', 'isr', 'israel'],\n  ['🇮🇲', 'imn', 'isle of man'],\n  ['🇮🇳', 'ind', 'india'],\n  ['🇮🇴', 'iot', 'british indian ocean territory'],\n  ['🇮🇶', 'irq', 'iraq'],\n  ['🇮🇷', 'irn', 'iran'],\n  ['🇮🇸', 'isl', 'iceland'],\n  ['🇮🇹', 'ita', 'italy'],\n  ['🇯🇪', 'jey', 'jersey'],\n  ['🇯🇲', 'jam', 'jamaica'],\n  ['🇯🇴', 'jor', 'jordan'],\n  ['🇯🇵', 'jpn', 'japan'],\n  ['🇰🇪', 'ken', 'kenya'],\n  ['🇰🇬', 'kgz', 'kyrgyzstan'],\n  ['🇰🇭', 'khm', 'cambodia'],\n  ['🇰🇮', 'kir', 'kiribati'],\n  ['🇰🇲', 'com', 'comoros'],\n  ['🇰🇳', 'kna', 'saint kitts and nevis'],\n  ['🇰🇵', 'prk', 'north korea'],\n  ['🇰🇷', 'kor', 'south korea'],\n  ['🇰🇼', 'kwt', 'kuwait'],\n  ['🇰🇾', 'cym', 'cayman islands'],\n  ['🇰🇿', 'kaz', 'kazakhstan'],\n  ['🇱🇦', 'lao', \"lao people's democratic republic\"],\n  ['🇱🇧', 'lbn', 'lebanon'],\n  ['🇱🇨', 'lca', 'saint lucia'],\n  ['🇱🇮', 'lie', 'liechtenstein'],\n  ['🇱🇰', 'lka', 'sri lanka'],\n  ['🇱🇷', 'lbr', 'liberia'],\n  ['🇱🇸', 'lso', 'lesotho'],\n  ['🇱🇹', 'ltu', 'lithuania'],\n  ['🇱🇺', 'lux', 'luxembourg'],\n  ['🇱🇻', 'lva', 'latvia'],\n  ['🇱🇾', 'lby', 'libya'],\n  ['🇲🇦', 'mar', 'morocco'],\n  ['🇲🇨', 'mco', 'monaco'],\n  ['🇲🇩', 'mda', 'moldova'],\n  ['🇲🇪', 'mne', 'montenegro'],\n  ['🇲🇫', 'maf', 'saint martin (french part)'],\n  ['🇲🇬', 'mdg', 'madagascar'],\n  ['🇲🇭', 'mhl', 'marshall islands'],\n  ['🇲🇰', 'mkd', 'macedonia'],\n  ['🇲🇱', 'mli', 'mali'],\n  ['🇲🇲', 'mmr', 'myanmar'],\n  ['🇲🇳', 'mng', 'mongolia'],\n  ['🇲🇴', 'mac', 'macao'],\n  ['🇲🇵', 'mnp', 'northern mariana islands'],\n  ['🇲🇶', 'mtq', 'martinique'],\n  ['🇲🇷', 'mrt', 'mauritania'],\n  ['🇲🇸', 'msr', 'montserrat'],\n  ['🇲🇹', 'mlt', 'malta'],\n  ['🇲🇺', 'mus', 'mauritius'],\n  ['🇲🇻', 'mdv', 'maldives'],\n  ['🇲🇼', 'mwi', 'malawi'],\n  ['🇲🇽', 'mex', 'mexico'],\n  ['🇲🇾', 'mys', 'malaysia'],\n  ['🇲🇿', 'moz', 'mozambique'],\n  ['🇳🇦', 'nam', 'namibia'],\n  ['🇳🇨', 'ncl', 'new caledonia'],\n  ['🇳🇪', 'ner', 'niger'],\n  ['🇳🇫', 'nfk', 'norfolk island'],\n  ['🇳🇬', 'nga', 'nigeria'],\n  ['🇳🇮', 'nic', 'nicaragua'],\n  ['🇳🇱', 'nld', 'netherlands'],\n  ['🇳🇴', 'nor', 'norway'],\n  ['🇳🇵', 'npl', 'nepal'],\n  ['🇳🇷', 'nru', 'nauru'],\n  ['🇳🇺', 'niu', 'niue'],\n  ['🇳🇿', 'nzl', 'new zealand'],\n  ['🇴🇲', 'omn', 'oman'],\n  ['🇵🇦', 'pan', 'panama'],\n  ['🇵🇪', 'per', 'peru'],\n  ['🇵🇫', 'pyf', 'french polynesia'],\n  ['🇵🇬', 'png', 'papua new guinea'],\n  ['🇵🇭', 'phl', 'philippines'],\n  ['🇵🇰', 'pak', 'pakistan'],\n  ['🇵🇱', 'pol', 'poland'],\n  ['🇵🇲', 'spm', 'saint pierre and miquelon'],\n  ['🇵🇳', 'pcn', 'pitcairn'],\n  ['🇵🇷', 'pri', 'puerto rico'],\n  ['🇵🇸', 'pse', 'palestinian territory'],\n  ['🇵🇹', 'prt', 'portugal'],\n  ['🇵🇼', 'plw', 'palau'],\n  ['🇵🇾', 'pry', 'paraguay'],\n  ['🇶🇦', 'qat', 'qatar'],\n  ['🇷🇪', 'reu', 'réunion'],\n  ['🇷🇴', 'rou', 'romania'],\n  ['🇷🇸', 'srb', 'serbia'],\n  ['🇷🇺', 'rus', 'russia'],\n  ['🇷🇼', 'rwa', 'rwanda'],\n  ['🇸🇦', 'sau', 'saudi arabia'],\n  ['🇸🇧', 'slb', 'solomon islands'],\n  ['🇸🇨', 'syc', 'seychelles'],\n  ['🇸🇩', 'sdn', 'sudan'],\n  ['🇸🇪', 'swe', 'sweden'],\n  ['🇸🇬', 'sgp', 'singapore'],\n  ['🇸🇭', 'shn', 'saint helena, ascension and tristan da cunha'],\n  ['🇸🇮', 'svn', 'slovenia'],\n  ['🇸🇯', 'sjm', 'svalbard and jan mayen'],\n  ['🇸🇰', 'svk', 'slovakia'],\n  ['🇸🇱', 'sle', 'sierra leone'],\n  ['🇸🇲', 'smr', 'san marino'],\n  ['🇸🇳', 'sen', 'senegal'],\n  ['🇸🇴', 'som', 'somalia'],\n  ['🇸🇷', 'sur', 'suriname'],\n  ['🇸🇸', 'ssd', 'south sudan'],\n  ['🇸🇹', 'stp', 'sao tome and principe'],\n  ['🇸🇻', 'slv', 'el salvador'],\n  ['🇸🇽', 'sxm', 'sint maarten (dutch part)'],\n  ['🇸🇾', 'syr', 'syrian arab republic'],\n  ['🇸🇿', 'swz', 'swaziland'],\n  ['🇹🇨', 'tca', 'turks and caicos islands'],\n  ['🇹🇩', 'tcd', 'chad'],\n  ['🇹🇫', 'atf', 'french southern territories'],\n  ['🇹🇬', 'tgo', 'togo'],\n  ['🇹🇭', 'tha', 'thailand'],\n  ['🇹🇯', 'tjk', 'tajikistan'],\n  ['🇹🇰', 'tkl', 'tokelau'],\n  // ['🇹🇱', 'tls', 'timor-leste'],\n  ['🇹🇲', 'tkm', 'turkmenistan'],\n  ['🇹🇳', 'tun', 'tunisia'],\n  ['🇹🇴', 'ton', 'tonga'],\n  ['🇹🇷', 'tur', 'turkey'],\n  ['🇹🇹', 'tto', 'trinidad and tobago'],\n  ['🇹🇻', 'tuv', 'tuvalu'],\n  ['🇹🇼', 'twn', 'taiwan'],\n  ['🇹🇿', 'tza', 'tanzania'],\n  ['🇺🇦', 'ukr', 'ukraine'],\n  ['🇺🇬', 'uga', 'uganda'],\n  ['🇺🇲', 'umi', 'united states minor outlying islands'],\n  ['🇺🇸', 'us', 'united states'], //alias\n  ['🇺🇸', 'usa', 'united states'],\n  ['🇺🇾', 'ury', 'uruguay'],\n  ['🇺🇿', 'uzb', 'uzbekistan'],\n  ['🇻🇦', 'vat', 'vatican city'],\n  ['🇻🇨', 'vct', 'saint vincent and the grenadines'],\n  ['🇻🇪', 'ven', 'venezuela'],\n  ['🇻🇬', 'vgb', 'virgin islands, british'],\n  ['🇻🇮', 'vir', 'virgin islands, u.s.'],\n  ['🇻🇳', 'vnm', 'viet nam'],\n  ['🇻🇺', 'vut', 'vanuatu'],\n  ['🇼🇫', 'wlf', 'wallis and futuna'],\n  ['🇼🇸', 'wsm', 'samoa'],\n  ['🇾🇪', 'yem', 'yemen'],\n  ['🇾🇹', 'myt', 'mayotte'],\n  ['🇿🇦', 'zaf', 'south africa'],\n  ['🇿🇲', 'zmb', 'zambia'],\n  ['🇿🇼 ', 'zwe', 'zimbabwe'],\n  //others (later unicode versions)\n  ['🇺🇳', 'un', 'united nations'],\n  ['🏴󠁧󠁢󠁥󠁮󠁧󠁿', 'eng', 'england'],\n  ['🏴󠁧󠁢󠁳󠁣󠁴󠁿', 'sct', 'scotland'],\n  ['🏴󠁧󠁢󠁷󠁬󠁳󠁿', 'wal', 'wales'],\n  ['🇪🇺', 'eu', 'european union'],\n]\n", "import parse from '../../parse/toJSON/index.js'\nimport flags from '../../../_data/flags.js'\nconst order = ['flag', 'variant']\nlet templates = {\n  //https://en.wikipedia.org/wiki/Template:Flag\n  // {{flag|USA}} →  USA\n  flag: (tmpl) => {\n    let obj = parse(tmpl, order)\n    let name = obj.flag || ''\n    obj.flag = (obj.flag || '').toLowerCase()\n    let found = flags.find((a) => obj.flag === a[1] || obj.flag === a[2]) || []\n    let flag = found[0] || ''\n    return `${flag} [[${found[2]}|${name}]]`\n  },\n  // {{flagcountry|USA}} →  United States\n  flagcountry: (tmpl) => {\n    let obj = parse(tmpl, order)\n    obj.flag = (obj.flag || '').toLowerCase()\n    let found = flags.find((a) => obj.flag === a[1] || obj.flag === a[2]) || []\n    let flag = found[0] || ''\n    return `${flag} [[${found[2]}]]`\n  },\n  // (unlinked flag-country)\n  flagcu: (tmpl) => {\n    let obj = parse(tmpl, order)\n    obj.flag = (obj.flag || '').toLowerCase()\n    let found = flags.find((a) => obj.flag === a[1] || obj.flag === a[2]) || []\n    let flag = found[0] || ''\n    return `${flag} ${found[2]}`\n  },\n  //https://en.wikipedia.org/wiki/Template:Flagicon\n  // {{flagicon|USA}} → United States\n  flagicon: (tmpl) => {\n    let obj = parse(tmpl, order)\n    obj.flag = (obj.flag || '').toLowerCase()\n    let found = flags.find((a) => obj.flag === a[1] || obj.flag === a[2])\n    if (!found) {\n      return ''\n    }\n    return `[[${found[2]}|${found[0]}]]`\n  },\n  //unlinked flagicon\n  flagdeco: (tmpl) => {\n    let obj = parse(tmpl, order)\n    obj.flag = (obj.flag || '').toLowerCase()\n    let found = flags.find((a) => obj.flag === a[1] || obj.flag === a[2]) || []\n    return found[0] || ''\n  },\n  //same, but a soccer team\n  fb: (tmpl) => {\n    let obj = parse(tmpl, order)\n    obj.flag = (obj.flag || '').toLowerCase()\n    let found = flags.find((a) => obj.flag === a[1] || obj.flag === a[2])\n    if (!found) {\n      return ''\n    }\n    return `${found[0]} [[${found[2]} national football team|${found[2]}]]`\n  },\n  fbicon: (tmpl) => {\n    let obj = parse(tmpl, order)\n    obj.flag = (obj.flag || '').toLowerCase()\n    let found = flags.find((a) => obj.flag === a[1] || obj.flag === a[2])\n    if (!found) {\n      return ''\n    }\n    return ` [[${found[2]} national football team|${found[0]}]]`\n  },\n  flagathlete: (tmpl) => {\n    let obj = parse(tmpl, ['name', 'flag', 'variant'])\n    obj.flag = (obj.flag || '').toLowerCase()\n    let found = flags.find((a) => obj.flag === a[1] || obj.flag === a[2])\n    if (!found) {\n      return `[[${obj.name || ''}]]`\n    }\n    return `${found[0]} [[${obj.name || ''}]] (${found[1].toUpperCase()})`\n  },\n}\n//support {{can}}\nflags.forEach((a) => {\n  templates[a[1]] = () => {\n    return a[0]\n  }\n})\nexport default templates\n", "//random misc for inline wikipedia templates\nimport parse from '../../parse/toJSON/index.js'\nimport { titlecase } from '../_lib.js'\n\n//https://en.wikipedia.org/wiki/Template:Yes\nlet templates = {}\nlet cells = [\n  'rh',\n  'rh2',\n  'yes',\n  'no',\n  'maybe',\n  'eliminated',\n  'lost',\n  'safe',\n  'active',\n  'site active',\n  'coming soon',\n  'good',\n  'won',\n  'nom',\n  'sho',\n  'longlisted',\n  'tba',\n  'success',\n  'operational',\n  'failure',\n  'partial',\n  'regional',\n  'maybecheck',\n  'partial success',\n  'partial failure',\n  'okay',\n  'yes-no',\n  'some',\n  'nonpartisan',\n  'pending',\n  'unofficial',\n  'unofficial2',\n  'usually',\n  'rarely',\n  'sometimes',\n  'any',\n  'varies',\n  'black',\n  'non-album single',\n  'unreleased',\n  'unknown',\n  'perhaps',\n  'depends',\n  'included',\n  'dropped',\n  'terminated',\n  'beta',\n  'table-experimental',\n  'free',\n  'proprietary',\n  'nonfree',\n  'needs',\n  'nightly',\n  'release-candidate',\n  'planned',\n  'scheduled',\n  'incorrect',\n  'no result',\n  'cmain',\n  'calso starring',\n  'crecurring',\n  'cguest',\n  'not yet',\n  'optional',\n]\ncells.forEach((str) => {\n  templates[str] = (tmpl) => {\n    let data = parse(tmpl, ['text'])\n    return data.text || titlecase(data.template)\n  }\n})\n\n//these ones have a text result\nlet moreCells = [\n  ['active fire', 'Active'],\n  ['site active', 'Active'],\n  ['site inactive', 'Inactive'],\n  ['yes2', ''],\n  ['no2', ''],\n  ['ya', '✅'],\n  ['na', '❌'],\n  ['nom', 'Nominated'],\n  ['sho', 'Shortlisted'],\n  ['tba', 'TBA'],\n  ['maybecheck', '✔️'],\n  ['okay', 'Neutral'],\n  ['n/a', 'N/A'],\n  ['sdash', '—'],\n  ['dunno', '?'],\n  ['draw', ''],\n  ['cnone', ''],\n  ['nocontest', ''],\n]\nmoreCells.forEach((a) => {\n  templates[a[0]] = (tmpl) => {\n    let data = parse(tmpl, ['text'])\n    return data.text || a[1]\n  }\n})\n\nexport default templates\n", "import hardcoded from './hardcoded.js'\nimport easyInline from './easy-inline.js'\nimport shorthand from './shorthand-link.js'\nimport functions from './functions.js'\nimport abbreviations from './abbreviations.js'\nimport moreLangs from './languages.js'\nimport flags from './flags.js'\nimport table from './table-cell.js'\n\nexport default Object.assign({}, hardcoded, easyInline, shorthand, functions, moreLangs, abbreviations, flags, table)\n", "let templates = {}\n// these all have ['id', 'name']\nlet idName = [\n  'goodreads author',\n  'twitter',\n  'facebook',\n  'instagram',\n  'tumblr',\n  'pinterest',\n  'espn nfl',\n  'espn nhl',\n  'espn fc',\n  'hockeydb',\n  'fifa player',\n  'worldcat',\n  'worldcat id',\n  'nfl player',\n  'ted speaker',\n  'playmate',\n]\nidName.forEach((name) => {\n  templates[name] = ['id', 'name']\n})\nexport default templates\n", "let templates = {}\n// these all have ['id', 'title', 'description', 'section']\nlet idTitle = [\n  'imdb title', //https://en.wikipedia.org/wiki/Template:IMDb_title\n  'imdb name',\n  'imdb episode',\n  'imdb event',\n  'afi film',\n  'allmovie title',\n  'allgame',\n  'tcmdb title',\n  'discogs artist',\n  'discogs label',\n  'discogs release',\n  'discogs master',\n  'librivox author',\n  'musicbrainz artist',\n  'musicbrainz label',\n  'musicbrainz recording',\n  'musicbrainz release',\n  'musicbrainz work',\n  'youtube',\n  'goodreads book',\n  'dmoz', //https://en.wikipedia.org/wiki/Template:DMOZ\n]\nidTitle.forEach((name) => {\n  templates[name] = ['id', 'title', 'description', 'section']\n})\nexport default templates\n", "import parse from '../../parse/toJSON/index.js'\n\n// dummy templates that get parsed properly already,\n// but present here for for aliases + template coverage tests\nlet templates = {}\nlet dummies = ['citation needed']\ndummies.forEach((name) => {\n  // just parse it and do nothing\n  templates[name] = (tmpl, list) => {\n    list.push(parse(tmpl))\n    return ''\n  }\n})\nexport default templates\n", "import parse from '../../parse/toJSON/index.js'\nimport Image from '../../../image/Image.js'\nimport { getLang, sisterProjects, toNumber } from '../_lib.js'\n\nexport default {\n  // https://en.wikipedia.org/wiki/Template:IPA\n  ipa: (tmpl, list) => {\n    let obj = parse(tmpl, ['transcription', 'lang', 'audio'])\n    obj.lang = getLang(obj.template)\n    obj.template = 'ipa'\n    list.push(obj)\n    return '' //obj.transcription\n  },\n  //https://en.wikipedia.org/wiki/Template:IPAc-en\n  ipac: (tmpl, list) => {\n    let obj = parse(tmpl)\n    obj.transcription = (obj.list || []).join(',')\n    delete obj.list\n    obj.lang = getLang(obj.template)\n    obj.template = 'ipac'\n    list.push(obj)\n    return ''\n  },\n\n  quote: (tmpl, list) => {\n    let obj = parse(tmpl, ['text', 'author'])\n    list.push(obj)\n    //create plaintext version\n    if (obj.text) {\n      let str = `\"${obj.text}\"`\n      if (obj.author) {\n        str += '\\n\\n'\n        str += `    - ${obj.author}`\n      }\n      return str + '\\n'\n    }\n    return ''\n  },\n\n  //this one sucks - https://en.wikipedia.org/wiki/Template:GNIS\n  'cite gnis': (tmpl, list) => {\n    let obj = parse(tmpl, ['id', 'name', 'type'])\n    obj.type = 'gnis'\n    obj.template = 'citation'\n    list.push(obj)\n    return ''\n  },\n\n  'spoken wikipedia': (tmpl, list) => {\n    let obj = parse(tmpl, ['file', 'date'])\n    obj.template = 'audio'\n    list.push(obj)\n    return ''\n  },\n\n  //yellow card\n  yel: (tmpl, list) => {\n    let obj = parse(tmpl, ['min'])\n    list.push(obj)\n    if (obj.min) {\n      return `yellow: ${obj.min || ''}'` //no yellow-card emoji\n    }\n    return ''\n  },\n\n  subon: (tmpl, list) => {\n    let obj = parse(tmpl, ['min'])\n    list.push(obj)\n    if (obj.min) {\n      return `sub on: ${obj.min || ''}'` //no yellow-card emoji\n    }\n    return ''\n  },\n\n  suboff: (tmpl, list) => {\n    let obj = parse(tmpl, ['min'])\n    list.push(obj)\n    if (obj.min) {\n      return `sub off: ${obj.min || ''}'` //no yellow-card emoji\n    }\n    return ''\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Sfn\n  sfn: (tmpl, list, parser, alias) => {\n    let obj = parse(tmpl, ['author', 'year', 'location'])\n    if (alias) {\n      obj.name = obj.template\n      obj.teplate = alias\n    }\n    list.push(obj)\n    return ''\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Redirect\n  redirect: (tmpl, list) => {\n    let data = parse(tmpl, ['redirect'])\n    let lines = data.list || []\n    let links = []\n    for (let i = 0; i < lines.length; i += 2) {\n      links.push({\n        page: lines[i + 1],\n        desc: lines[i],\n      })\n    }\n    let obj = {\n      template: 'redirect',\n      redirect: data.redirect,\n      links: links,\n    }\n    list.push(obj)\n    return ''\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Sister_project_links\n  'sister project links': (tmpl, list) => {\n    let data = parse(tmpl)\n    //rename 'wd' to 'wikidata'\n    let links = {}\n    Object.keys(sisterProjects).forEach((k) => {\n      if (data.hasOwnProperty(k) === true) {\n        links[sisterProjects[k]] = data[k] //.text();\n      }\n    })\n    let obj = {\n      template: 'sister project links',\n      links: links,\n    }\n    list.push(obj)\n    return ''\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Subject_bar\n  'subject bar': (tmpl, list) => {\n    let data = parse(tmpl)\n    Object.keys(data).forEach((k) => {\n      //rename 'voy' to 'wikivoyage'\n      if (sisterProjects.hasOwnProperty(k)) {\n        data[sisterProjects[k]] = data[k]\n        delete data[k]\n      }\n    })\n    let obj = {\n      template: 'subject bar',\n      links: data,\n    }\n    list.push(obj)\n    return ''\n  },\n\n  //amazingly, this one does not obey any known patterns\n  //https://en.wikipedia.org/wiki/Template:Gallery\n  gallery: (tmpl, list) => {\n    let obj = parse(tmpl)\n    let images = (obj.list || []).filter((line) => /^ *File ?:/.test(line))\n    images = images.map((file) => {\n      let img = {\n        file: file,\n      }\n      // todo: add lang and domain information\n      return new Image(img).json()\n    })\n    obj = {\n      template: 'gallery',\n      images: images,\n    }\n    list.push(obj)\n    return ''\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Sky\n  sky: (tmpl, list) => {\n    let obj = parse(tmpl, [\n      'asc_hours',\n      'asc_minutes',\n      'asc_seconds',\n      'dec_sign',\n      'dec_degrees',\n      'dec_minutes',\n      'dec_seconds',\n      'distance',\n    ])\n    let template = {\n      template: 'sky',\n      ascension: {\n        hours: obj.asc_hours,\n        minutes: obj.asc_minutes,\n        seconds: obj.asc_seconds,\n      },\n      declination: {\n        sign: obj.dec_sign,\n        degrees: obj.dec_degrees,\n        minutes: obj.dec_minutes,\n        seconds: obj.dec_seconds,\n      },\n      distance: obj.distance,\n    }\n    list.push(template)\n    return ''\n  },\n\n  // Parse https://en.wikipedia.org/wiki/Template:Medical_cases_chart -- see\n  // https://en.wikipedia.org/wiki/Module:Medical_cases_chart for the original\n  // parsing code.\n  'medical cases chart': (tmpl, list) => {\n    let order = [\n      'date',\n      'deathsExpr',\n      'recoveriesExpr',\n      'casesExpr',\n      '4thExpr',\n      '5thExpr',\n      'col1',\n      'col1Change',\n      'col2',\n      'col2Change',\n    ]\n\n    let obj = parse(tmpl)\n    obj.data = obj.data || ''\n    let rows = obj.data.split('\\n')\n\n    // Mimic row parsing in _buildBars in the Lua source, from the following\n    // line on:\n    //\n    //     for parameter in mw.text.gsplit(line, ';') do\n    let dataArray = rows.map((row) => {\n      let parameters = row.split(';')\n      let rowObject = {\n        options: new Map(),\n      }\n      let positionalIndex = 0\n      for (let i = 0; i < parameters.length; i++) {\n        let parameter = parameters[i].trim()\n        if (parameter.match(/^[a-z_]/i)) {\n          // Named argument\n          let [key, value] = parameter.split('=')\n          // At this point, the Lua code evaluates alttot1 and alttot2 values as\n          // #expr expressions, but we just pass them through. See also:\n          // https://www.mediawiki.org/wiki/Help:Extension:ParserFunctions##expr\n          if (value === undefined) {\n            value = null\n          }\n          rowObject.options.set(key, value)\n        } else {\n          // Positional argument\n          // Here again, the Lua code evaluates arguments at index 1 through 5\n          // as #expr expressions, but we just pass them through.\n          if (positionalIndex < order.length) {\n            rowObject[order[positionalIndex]] = parameter\n          }\n          positionalIndex++\n        }\n      }\n      for (; positionalIndex < order.length; positionalIndex++) {\n        rowObject[order[positionalIndex]] = null\n      }\n      return rowObject\n    })\n    obj.data = dataArray\n    list.push(obj)\n    return ''\n  },\n\n  graph: (tmpl, list) => {\n    let data = parse(tmpl)\n    if (data.x) {\n      data.x = data.x.split(',').map((str) => str.trim())\n    }\n    if (data.y) {\n      data.y = data.y.split(',').map((str) => str.trim())\n    }\n    let y = 1\n    while (data['y' + y]) {\n      data['y' + y] = data['y' + y].split(',').map((str) => str.trim())\n      y += 1\n    }\n    list.push(data)\n    return ''\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Historical_populations\n  'historical populations': (tmpl, list) => {\n    let data = parse(tmpl)\n    data.list = data.list || []\n    let years = []\n    for (let i = 0; i < data.list.length; i += 2) {\n      let num = data.list[i + 1]\n      years.push({\n        year: data.list[i],\n        val: Number(num) || num,\n      })\n    }\n    data.data = years\n    delete data.list\n    list.push(data)\n    return ''\n  },\n\n  // this one is a handful!\n  //https://en.wikipedia.org/wiki/Template:Weather_box\n  'weather box': (tmpl, list) => {\n    const hasMonth = /^jan /i\n    const isYear = /^year /i\n    let obj = parse(tmpl)\n    const monthList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec']\n    let byMonth = {}\n    let properties = Object.keys(obj).filter((k) => hasMonth.test(k))\n    properties = properties.map((k) => k.replace(hasMonth, ''))\n    properties.forEach((prop) => {\n      byMonth[prop] = []\n      monthList.forEach((m) => {\n        let key = `${m} ${prop}`\n        if (obj.hasOwnProperty(key)) {\n          let num = toNumber(obj[key])\n          delete obj[key]\n          byMonth[prop].push(num)\n        }\n      })\n    })\n    //add these to original\n    obj.byMonth = byMonth\n    //collect year-based data\n    let byYear = {}\n    Object.keys(obj).forEach((k) => {\n      if (isYear.test(k)) {\n        let prop = k.replace(isYear, '')\n        byYear[prop] = obj[k]\n        delete obj[k]\n      }\n    })\n    obj.byYear = byYear\n    list.push(obj)\n    return ''\n  },\n\n  //The 36 parameters are: 12 monthly highs (C), 12 lows (total 24) plus an optional 12 monthly rain/precipitation\n  //https://en.wikipedia.org/wiki/Template:Weather_box/concise_C\n  'weather box/concise c': (tmpl, list) => {\n    let obj = parse(tmpl)\n    obj.list = obj.list.map((s) => toNumber(s))\n    obj.byMonth = {\n      'high c': obj.list.slice(0, 12),\n      'low c': obj.list.slice(12, 24),\n      'rain mm': obj.list.slice(24, 36),\n    }\n    delete obj.list\n    obj.template = 'weather box'\n    list.push(obj)\n    return ''\n  },\n\n  'weather box/concise f': (tmpl, list) => {\n    let obj = parse(tmpl)\n    obj.list = obj.list.map((s) => toNumber(s))\n    obj.byMonth = {\n      'high f': obj.list.slice(0, 12),\n      'low f': obj.list.slice(12, 24),\n      'rain inch': obj.list.slice(24, 36),\n    }\n    delete obj.list\n    obj.template = 'weather box'\n    list.push(obj)\n    return ''\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Climate_chart\n  'climate chart': (tmpl, list) => {\n    let lines = parse(tmpl).list || []\n    let title = lines[0]\n    let source = lines[38]\n    lines = lines.slice(1)\n    //amazingly, they use '−' symbol here instead of negatives...\n    lines = lines.map((str) => {\n      if (str && str[0] === '−') {\n        str = str.replace(/−/, '-')\n      }\n      return str\n    })\n    let months = []\n    //groups of three, for 12 months\n    for (let i = 0; i < 36; i += 3) {\n      months.push({\n        low: toNumber(lines[i]),\n        high: toNumber(lines[i + 1]),\n        precip: toNumber(lines[i + 2]),\n      })\n    }\n    let obj = {\n      template: 'climate chart',\n      data: {\n        title: title,\n        source: source,\n        months: months,\n      },\n    }\n    list.push(obj)\n    return ''\n  },\n  //https://en.wikipedia.org/wiki/Template:MedalCount\n  medalcount: (tmpl, list) => {\n    let all = parse(tmpl).list || []\n    let lines = []\n    for (let i = 0; i < all.length; i += 4) {\n      lines.push({\n        name: all[i],\n        '1st': Number(all[i + 1]),\n        '2nd': Number(all[i + 2]),\n        '3rd': Number(all[i + 3]),\n      })\n    }\n    let obj = {\n      template: 'medalcount',\n      list: lines,\n    }\n    list.push(obj)\n    return ''\n  },\n\n  r: (tmpl, list) => {\n    let obj = parse(tmpl, ['name'])\n    obj.template = 'citation'\n    list.push(obj)\n    return ''\n  },\n}\n", "import idName from './id-name.js'\nimport idTitle from './id-title.js'\nimport dummies from './dummy-templates.js'\nimport fns from './functions.js'\n\nlet templates = {\n  //https://en.wikipedia.org/wiki/Category:External_link_templates\n  'find a grave': ['id', 'name', 'work', 'last', 'first', 'date', 'accessdate'],\n  congbio: ['id', 'name', 'date'],\n  'hollywood walk of fame': ['name'],\n  'wide image': ['file', 'width', 'caption'],\n  audio: ['file', 'text', 'type'],\n  rp: ['page'],\n  'short description': ['description'],\n  'coord missing': ['region'],\n  unreferenced: ['date'],\n  'taxon info': ['taxon', 'item'], //https://en.wikipedia.org/wiki/Template:Taxon_info\n  'portuguese name': ['first', 'second', 'suffix'], // https://en.wikipedia.org/wiki/Template:Portuguese_name\n  geo: ['lat', 'lon', 'zoom'], //https://en.wikivoyage.org/wiki/Template:Geo\n  hatnote: ['text'],\n}\n\ntemplates = Object.assign(templates, dummies, idName, idTitle, fns)\n\nexport default templates\n", "const mlbplayer = {\n  props: ['number', 'name', 'il'],\n  out: 'name',\n}\nconst syntaxhighlight = {\n  props: [],\n  out: 'code',\n}\nconst samp = {\n  props: ['1'],\n  out: '1',\n}\nconst sub = {\n  props: ['text'],\n  out: 'text',\n}\nconst sup = {\n  props: ['text'],\n  out: 'text',\n}\nconst chem2 = {\n  props: ['equation'],\n  out: 'equation',\n}\nconst ill = {\n  props: ['text', 'lan1', 'text1', 'lan2', 'text2'],\n  out: 'text',\n}\nconst abbr = {\n  props: ['abbr', 'meaning', 'ipa'],\n  out: 'abbr',\n}\n\nexport default {\n  mlbplayer,\n  syntaxhighlight,\n  samp,\n  sub,\n  sup,\n  chem2,\n  ill,\n  abbr,\n}", "import parse from '../../parse/toJSON/index.js'\nimport { percentage } from '../_lib.js'\n\nlet templates = {\n  // https://en.wikipedia.org/wiki/Template:Math\n  math: (tmpl, list) => {\n    let obj = parse(tmpl, ['formula'])\n    list.push(obj)\n    return '\\n\\n' + (obj.formula || '') + '\\n\\n'\n  },\n\n  //svg labels - https://en.m.wikipedia.org/wiki/Template:Legend\n  legend: (tmpl, list) => {\n    let obj = parse(tmpl, ['color', 'label'])\n    list.push(obj)\n    // return obj.label || ' '\n    return tmpl // keep the wiki?\n  },\n\n  isbn: (tmpl, list) => {\n    let obj = parse(tmpl, ['id', 'id2', 'id3'])\n    list.push(obj)\n    return 'ISBN ' + (obj.id || '')\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Based_on\n  'based on': (tmpl, list) => {\n    let obj = parse(tmpl, ['title', 'author'])\n    list.push(obj)\n    return `${obj.title} by ${obj.author || ''}`\n  },\n\n  //barrels of oil https://en.wikipedia.org/wiki/Template:Bbl_to_t\n  'bbl to t': (tmpl, list) => {\n    let obj = parse(tmpl, ['barrels'])\n    list.push(obj)\n    if (obj.barrels === '0') {\n      return obj.barrels + ' barrel'\n    }\n    return obj.barrels + ' barrels'\n  },\n\n  //minor planet - https://en.wikipedia.org/wiki/Template:MPC\n  mpc: (tmpl, list) => {\n    let obj = parse(tmpl, ['number', 'text'])\n    list.push(obj)\n    return `[https://minorplanetcenter.net/db_search/show_object?object_id=P/2011+NO1 ${obj.text || obj.number}]`\n  },\n\n  pengoal: (_tmpl, list) => {\n    list.push({\n      template: 'pengoal',\n    })\n    return '✅'\n  },\n\n  penmiss: (_tmpl, list) => {\n    list.push({\n      template: 'penmiss',\n    })\n    return '❌'\n  },\n\n  // https://en.wikipedia.org/wiki/Template:Ordered_list\n  'ordered list': (tmpl, list) => {\n    let obj = parse(tmpl)\n    list.push(obj)\n    obj.list = obj.list || []\n    let lines = obj.list.map((str, i) => `${i + 1}. ${str}`)\n    return lines.join('\\n\\n')\n  },\n\n  // https://en.wikipedia.org/wiki/Template:Title_year\n  'title year': (tmpl, _list, _alias, _parse, doc) => {\n    let obj = parse(tmpl, ['match', 'nomatch', 'page'])\n    let title = obj.page || doc.title()\n    if (title) {\n      let m = title.match(/\\b[0-9]{4}\\b/) //parse the year out of the title's name\n      if (m) {\n        return m[0]\n      }\n    }\n    return obj.nomatch || '' //use default response\n  },\n\n  // https://en.wikipedia.org/wiki/Template:Title_century\n  'title century': (tmpl, _list, _alias, _parse, doc) => {\n    let obj = parse(tmpl, ['match', 'nomatch', 'page'])\n    let title = obj.page || doc.title()\n    if (title) {\n      let m = title.match(/\\b([0-9]+)(st|nd|rd|th)\\b/) //parse the century out of the title's name\n      if (m) {\n        return m[1] || ''\n      }\n    }\n    return obj.nomatch || '' //use default response\n  },\n\n  // https://en.wikipedia.org/wiki/Template:Title_decade\n  'title decade': (tmpl, _list, _alias, _parse, doc) => {\n    let obj = parse(tmpl, ['match', 'nomatch', 'page'])\n    let title = obj.page || doc.title()\n    if (title) {\n      let m = title.match(/\\b([0-9]+)s\\b/) //parse the decade out of the title's name\n      if (m) {\n        return m[1] || ''\n      }\n    }\n    return obj.nomatch || '' //use default response\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Nihongo\n  nihongo: (tmpl, list) => {\n    let obj = parse(tmpl, ['english', 'kanji', 'romaji', 'extra'])\n    list.push(obj)\n    let str = obj.english || obj.romaji || ''\n    if (obj.kanji) {\n      str += ` (${obj.kanji})`\n    }\n    return str\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Marriage\n  //this one creates a template, and an inline response\n  marriage: (tmpl, list) => {\n    let data = parse(tmpl, ['spouse', 'from', 'to', 'end'])\n    list.push(data)\n    let str = data.spouse || ''\n    if (data.from) {\n      if (data.to) {\n        str += ` (m. ${data.from}-${data.to})`\n      } else {\n        str += ` (m. ${data.from})`\n      }\n    }\n    return str\n  },\n\n  //'red' card - {{sent off|cards|min1|min2}}\n  'sent off': (tmpl, list) => {\n    let obj = parse(tmpl, ['cards'])\n    let result = {\n      template: 'sent off',\n      cards: obj.cards,\n      minutes: obj.list || [],\n    }\n    list.push(result)\n    let mins = result.minutes.map((m) => m + \"'\").join(', ')\n    return 'sent off: ' + mins\n  },\n\n  transl: (tmpl, list) => {\n    let obj = parse(tmpl, ['lang', 'text', 'text2'])\n    // support 3-param\n    if (obj.text2) {\n      obj.iso = obj.text\n      obj.text = obj.text2\n      delete obj.text2\n    }\n    list.push(obj)\n    return obj.text || ''\n  },\n\n  //show/hide: https://en.wikipedia.org/wiki/Template:Collapsible_list\n  'collapsible list': (tmpl, list) => {\n    let obj = parse(tmpl)\n    list.push(obj)\n    let str = ''\n    if (obj.title) {\n      str += `'''${obj.title}'''` + '\\n\\n'\n    }\n    if (!obj.list) {\n      obj.list = []\n      for (let i = 1; i < 10; i += 1) {\n        if (obj[i]) {\n          obj.list.push(obj[i])\n          delete obj[i]\n        }\n      }\n    }\n    obj.list = obj.list.filter((s) => s)\n    str += obj.list.join('\\n\\n')\n    return str\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Columns-list\n  'columns-list': (tmpl, list) => {\n    let arr = parse(tmpl).list || []\n    let str = arr[0] || ''\n    let lines = str.split(/\\n/).filter((f) => f)\n    lines = lines.map((s) => s.replace(/\\*/, ''))\n    list.push({\n      template: 'columns-list',\n      list: lines,\n    })\n    lines = lines.map((s) => '• ' + s)\n    return lines.join('\\n\\n')\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Height - {{height|ft=6|in=1}}\n  height: (tmpl, list) => {\n    let obj = parse(tmpl)\n    list.push(obj)\n    let result = []\n    let units = ['m', 'cm', 'ft', 'in'] //order matters\n    units.forEach((unit) => {\n      if (obj.hasOwnProperty(unit) === true) {\n        result.push(obj[unit] + unit)\n      }\n    })\n    return result.join(' ')\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Sic\n  sic: (tmpl, list) => {\n    let obj = parse(tmpl, ['one', 'two', 'three'])\n    let word = (obj.one || '') + (obj.two || '')\n    //support '[sic?]'\n    if (obj.one === '?') {\n      word = (obj.two || '') + (obj.three || '')\n    }\n    list.push({\n      template: 'sic',\n      word: word,\n    })\n    if (obj.nolink === 'y') {\n      return word\n    }\n    return `${word} [sic]`\n  },\n\n  //\n  inrconvert: (tmpl, list) => {\n    let o = parse(tmpl, ['rupee_value', 'currency_formatting'])\n    list.push(o)\n    const mults = {\n      k: 1000,\n      m: 1000000,\n      b: 1000000000,\n      t: 1000000000000,\n      l: 100000,\n      c: 10000000,\n      lc: 1000000000000,\n    }\n    if (o.currency_formatting) {\n      let multiplier = mults[o.currency_formatting] || 1\n      o.rupee_value = o.rupee_value * multiplier\n    }\n    return `inr ${o.rupee_value || ''}`\n  },\n\n  //fraction - https://en.wikipedia.org/wiki/Template:Sfrac\n  frac: (tmpl, list) => {\n    let obj = parse(tmpl, ['a', 'b', 'c'])\n    let data = {\n      template: 'sfrac',\n    }\n    if (obj.c) {\n      data.integer = obj.a\n      data.numerator = obj.b\n      data.denominator = obj.c\n    } else if (obj.b) {\n      data.numerator = obj.a\n      data.denominator = obj.b\n    } else {\n      data.numerator = 1\n      data.denominator = obj.a\n    }\n    list.push(data)\n    if (data.integer) {\n      return `${data.integer} ${data.numerator}⁄${data.denominator}`\n    }\n    return `${data.numerator}⁄${data.denominator}`\n  },\n\n  'winning percentage': (tmpl, list) => {\n    let obj = parse(tmpl, ['wins', 'losses', 'ties'])\n    list.push(obj)\n    let wins = Number(obj.wins)\n    let losses = Number(obj.losses)\n    let ties = Number(obj.ties) || 0\n    let games = wins + losses + ties\n    if (obj.ignore_ties === 'y') {\n      ties = 0\n    }\n    if (ties) {\n      wins += ties / 2\n    }\n    let num = percentage({\n      numerator: wins,\n      denominator: games,\n      decimals: 1,\n    })\n    if (num === null) {\n      return ''\n    }\n    return `.${num * 10}`\n  },\n\n  winlosspct: (tmpl, list) => {\n    let obj = parse(tmpl, ['wins', 'losses'])\n    list.push(obj)\n    let wins = Number(obj.wins)\n    let losses = Number(obj.losses)\n    let num = percentage({\n      numerator: wins,\n      denominator: wins + losses,\n      decimals: 1,\n    })\n    if (num === null) {\n      return ''\n    }\n    let out = `.${num * 10}`\n    return `${wins || 0} || ${losses || 0} || ${out || '-'}`\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Video_game_release\n  'video game release': (tmpl, list) => {\n    let order = ['region', 'date', 'region2', 'date2', 'region3', 'date3', 'region4', 'date4']\n    let obj = parse(tmpl, order)\n    let template = {\n      template: 'video game release',\n      releases: [],\n    }\n    for (let i = 0; i < order.length; i += 2) {\n      if (obj[order[i]]) {\n        template.releases.push({\n          region: obj[order[i]],\n          date: obj[order[i + 1]],\n        })\n      }\n    }\n    list.push(template)\n    let str = template.releases.map((o) => `${o.region}: ${o.date || ''}`).join('\\n\\n')\n    return '\\n' + str + '\\n'\n  },\n  // https://en.m.wikipedia.org/wiki/Template:USS\n  uss: (tmpl, list) => {\n    let obj = parse(tmpl, ['name', 'id'])\n    list.push(obj)\n    if (obj.id) {\n      return `[[USS ${obj.name} (${obj.id})|USS ''${obj.name}'' (${obj.id})]]`\n    }\n    return `[[USS ${obj.name}|USS ''${obj.name}'']]`\n  },\n  // https://en.wikipedia.org/wiki/Template:Blockquote\n  blockquote: (tmpl, list) => {\n    let props = ['text', 'author', 'title', 'source', 'character']\n    let obj = parse(tmpl, props)\n    list.push(obj)\n    let txt = obj.text\n    // used first un-named param\n    if (!txt) {\n      obj.list = obj.list || []\n      txt = obj.list[0] || ''\n    }\n    // replace double quotes with singles and put the text inside double quotes\n    let result = txt.replace(/\"/g, \"'\")\n    result = '\"' + result + '\"'\n    return result\n  },\n\n  // https://de.m.wikipedia.org/wiki/Vorlage:ReptileDatabase\n  ReptileDatabase: (tmpl, list) => {\n    let obj = parse(tmpl, ['taxon', 'genus', 'species', 'abruf', 'pure_url'])\n    list.push(obj)\n    let str = ''\n    if (obj.genus || obj.species) {\n      str = `${obj.genus || ''} ${obj.species || ''} `\n    }\n    return `${str}In: [[The Reptile Database]]`\n  },\n  //https://en.m.wikipedia.org/wiki/Template:GEOnet3\n  GEOnet3: (tmpl, list) => {\n    let obj = parse(tmpl, ['ufi', 'name'])\n    list.push(obj)\n    return `GEOnet3 can be found at [[GEOnet Names Server]], at [http://geonames.nga.mil/namesgaz/ this link]`\n  },\n  'poem quote': (tmpl, list) => {\n    let obj = parse(tmpl, ['text', 'char', 'sign', 'source', 'title'])\n    list.push(obj)\n    let out = obj.text || ''\n    if (obj.char || obj.sign || obj.source || obj.title) {\n      out += '\\n\\n —'\n      out += obj.char ? ' ' + obj.char : ''\n      out += obj.sign ? ' ' + obj.sign : ''\n      out += obj.source ? ' ' + obj.source : ''\n      out += obj.title ? ' ' + obj.title : ''\n    }\n    return out\n  },\n  tweet: (tmpl, list) => {\n    let obj = parse(tmpl)\n    list.push(obj)\n    let out = obj.text || ''\n    out += obj.date ? ' ' + obj.date : ''\n    return out\n  },\n}\nexport default templates\n", "import parse from '../../parse/toJSON/index.js'\n\nconst codes = {\n  '£': 'GB£', // https://en.wikipedia.org/wiki/Template:GBP\n  '¥': '¥', // https://en.wikipedia.org/wiki/Template:JPY\n  '৳': '৳', // https://en.wikipedia.org/wiki/Template:BDT\n  '₩': '₩', // https://en.wikipedia.org/wiki/Template:SK_won\n  '€': '€', // https://en.wikipedia.org/wiki/Template:€\n  '₱': '₱', // https://en.wikipedia.org/wiki/Template:Philippine_peso\n  '₹': '₹', // https://en.wikipedia.org/wiki/Template:Indian_Rupee\n  '₽': '₽', // https://en.wikipedia.org/wiki/Template:RUB\n  'cn¥': 'CN¥', // https://en.wikipedia.org/wiki/Template:CNY\n  'gb£': 'GB£', // https://en.wikipedia.org/wiki/Template:GBP\n  'india rs': '₹', // https://en.wikipedia.org/wiki/Template:Indian_Rupee\n  'indian rupee symbol': '₹', // https://en.wikipedia.org/wiki/Template:Indian_Rupee\n  'indian rupee': '₹', // https://en.wikipedia.org/wiki/Template:Indian_Rupee\n  'indian rupees': '₹', // https://en.wikipedia.org/wiki/Template:Indian_Rupee\n  'philippine peso': '₱', // https://en.wikipedia.org/wiki/Template:Philippine_peso\n  'russian ruble': '₽', // https://en.wikipedia.org/wiki/Template:Russian_ruble\n  'SK won': '₩', // https://en.wikipedia.org/wiki/Template:SK_won\n  'turkish lira': 'TRY', //https://en.wikipedia.org/wiki/Template:Turkish_lira\n  a$: 'A$', // https://en.wikipedia.org/wiki/Template:AUD\n  au$: 'A$', //https://en.wikipedia.org/wiki/Template:AUD\n  aud: 'A$', //https://en.wikipedia.org/wiki/Template:AUD\n  bdt: 'BDT', //https://en.wikipedia.org/wiki/Template:BDT\n  brl: 'BRL', //https://en.wikipedia.org/wiki/Template:BRL\n  ca$: 'CA$', // https://en.wikipedia.org/wiki/Template:CAD\n  cad: 'CA$', // https://en.wikipedia.org/wiki/Template:CAD\n  chf: 'CHF', // https://en.wikipedia.org/wiki/Template:CHF\n  cny: 'CN¥', // https://en.wikipedia.org/wiki/Template:CNY\n  czk: 'czk', // https://en.wikipedia.org/wiki/Template:CZK\n  dkk: 'dkk', // https://en.wikipedia.org/wiki/Template:DKK\n  dkk2: 'dkk', // https://en.wikipedia.org/wiki/Template:DKK\n  euro: '€', // https://en.wikipedia.org/wiki/Template:€\n  gbp: 'GB£', // https://en.wikipedia.org/wiki/Template:GBP\n  hk$: 'HK$', // https://en.wikipedia.org/wiki/Template:HKD\n  hkd: 'HK$', // https://en.wikipedia.org/wiki/Template:HKD\n  ils: 'ILS', // https://en.wikipedia.org/wiki/Template:ILS\n  inr: '₹', // https://en.wikipedia.org/wiki/Template:Indian_Rupee\n  jpy: '¥', // https://en.wikipedia.org/wiki/Template:JPY\n  myr: 'MYR', // https://en.wikipedia.org/wiki/Template:MYR\n  nis: 'ILS', // https://en.wikipedia.org/wiki/Template:ILS\n  nok: 'NOK', //https://en.wikipedia.org/wiki/Template:NOK\n  nok2: 'NOK', //https://en.wikipedia.org/wiki/Template:NOK\n  nz$: 'NZ$', //https://en.wikipedia.org/wiki/Template:NZD\n  nzd: 'NZ$', //https://en.wikipedia.org/wiki/Template:NZD\n  peso: 'peso', //https://en.wikipedia.org/wiki/Template:Peso\n  pkr: '₨', // https://en.wikipedia.org/wiki/Template:Pakistani_Rupee\n  r$: 'BRL', //https://en.wikipedia.org/wiki/Template:BRL\n  rmb: 'CN¥', // https://en.wikipedia.org/wiki/Template:CNY\n  rub: '₽', // https://en.wikipedia.org/wiki/Template:RUB\n  ruble: '₽', // https://en.wikipedia.org/wiki/Template:Ruble\n  rupee: '₹', // https://en.wikipedia.org/wiki/Template:Rupee\n  s$: 'sgd', // https://en.wikipedia.org/wiki/Template:SGD\n  sek: 'SEK', // https://en.wikipedia.org/wiki/Template:SEK\n  sek2: 'SEK', // https://en.wikipedia.org/wiki/Template:SEK\n  sfr: 'CHF', // https://en.wikipedia.org/wiki/Template:CHF\n  sgd: 'sgd', // https://en.wikipedia.org/wiki/Template:SGD\n  shekel: 'ILS', // https://en.wikipedia.org/wiki/Template:ILS\n  sheqel: 'ILS', // https://en.wikipedia.org/wiki/Template:ILS\n  ttd: 'TTD', //https://en.wikipedia.org/wiki/Template:TTD\n  us$: 'US$', // https://en.wikipedia.org/wiki/Template:US$\n  usd: 'US$', // https://en.wikipedia.org/wiki/Template:US$\n  yen: '¥', // https://en.wikipedia.org/wiki/Template:JPY\n  zar: 'R', //https://en.wikipedia.org/wiki/Template:ZAR\n}\n\nconst parseCurrency = (tmpl, list) => {\n  let o = parse(tmpl, ['amount', 'code'])\n  list.push(o)\n  let code = o.template || ''\n  if (code === 'currency') {\n    code = o.code\n    if (!code) {\n      o.code = code = 'usd' //Special case when currency template has no code argument\n    }\n  } else if (code === '' || code === 'monnaie' || code === 'unité' || code === 'nombre' || code === 'nb') {\n    code = o.code\n  }\n  code = (code || '').toLowerCase()\n  if (code === 'us') {\n    o.code = code = 'usd'\n  } else if (code === 'uk') {\n    o.code = code = 'gbp'\n  }\n  let str = `${codes[code] || ''}${o.amount || ''}`\n  //support unknown currencies after the number - like '5 BTC'\n  if (o.code && !codes[o.code.toLowerCase()]) {\n    str += ' ' + o.code\n  }\n  return str\n}\n\nlet templates = {\n  currency: parseCurrency,\n}\n//and the others fit the same pattern\nObject.keys(codes).forEach((k) => {\n  templates[k] = parseCurrency\n})\n\nexport default templates\n", "\n\n//this is allowed to be rough\nconst day = 1000 * 60 * 60 * 24\nconst month = day * 30\nconst year = day * 365\n\nconst getEpoch = function (obj) {\n  return new Date(`${obj.year}-${obj.month || 0}-${obj.date || 1}`).getTime()\n}\n\n//very rough!\nconst delta = function (from, to) {\n  from = getEpoch(from)\n  to = getEpoch(to)\n  let diff = to - from\n  let obj = {}\n  //get years\n  let years = Math.floor(diff / year)\n  if (years > 0) {\n    obj.years = years\n    diff -= obj.years * year\n  }\n  //get months\n  let monthCount = Math.floor(diff / month)\n  if (monthCount > 0) {\n    obj.months = monthCount\n    diff -= obj.months * month\n  }\n  //get days\n  let days = Math.floor(diff / day)\n  if (days > 0) {\n    obj.days = days\n    // diff -= (obj.days * day);\n  }\n  return obj\n}\n\n//not all too fancy - used in {{timesince}}\nconst timeSince = function (str) {\n  let d = new Date(str)\n  if (isNaN(d.getTime())) {\n    return ''\n  }\n  let now = new Date()\n  let delt = now.getTime() - d.getTime()\n  let predicate = 'ago'\n  if (delt < 0) {\n    predicate = 'from now'\n    delt = Math.abs(delt)\n  }\n  //figure out units\n  let hours = delt / 1000 / 60 / 60\n  let days = hours / 24\n  if (days < 365) {\n    return Number(days) + ' days ' + predicate\n  }\n  let years = days / 365\n  return Number(years) + ' years ' + predicate\n}\n\nconst days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n\nexport { days, timeSince, delta }", "//assorted parsing methods for date/time templates\nconst months = [\n  undefined, //1-based months.. :/\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n]\n\nconst monthName = months.reduce((h, str, i) => {\n  if (i === 0) {\n    return h\n  }\n  h[str.toLowerCase()] = i\n  h[str.substring(0, 3).toLowerCase()] = i\n  return h\n}, {})\n\n//parse year|month|date numbers\nconst ymd = function (arr) {\n  let obj = {}\n  let units = ['year', 'month', 'date', 'hour', 'minute', 'second']\n  //parse each unit in sequence..\n  for (let i = 0; i < units.length; i += 1) {\n    //skip it\n    if (!arr[i] && arr[1] !== 0) {\n      continue\n    }\n    let num = parseInt(arr[i], 10)\n    if (isNaN(num) === false) {\n      obj[units[i]] = num //we good.\n    } else if (units[i] === 'month') {\n      let m = arr[i].toLowerCase().trim()\n      //try for month-name, like 'january\n      if (monthName.hasOwnProperty(m)) {\n        let month = monthName[m]\n        obj[units[i]] = month\n      }\n    } else {\n      //we dead. so skip this unit\n      delete obj[units[i]]\n    }\n  }\n  //try for timezone,too ftw\n  let last = arr[arr.length - 1] || ''\n  last = String(last)\n  if (last.toLowerCase() === 'z') {\n    obj.tz = 'UTC'\n  } else if (/[+-][0-9]+:[0-9]/.test(last)) {\n    obj.tz = arr[6]\n  }\n  return obj\n}\n\n//zero-pad a number\nconst pad = function (num) {\n  if (num < 10) {\n    return '0' + num\n  }\n  return String(num)\n}\n\nconst toText = function (date) {\n  //eg '1995'\n  let str = String(date.year || '')\n  if (date.month !== undefined && months.hasOwnProperty(date.month) === true) {\n    if (date.date === undefined) {\n      //January 1995\n      str = `${months[date.month]} ${date.year}`\n    } else {\n      //January 5, 1995\n      str = `${months[date.month]} ${date.date}, ${date.year}`\n      //add times, if available\n      if (date.hour !== undefined && date.minute !== undefined) {\n        let time = `${pad(date.hour)}:${pad(date.minute)}`\n        if (date.second !== undefined) {\n          time = time + ':' + pad(date.second)\n        }\n        str = time + ', ' + str\n        //add timezone, if there, at the end in brackets\n      }\n      if (date.tz) {\n        str += ` (${date.tz})`\n      }\n    }\n  }\n  return str\n}\n\nconst toTextBritish = function (date) {\n  //eg '1995'\n  let str = String(date.year || '')\n  if (date.month !== undefined && months.hasOwnProperty(date.month) === true) {\n    if (date.date === undefined) {\n      //January 1995\n      str = `${months[date.month]} ${date.year}`\n    } else {\n      //5 January 1995\n      str = `${date.date} ${months[date.month]} ${date.year}`\n      //add times, if available\n      if (date.hour !== undefined && date.minute !== undefined) {\n        let time = `${pad(date.hour)}:${pad(date.minute)}`\n        if (date.second !== undefined) {\n          time = time + ':' + pad(date.second)\n        }\n        str = time + ', ' + str\n        //add timezone, if there, at the end in brackets\n      }\n      if (date.tz) {\n        str += ` (${date.tz})`\n      }\n    }\n  }\n  return str\n}\n\nexport { toText, toTextBritish, ymd }\n\n// console.log(toText(ymd([2018, 3, 28])));\n", "import strip from '../../../parse/toJSON/_strip.js'\nimport parse from '../../../parse/toJSON/index.js'\nimport { delta } from './_lib.js'\nimport { ymd, toText } from './_format.js'\n\n//wrap it up as a template\nconst template = function (date) {\n  return {\n    template: 'date',\n    data: date,\n  }\n}\n\nconst getBoth = function (tmpl) {\n  tmpl = strip(tmpl)\n  let arr = tmpl.split('|')\n  let from = ymd(arr.slice(1, 4))\n  let to = arr.slice(4, 7)\n  //assume now, if 'to' is empty\n  if (to.length === 0) {\n    let d = new Date()\n    to = [d.getFullYear(), d.getMonth(), d.getDate()]\n  }\n  to = ymd(to)\n  return {\n    from: from,\n    to: to,\n  }\n}\n\nconst parsers = {\n  //generic {{date|year|month|date}} template\n  date: (tmpl, list) => {\n    let order = ['year', 'month', 'date', 'hour', 'minute', 'second', 'timezone']\n    let obj = parse(tmpl, order)\n    let data = ymd([obj.year, obj.month, obj.date || obj.day])\n    obj.text = toText(data) //make the replacement string\n    if (obj.timezone) {\n      if (obj.timezone === 'Z') {\n        obj.timezone = 'UTC'\n      }\n      obj.text += ` (${obj.timezone})`\n    }\n    if (obj.hour && obj.minute) {\n      if (obj.second) {\n        obj.text = `${obj.hour}:${obj.minute}:${obj.second}, ` + obj.text\n      } else {\n        obj.text = `${obj.hour}:${obj.minute}, ` + obj.text\n      }\n    }\n    if (obj.text) {\n      list.push(template(obj))\n    }\n    return obj.text\n  },\n\n  //support parsing of 'February 10, 1992'\n  natural_date: (tmpl, list) => {\n    let obj = parse(tmpl, ['text'])\n    let str = obj.text || ''\n    // - just a year\n    let date = {}\n    if (/^[0-9]{4}$/.test(str)) {\n      date.year = parseInt(str, 10)\n    } else {\n      //parse the date, using the js date object (for now?)\n      let txt = str.replace(/[a-z]+\\/[a-z]+/i, '')\n      txt = txt.replace(/[0-9]+:[0-9]+(am|pm)?/i, '')\n      let d = new Date(txt)\n      if (isNaN(d.getTime()) === false) {\n        date.year = d.getFullYear()\n        date.month = d.getMonth() + 1\n        date.date = d.getDate()\n      }\n    }\n    list.push(template(date))\n    return str.trim()\n  },\n\n  //just grab the first value, and assume it's a year\n  one_year: (tmpl, list) => {\n    let obj = parse(tmpl, ['year'])\n    let year = Number(obj.year)\n    list.push(\n      template({\n        year: year,\n      })\n    )\n    return String(year)\n  },\n\n  //assume 'y|m|d' | 'y|m|d' // {{BirthDeathAge|B|1976|6|6|1990|8|8}}\n  two_dates: (tmpl, list) => {\n    let order = ['b', 'birth_year', 'birth_month', 'birth_date', 'death_year', 'death_month', 'death_date']\n    let obj = parse(tmpl, order)\n    //'b' means show birth-date, otherwise show death-date\n    if (obj.b && obj.b.toLowerCase() === 'b') {\n      let date = ymd([obj.birth_year, obj.birth_month, obj.birth_date])\n      list.push(template(date))\n      return toText(date)\n    }\n    let date = ymd([obj.death_year, obj.death_month, obj.death_date])\n    list.push(template(date))\n    return toText(date)\n  },\n\n  age: (tmpl) => {\n    let d = getBoth(tmpl)\n    let diff = delta(d.from, d.to)\n    return diff.years || 0\n  },\n\n  'diff-y': (tmpl) => {\n    let d = getBoth(tmpl)\n    let diff = delta(d.from, d.to)\n    if (diff.years === 1) {\n      return diff.years + ' year'\n    }\n    return (diff.years || 0) + ' years'\n  },\n\n  'diff-ym': (tmpl) => {\n    let d = getBoth(tmpl)\n    let diff = delta(d.from, d.to)\n    let arr = []\n    if (diff.years === 1) {\n      arr.push(diff.years + ' year')\n    } else if (diff.years && diff.years !== 0) {\n      arr.push(diff.years + ' years')\n    }\n    if (diff.months === 1) {\n      arr.push('1 month')\n    } else if (diff.months && diff.months !== 0) {\n      arr.push(diff.months + ' months')\n    }\n    return arr.join(', ')\n  },\n\n  'diff-ymd': (tmpl) => {\n    let d = getBoth(tmpl)\n    let diff = delta(d.from, d.to)\n    let arr = []\n    if (diff.years === 1) {\n      arr.push(diff.years + ' year')\n    } else if (diff.years && diff.years !== 0) {\n      arr.push(diff.years + ' years')\n    }\n    if (diff.months === 1) {\n      arr.push('1 month')\n    } else if (diff.months && diff.months !== 0) {\n      arr.push(diff.months + ' months')\n    }\n    if (diff.days === 1) {\n      arr.push('1 day')\n    } else if (diff.days && diff.days !== 0) {\n      arr.push(diff.days + ' days')\n    }\n    return arr.join(', ')\n  },\n\n  'diff-yd': (tmpl) => {\n    let d = getBoth(tmpl)\n    let diff = delta(d.from, d.to)\n    let arr = []\n    if (diff.years === 1) {\n      arr.push(diff.years + ' year')\n    } else if (diff.years && diff.years !== 0) {\n      arr.push(diff.years + ' years')\n    }\n    //ergh...\n    diff.days += (diff.months || 0) * 30\n    if (diff.days === 1) {\n      arr.push('1 day')\n    } else if (diff.days && diff.days !== 0) {\n      arr.push(diff.days + ' days')\n    }\n    return arr.join(', ')\n  },\n\n  'diff-d': (tmpl) => {\n    let d = getBoth(tmpl)\n    let diff = delta(d.from, d.to)\n    let arr = []\n    //ergh...\n    diff.days += (diff.years || 0) * 365\n    diff.days += (diff.months || 0) * 30\n    if (diff.days === 1) {\n      arr.push('1 day')\n    } else if (diff.days && diff.days !== 0) {\n      arr.push(diff.days + ' days')\n    }\n    return arr.join(', ')\n  },\n}\nexport default parsers\n", "import parsers from './_parsers.js'\nimport parse from '../../../parse/toJSON/index.js'\nimport { days, timeSince } from './_lib.js'\nimport { toOrdinal } from '../../_lib.js'\nimport { ymd, toText, toTextBritish } from './_format.js'\n\nconst months = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n]\n\n//date- templates we support\nexport default {\n  currentday: () => {\n    let d = new Date()\n    return String(d.getDate())\n  },\n  currentdayname: () => {\n    let d = new Date()\n    return days[d.getDay()]\n  },\n  currentmonth: () => {\n    let d = new Date()\n    return months[d.getMonth()]\n  },\n  currentyear: () => {\n    let d = new Date()\n    return String(d.getFullYear())\n  },\n  monthyear: () => {\n    let d = new Date()\n    return months[d.getMonth()] + ' ' + d.getFullYear()\n  },\n  'monthyear-1': () => {\n    let d = new Date()\n    d.setMonth(d.getMonth() - 1)\n    return months[d.getMonth()] + ' ' + d.getFullYear()\n  },\n  'monthyear+1': () => {\n    let d = new Date()\n    d.setMonth(d.getMonth() + 1)\n    return months[d.getMonth()] + ' ' + d.getFullYear()\n  },\n\n  year: (tmpl) => {\n    let date = parse(tmpl, ['date']).date\n    let d = new Date(date)\n    if (date && isNaN(d.getTime()) === false) {\n      return String(d.getFullYear())\n    }\n    return ''\n  },\n\n  'time ago': (tmpl) => {\n    let time = parse(tmpl, ['date', 'fmt']).date\n    return timeSince(time)\n  },\n  'birth date': (tmpl, list) => {\n    let obj = parse(tmpl, ['year', 'month', 'date'])\n    list.push(obj)\n    obj = ymd([obj.year, obj.month, obj.day])\n    return toText(obj)\n  },\n  //https://en.wikipedia.org/wiki/Template:Birth_date_and_age\n  'birth date and age': (tmpl, list) => {\n    let obj = parse(tmpl, ['year', 'month', 'day'])\n    //support 'one property' version\n    if (obj.year && /[a-z]/i.test(obj.year)) {\n      return parsers.natural_date(tmpl, list)\n    }\n    list.push(obj)\n    obj = ymd([obj.year, obj.month, obj.day])\n    return toText(obj)\n  },\n  'birth year and age': (tmpl, list) => {\n    let obj = parse(tmpl, ['birth_year', 'birth_month'])\n    //support 'one property' version\n    if (obj.death_year && /[a-z]/i.test(obj.death_year)) {\n      return parsers.natural_date(tmpl, list)\n    }\n    list.push(obj)\n    let age = new Date().getFullYear() - parseInt(obj.birth_year, 10)\n    obj = ymd([obj.birth_year, obj.birth_month])\n    let str = toText(obj)\n    if (age) {\n      str += ` (age ${age})`\n    }\n    return str\n  },\n  'death year and age': (tmpl, list) => {\n    let obj = parse(tmpl, ['death_year', 'birth_year', 'death_month'])\n    //support 'one property' version\n    if (obj.death_year && /[a-z]/i.test(obj.death_year)) {\n      return parsers.natural_date(tmpl, list)\n    }\n    list.push(obj)\n    obj = ymd([obj.death_year, obj.death_month])\n    return toText(obj)\n  },\n  //https://en.wikipedia.org/wiki/Template:Birth_date_and_age2\n  'birth date and age2': (tmpl, list) => {\n    let order = ['at_year', 'at_month', 'at_day', 'birth_year', 'birth_month', 'birth_day']\n    let obj = parse(tmpl, order)\n    list.push(obj)\n    obj = ymd([obj.birth_year, obj.birth_month, obj.birth_day])\n    return toText(obj)\n  },\n  //https://en.wikipedia.org/wiki/Template:Birth_based_on_age_as_of_date\n  'birth based on age as of date': (tmpl, list) => {\n    let obj = parse(tmpl, ['age', 'year', 'month', 'day'])\n    list.push(obj)\n    let age = parseInt(obj.age, 10)\n    let year = parseInt(obj.year, 10)\n    let born = year - age\n    if (born && age) {\n      return `${born} (age ${obj.age})`\n    }\n    return `(age ${obj.age})`\n  },\n  //https://en.wikipedia.org/wiki/Template:Death_date_and_given_age\n  'death date and given age': (tmpl, list) => {\n    let obj = parse(tmpl, ['year', 'month', 'day', 'age'])\n    list.push(obj)\n    obj = ymd([obj.year, obj.month, obj.day])\n    let str = toText(obj)\n    if (obj.age) {\n      str += ` (age ${obj.age})`\n    }\n    return str\n  },\n  //sortable dates -\n  dts: (tmpl) => {\n    //remove formatting stuff, ewww\n    tmpl = tmpl.replace(/\\|format=[ymd]+/i, '')\n    tmpl = tmpl.replace(/\\|abbr=(on|off)/i, '')\n    let obj = parse(tmpl, ['year', 'month', 'date', 'bc'])\n    if (obj.date && obj.month && obj.year) {\n      //render 'june 5 2018'\n      if (/[a-z]/.test(obj.month) === true) {\n        return [obj.month, obj.date, obj.year].join(' ')\n      }\n      return [obj.year, obj.month, obj.date].join('-')\n    }\n    if (obj.month && obj.year) {\n      return [obj.year, obj.month].join('-')\n    }\n    if (obj.year) {\n      if (obj.year < 0) {\n        obj.year = Math.abs(obj.year) + ' BC'\n      }\n      return obj.year\n    }\n    return ''\n  },\n\n  //we can't do timezones, so fake this one a little bit\n  //https://en.wikipedia.org/wiki/Template:Time\n  time: () => {\n    let d = new Date()\n    let obj = ymd([d.getFullYear(), d.getMonth(), d.getDate()])\n    return toText(obj)\n  },\n\n  // https://en.wikipedia.org/wiki/Template:MILLENNIUM\n  millennium: (tmpl) => {\n    let obj = parse(tmpl, ['year'])\n    let year = parseInt(obj.year, 10)\n    year = Math.floor(year / 1000) + 1\n    if (obj.abbr && obj.abbr === 'y') {\n      if (year < 0) {\n        return `${toOrdinal(Math.abs(year))} BC`\n      }\n      return `${toOrdinal(year)}`\n    }\n    return `${toOrdinal(year)} millennium`\n  },\n  //date/age/time templates\n  start: parsers.date,\n  'start-date': parsers.natural_date,\n  birthdeathage: parsers.two_dates,\n  age: parsers.age,\n  'age nts': parsers.age,\n  'age in years': parsers['diff-y'],\n  'age in years and months': parsers['diff-ym'],\n  'age in years, months and days': parsers['diff-ymd'],\n  'age in years and days': parsers['diff-yd'],\n  'age in days': parsers['diff-d'],\n  // 'birth date and age2': date,\n  // 'age in years, months, weeks and days': true,\n  // 'age as of date': true,\n  // https://en.wikipedia.org/wiki/Template:As_of\n  'as of': (tmpl) => {\n    let obj = parse(tmpl, ['year', 'month', 'day'])\n    if (obj.alt) {\n      return obj.alt\n    }\n    let out = 'As of '\n    if (obj.since) {\n      out = 'Since '\n    }\n    if (obj.lc) {\n      out = out.toLowerCase()\n    }\n    if (obj.bare) {\n      out = ''\n    }\n    if (obj.pre) {\n      out += obj.pre + ' '\n    }\n    let format = toTextBritish\n    if (obj.df == \"US\") {\n      format = toText\n    }\n    let dateObj = ymd([obj.year, obj.month, obj.day])\n    out += format(dateObj)\n    if (obj.post) {\n      out += obj.post\n    }\n    return out\n  }\n}\n", "import parse from '../../../parse/toJSON/index.js'\n\n/**\n * converts DMS (decimal-minute-second) geo format to lat/lng format.\n * major thank you to https://github.com/gmaclennan/parse-dms and https://github.com/WSDOT-GIS/dms-js 👏\n **/\nfunction parseDMS(arr) {\n  let hemisphere = arr.pop()\n  let degrees = Number(arr[0] || 0)\n  let minutes = Number(arr[1] || 0)\n  let seconds = Number(arr[2] || 0)\n  if (typeof hemisphere !== 'string' || isNaN(degrees)) {\n    return null\n  }\n  let sign = 1\n  if (/[SW]/i.test(hemisphere)) {\n    sign = -1\n  }\n  return sign * (degrees + minutes / 60 + seconds / 3600)\n}\n\nconst round = function (num) {\n  if (typeof num !== 'number') {\n    return num\n  }\n  let places = 100000\n  return Math.round(num * places) / places\n}\n\n//these hemispheres mean negative decimals\nconst negative = {\n  s: true,\n  w: true,\n}\n\nconst findLatLng = function (arr) {\n  const types = arr.map((s) => typeof s).join('|')\n  //support {{lat|lng}}\n  if (arr.length === 2 && types === 'number|number') {\n    return {\n      lat: arr[0],\n      lon: arr[1],\n    }\n  }\n  //support {{dd|N/S|dd|E/W}}\n  if (arr.length === 4 && types === 'number|string|number|string') {\n    if (negative[arr[1].toLowerCase()]) {\n      arr[0] *= -1\n    }\n    if (arr[3].toLowerCase() === 'w') {\n      arr[2] *= -1\n    }\n    return {\n      lat: arr[0],\n      lon: arr[2],\n    }\n  }\n  //support {{dd|mm|N/S|dd|mm|E/W}}\n  if (arr.length === 6) {\n    return {\n      lat: parseDMS(arr.slice(0, 3)),\n      lon: parseDMS(arr.slice(3)),\n    }\n  }\n  //support {{dd|mm|ss|N/S|dd|mm|ss|E/W}}\n  if (arr.length === 8) {\n    return {\n      lat: parseDMS(arr.slice(0, 4)),\n      lon: parseDMS(arr.slice(4)),\n    }\n  }\n  return {}\n}\n\nconst parseParams = function (obj) {\n  obj.list = obj.list || []\n  obj.list = obj.list.map((str) => {\n    let num = Number(str)\n    if (!isNaN(num)) {\n      return num\n    }\n    //these are weird\n    let split = str.split(/:/)\n    if (split.length > 1) {\n      obj.props = obj.props || {}\n      obj.props[split[0]] = split.slice(1).join(':')\n      return null\n    }\n    return str\n  })\n  obj.list = obj.list.filter((s) => s !== null)\n  return obj\n}\n\nconst parseCoor = function (tmpl) {\n  let obj = parse(tmpl)\n  obj = parseParams(obj)\n  let tmp = findLatLng(obj.list)\n  obj.lat = round(tmp.lat)\n  obj.lon = round(tmp.lon)\n  obj.template = 'coord'\n  delete obj.list\n  return obj\n}\n\n//console.log(parseDms([57, 18, 22, 'N']));\n//console.log(parseDms([4, 27, 32, 'W']));\n\nexport default parseCoor\n// {{Coor title dms|dd|mm|ss|N/S|dd|mm|ss|E/W|template parameters}}\n// {{Coor title dec|latitude|longitude|template parameters}}\n// {{Coor dms|dd|mm|ss|N/S|dd|mm|ss|E/W|template parameters}}\n// {{Coor dm|dd|mm|N/S|dd|mm|E/W|template parameters}}\n// {{Coor dec|latitude|longitude|template parameters}}\n\n// {{coord|latitude|longitude|coordinate parameters|template parameters}}\n// {{coord|dd|N/S|dd|E/W|coordinate parameters|template parameters}}\n// {{coord|dd|mm|N/S|dd|mm|E/W|coordinate parameters|template parameters}}\n// {{coord|dd|mm|ss|N/S|dd|mm|ss|E/W|coordinate parameters|template parameters}}\n", "import parseCoor from './_lib.js'\n\nconst templates = {\n  coord: (tmpl, list) => {\n    let obj = parseCoor(tmpl)\n    list.push(obj)\n    //display inline, by default\n    if (!obj.display || obj.display.indexOf('inline') !== -1) {\n      return `${obj.lat || ''}°N, ${obj.lon || ''}°W`\n    }\n    return ''\n  },\n}\n\n//{{coord|latitude|longitude|coordinate parameters|template parameters}}\n//{{coord|dd|N/S|dd|E/W|coordinate parameters|template parameters}}\n//{{coord|dd|mm|N/S|dd|mm|E/W|coordinate parameters|template parameters}}\n//{{coord|dd|mm|ss|N/S|dd|mm|ss|E/W|coordinate parameters|template parameters}}\n\nexport default templates\n", "import parse from '../../parse/toJSON/index.js'\n\nconst generic = function (tmpl, list, _parser, alias) {\n  let obj = parse(tmpl)\n  if (alias) {\n    obj.name = obj.template\n    obj.template = alias\n  }\n  list.push(obj)\n  return ''\n}\n// it may seem redundant,\n// but we need these templates for our i18n mappings\nconst misc = {\n  persondata: generic,\n  taxobox: generic,\n  citation: generic,\n  portal: generic,\n  reflist: generic,\n  'cite book': generic,\n  'cite journal': generic,\n  'cite web': generic,\n  'commons cat': generic,\n  'election box candidate': generic,\n  'election box begin': generic,\n  main: generic,\n}\nexport default misc\n", "import parse from '../../parse/toJSON/index.js'\n\nconst codes = {\n  adx: 'adx', //https://en.wikipedia.org/wiki/Template:Abu_Dhabi_Securities_Exchange\n  aim: 'aim', //https://en.wikipedia.org/wiki/Template:Alternative_Investment_Market\n  amex: 'amex', //https://en.wikipedia.org/wiki/Template:NYSE_American\n  asx: 'asx', //https://en.wikipedia.org/wiki/Template:Australian_Securities_Exchange\n  athex: 'athex', //https://en.wikipedia.org/wiki/Template:Athens_Exchange\n  b3: 'b3', //https://en.wikipedia.org/wiki/Template:BM%26F_Bovespa (redirects to B3 (stock exchange))\n  'B3 (stock exchange)': 'B3 (stock exchange)', //https://en.wikipedia.org/wiki/Template:B3_(stock_exchange)\n  barbadosse: 'barbadosse', //https://en.wikipedia.org/wiki/Template:Barbados_Stock_Exchange\n  bbv: 'bbv', //https://en.wikipedia.org/wiki/Template:La_Paz_Stock_Exchange\n  bcba: 'bcba', //https://en.wikipedia.org/wiki/Template:Buenos_Aires_Stock_Exchange\n  bcs: 'bcs', //https://en.wikipedia.org/wiki/Template:Santiago_Stock_Exchange\n  bhse: 'bhse', //https://en.wikipedia.org/wiki/Template:Bahrain_Bourse\n  bist: 'bist', //https://en.wikipedia.org/wiki/Template:Borsa_Istanbul\n  bit: 'bit', //https://en.wikipedia.org/wiki/Template:Borsa_Italiana\n  'bm&f bovespa': 'b3', //https://en.wikipedia.org/wiki/Template:BM%26F_Bovespa\n  'bm&f': 'b3', //https://en.wikipedia.org/wiki/Template:BM%26F_Bovespa\n  bmad: 'bmad', //https://en.wikipedia.org/wiki/Template:Bolsa_de_Madrid\n  bmv: 'bmv', //https://en.wikipedia.org/wiki/Template:Mexican_Stock_Exchange\n  'bombay stock exchange': 'bombay stock exchange', //https://en.wikipedia.org/wiki/Template:Bombay_Stock_Exchange\n  'botswana stock exchange': 'botswana stock exchange', //https://en.wikipedia.org/wiki/Template:BM%26F_Bovespa\n  bpse: 'bpse', //https://en.wikipedia.org/wiki/Template:Budapest_Stock_Exchange\n  bse: 'bse', //https://en.wikipedia.org/wiki/Template:Bombay_Stock_Exchange\n  bsx: 'bsx', //https://en.wikipedia.org/wiki/Template:Bermuda_Stock_Exchange\n  bvb: 'bvb', //https://en.wikipedia.org/wiki/Template:Bucharest_Stock_Exchange\n  bvc: 'bvc', //https://en.wikipedia.org/wiki/Template:Colombian_Securities_Exchange\n  bvl: 'bvl', //https://en.wikipedia.org/wiki/Template:Lima_Stock_Exchange\n  bvpasa: 'bvpasa', //https://en.wikipedia.org/wiki/Template:BVPASA\n  bwse: 'bwse', //https://en.wikipedia.org/wiki/Template:Botswana_Stock_Exchange\n  'canadian securities exchange': 'canadian securities exchange', //https://en.wikipedia.org/wiki/Template:Canadian_Securities_Exchange\n  cse: 'cse', //https://en.wikipedia.org/wiki/Template:Chittagong_Stock_Exchange\n  darse: 'darse', //https://en.wikipedia.org/wiki/Template:Dar_es_Salaam_Stock_Exchange\n  dfm: 'dfm', //https://en.wikipedia.org/wiki/Template:Dubai_Financial_Market\n  dse: 'dse', //https://en.wikipedia.org/wiki/Template:Dhaka_Stock_Exchange\n  euronext: 'euronext', //https://en.wikipedia.org/wiki/Template:Euronext\n  euronextparis: 'euronextparis', //https://en.wikipedia.org/wiki/Template:EuronextParis\n  fse: 'fse', //https://en.wikipedia.org/wiki/Template:Fukuoka_Stock_Exchange\n  fwb: 'fwb', //https://en.wikipedia.org/wiki/Template:Frankfurt_Stock_Exchange\n  gse: 'gse', //https://en.wikipedia.org/wiki/Template:Ghana_Stock_Exchange\n  gtsm: 'gtsm', //https://en.wikipedia.org/wiki/Template:Gre_Tai_Securities_Market\n  idx: 'idx', //https://en.wikipedia.org/wiki/Template:Indonesia_Stock_Exchange\n  ise: 'ise', //https://en.wikipedia.org/wiki/Template:Irish_Stock_Exchange\n  iseq: 'iseq', //https://en.wikipedia.org/wiki/Template:Irish_Stock_Exchange\n  isin: 'isin', //https://en.wikipedia.org/wiki/Template:ISIN\n  jasdaq: 'jasdaq', //https://en.wikipedia.org/wiki/Template:JASDAQ\n  jse: 'jse', //https://en.wikipedia.org/wiki/Template:Johannesburg_Stock_Exchange\n  kase: 'kase', //https://en.wikipedia.org/wiki/Template:Kazakhstan_Stock_Exchange\n  kn: 'kn', //https://en.wikipedia.org/wiki/Template:Nairobi_Securities_Exchange\n  krx: 'krx', //https://en.wikipedia.org/wiki/Template:Korea_Exchange\n  lse: 'lse', //https://en.wikipedia.org/wiki/Template:London_Stock_Exchange\n  luxse: 'luxse', //https://en.wikipedia.org/wiki/Template:Luxembourg_Stock_Exchange\n  'malta stock exchange': 'malta stock exchange', //https://en.wikipedia.org/wiki/Template:Malta_Stock_Exchange\n  mai: 'mai', //https://en.wikipedia.org/wiki/Template:Market_for_Alternative_Investment\n  mcx: 'mcx', //https://en.wikipedia.org/wiki/Template:Moscow_Exchange\n  mutf: 'mutf', //https://en.wikipedia.org/wiki/Template:Mutual_fund\n  myx: 'myx', //https://en.wikipedia.org/wiki/Template:Bursa_Malaysia\n  nag: 'nag', //https://en.wikipedia.org/wiki/Template:Nagoya_Stock_Exchange\n  'nasdaq dubai': 'nasdaq dubai', //https://en.wikipedia.org/wiki/Template:NASDAQ_Dubai\n  nasdaq: 'nasdaq', //https://en.wikipedia.org/wiki/Template:NASDAQ\n  neeq: 'neeq', //https://en.wikipedia.org/wiki/Template:NEEQ\n  nepse: 'nepse', //https://en.wikipedia.org/wiki/Template:Nepal_Stock_Exchange\n  nex: 'nex', //https://en.wikipedia.org/wiki/Template:TSXV_NEX\n  nse: 'nse', //https://en.wikipedia.org/wiki/Template:National_Stock_Exchange_of_India\n  newconnect: 'newconnect', //https://en.wikipedia.org/wiki/Template:NewConnect\n  'nyse arca': 'nyse arca', //https://en.wikipedia.org/wiki/Template:NYSE_Arca\n  nyse: 'nyse', //https://en.wikipedia.org/wiki/Template:New_York_Stock_Exchange\n  nzx: 'nzx', //https://en.wikipedia.org/wiki/Template:New_Zealand_Exchange\n  'omx baltic': 'omx baltic', //https://en.wikipedia.org/wiki/Template:OMX_Baltic\n  omx: 'omx', //https://en.wikipedia.org/wiki/Template:OMX\n  ose: 'ose', //https://en.wikipedia.org/wiki/Template:Oslo_Stock_Exchange\n  'otc expert': 'otc expert', //https://en.wikipedia.org/wiki/Template:OTC_Expert\n  'otc grey': 'otc grey', //https://en.wikipedia.org/wiki/template:grey_market\n  'otc pink': 'otc pink', //https://en.wikipedia.org/wiki/Template:OTC_Pink\n  otcqb: 'otcqb', //https://en.wikipedia.org/wiki/Template:OTCQB\n  otcqx: 'otcqx', //https://en.wikipedia.org/wiki/Template:OTCQX\n  'pfts ukraine stock exchange': 'pfts ukraine stock exchange', //https://en.wikipedia.org/wiki/Template:PFTS_Ukraine_Stock_Exchange\n  'philippine stock exchange': 'philippine stock exchange', //https://en.wikipedia.org/wiki/Template:Philippine_Stock_Exchange\n  prse: 'prse', //https://en.wikipedia.org/wiki/Template:Prague_Stock_Exchange\n  psx: 'psx', //https://en.wikipedia.org/wiki/Template:Pakistan_Stock_Exchange\n  karse: 'karse', //https://en.wikipedia.org/w/index.php?title=Template:Karse&redirect=no (redirects to psx)\n  qe: 'qe', //https://en.wikipedia.org/wiki/Template:Qatar_Stock_Exchange\n  'saudi stock exchange': 'saudi stock exchange', //https://en.wikipedia.org/wiki/Template:Saudi_Stock_Exchange\n  sehk: 'sehk', //https://en.wikipedia.org/wiki/Template:Hong_Kong_Stock_Exchange\n  'Stock Exchange of Thailand': 'Stock Exchange of Thailand', //https://en.wikipedia.org/wiki/Template:Stock_Exchange_of_Thailand (alternative for SET)\n  set: 'set', //https://en.wikipedia.org/wiki/Template:Stock_Exchange_of_Thailand\n  sgx: 'sgx', //https://en.wikipedia.org/wiki/Template:Singapore_Exchange\n  sse: 'sse', //https://en.wikipedia.org/wiki/Template:Shanghai_Stock_Exchange\n  swx: 'swx', //https://en.wikipedia.org/wiki/Template:SIX_Swiss_Exchange\n  szse: 'szse', //https://en.wikipedia.org/wiki/Template:Shenzhen_Stock_Exchange\n  tase: 'tase', //https://en.wikipedia.org/wiki/Template:Tel_Aviv_Stock_Exchange\n  'tsx-v': 'tsx-v', //https://en.wikipedia.org/wiki/Template:TSX_Venture_Exchange\n  tsx: 'tsx', //https://en.wikipedia.org/wiki/Template:Toronto_Stock_Exchange\n  tsxv: 'tsxv', //https://en.wikipedia.org/wiki/Template:TSX_Venture_Exchange\n  ttse: 'ttse', //https://en.wikipedia.org/wiki/Template:Trinidad_and_Tobago_Stock_Exchange\n  twse: 'twse', //https://en.wikipedia.org/wiki/Template:Taiwan_Stock_Exchange\n  tyo: 'tyo', //https://en.wikipedia.org/wiki/Template:Tokyo_Stock_Exchange\n  wbag: 'wbag', //https://en.wikipedia.org/wiki/Template:Wiener_B%C3%B6rse\n  wse: 'wse', //https://en.wikipedia.org/wiki/Template:Warsaw_Stock_Exchange\n  'zagreb stock exchange': 'zagreb stock exchange', //https://en.wikipedia.org/wiki/Template:Zagreb_Stock_Exchange\n  'zimbabwe stock exchange': 'zimbabwe stock exchange', //https://en.wikipedia.org/wiki/Template:Zimbabwe_Stock_Exchange\n  zse: 'zse', //https://en.wikipedia.org/wiki/Template:Zagreb_Stock_Exchange\n}\n\nconst parseStockExchange = (tmpl, list) => {\n  let o = parse(tmpl, ['ticketnumber', 'code'])\n  list.push(o)\n  let code = o.template || ''\n  if (code === '') {\n    code = o.code\n  }\n  code = (code || '').toLowerCase()\n  let str = codes[code] || ''\n  if (o.ticketnumber) {\n    str = `${str}: ${o.ticketnumber}`\n  }\n  if (o.code && !codes[o.code.toLowerCase()]) {\n    str += ' ' + o.code\n  }\n  return str\n}\n\nconst exchanges = {}\n//the others fit the same pattern..\nObject.keys(codes).forEach((k) => {\n  exchanges[k] = parseStockExchange\n})\n\nexport default exchanges\n", "import parse from '../../../parse/toJSON/index.js'\n\nconst zeroPad = function (num) {\n  num = String(num)\n  if (num.length === 1) {\n    num = '0' + num\n  }\n  return num\n}\n\nconst parseTeam = function (obj, round, team) {\n  if (obj[`rd${round}-team${zeroPad(team)}`]) {\n    team = zeroPad(team)\n  }\n  let score = obj[`rd${round}-score${team}`]\n  let num = Number(score)\n  if (isNaN(num) === false) {\n    score = num\n  }\n  return {\n    team: obj[`rd${round}-team${team}`],\n    score: score,\n    seed: obj[`rd${round}-seed${team}`],\n  }\n}\n\n// https://en.wikipedia.org/wiki/Category:Tournament_bracket_templates\n//these are weird.\nconst playoffBracket = function (tmpl) {\n  let rounds = []\n  let obj = parse(tmpl)\n  //try some rounds\n  for (let i = 1; i < 7; i += 1) {\n    let round = []\n    for (let t = 1; t < 16; t += 2) {\n      let key = `rd${i}-team`\n      if (obj[key + t] || obj[key + zeroPad(t)]) {\n        let one = parseTeam(obj, i, t)\n        let two = parseTeam(obj, i, t + 1)\n        round.push([one, two])\n      } else {\n        break\n      }\n    }\n    if (round.length > 0) {\n      rounds.push(round)\n    }\n  }\n  return {\n    template: 'playoffbracket',\n    rounds: rounds,\n  }\n}\n\nexport default playoffBracket\n", "import parse from '../../../parse/toJSON/index.js'\nimport flags from '../../../../_data/flags.js'\nimport playoffBracket from './_lib.js'\n\nlet sports = {\n  //playoff brackets\n  '4teambracket': function (tmpl, list) {\n    let obj = playoffBracket(tmpl)\n    list.push(obj)\n    return ''\n  },\n\n\n  player: (tmpl, list) => {\n    let res = parse(tmpl, ['number', 'country', 'name', 'dl'])\n    list.push(res)\n    let str = `[[${res.name}]]`\n    if (res.country) {\n      let country = (res.country || '').toLowerCase()\n      let flag = flags.find((a) => country === a[1] || country === a[2]) || []\n      if (flag && flag[0]) {\n        str = flag[0] + '  ' + str\n      }\n    }\n    if (res.number) {\n      str = res.number + ' ' + str\n    }\n    return str\n  },\n\n  //https://en.wikipedia.org/wiki/Template:Goal\n  goal: (tmpl, list) => {\n    let res = parse(tmpl)\n    let obj = {\n      template: 'goal',\n      data: [],\n    }\n    let arr = res.list || []\n    for (let i = 0; i < arr.length; i += 2) {\n      obj.data.push({\n        min: arr[i],\n        note: arr[i + 1] || '',\n      })\n    }\n    list.push(obj)\n    //generate a little text summary\n    let summary = '⚽ '\n    summary += obj.data\n      .map((o) => {\n        let note = o.note\n        if (note) {\n          note = ` (${note})`\n        }\n        return o.min + \"'\" + note\n      })\n      .join(', ')\n    return summary\n  },\n\n  //a transcluded sports module - https://en.m.wikipedia.org/w/index.php?title=Special:WhatLinksHere/Module:Sports_table\n  // https://en.wikipedia.org/wiki/Template:2020–21_NHL_North_Division_standings\n  'sports table': (tmpl, list) => {\n    let obj = parse(tmpl)\n    let byTeam = {}\n    let teams = Object.keys(obj)\n      .filter((k) => /^team[0-9]/.test(k))\n      .map((k) => obj[k].toLowerCase())\n    teams.forEach((team) => {\n      byTeam[team] = {\n        name: obj[`name_${team}`],\n        win: Number(obj[`win_${team}`]) || 0,\n        loss: Number(obj[`loss_${team}`]) || 0,\n        tie: Number(obj[`tie_${team}`]) || 0,\n        otloss: Number(obj[`otloss_${team}`]) || 0,\n        goals_for: Number(obj[`gf_${team}`]) || 0,\n        goals_against: Number(obj[`ga_${team}`]) || 0,\n      }\n    })\n    let res = {\n      date: obj.update,\n      header: obj.table_header,\n      teams: byTeam,\n    }\n    list.push(res)\n  },\n\n  // college baseketball rosters\n  'cbb roster/header': function () {\n    return `{| class=\"wikitable\"\n    |-\n    ! POS\n    ! #\n    ! Name\n    ! Height\n    ! Weight\n    ! Year\n    ! Previous School\n    ! Hometown\n    |-\\n`\n  },\n  'cbb roster/player': function (tmpl, list) {\n    let data = parse(tmpl)\n    list.push(data)\n    // first=|last=|dab=|num=|pos=|ft=|in=|lbs=|class=|rs=|home=\n    return `|-\n| ${data.pos || ''}\n| ${data.num || ''}\n| ${data.first || ''} ${data.last || ''}\n| ${data.ft || ''}${data.in || ''}\n| ${data.lbs || ''}\n| ${data.class || ''}\n| ${data.high_school || ''}\n| ${data.home || ''}\n`\n  },\n  'cbb roster/footer': function () {\n    return `\\n|}`\n  },\n}\nexport default sports\n", "import shorthand from './shorthand.js'\nimport functions from './functions.js'\nimport currency from './currency.js'\nimport dates from './dates/index.js'\nimport geo from './geo/index.js'\nimport misc from './misc.js'\nimport stock from './stock-exchanges.js'\nimport sportsLib from './sports/_lib.js'\nimport sports from './sports/sports.js'\n\n\nexport default Object.assign(\n  {},\n  shorthand,\n  functions,\n  currency,\n  dates,\n  geo,\n  misc,\n  stock,\n  sportsLib,\n  sports,\n)\n", "/* eslint-disable no-console */\nimport aliases from './aliases.js'\nimport textTmpl from './text-only/index.js'\nimport dataTmpl from './data-only/index.js'\nimport bothTmpl from './text-and-data/index.js'\n\nlet templates = Object.assign({}, textTmpl, dataTmpl, bothTmpl)\n\nObject.keys(aliases).forEach((k) => {\n  if (templates[aliases[k]] === undefined) {\n    console.error(`Missing template: '${aliases[k]}'`)\n  }\n  templates[k] = templates[aliases[k]]\n})\nexport default templates\n", "import ignore from './_ignore.js'\nimport { isInfobox, fmtInfobox } from './_infobox.js'\nimport templates from '../custom/index.js'\nimport toJSON from './toJSON/index.js'\nimport { isArray, isObject } from '../../_lib/helpers.js'\n\nconst nums = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']\n\n//this gets all the {{template}} objects and decides how to parse them\nconst parseTemplate = function (tmpl, doc) {\n  let name = tmpl.name\n  // dont bother with some junk templates\n  if (ignore.hasOwnProperty(name) === true) {\n    return ['']\n  }\n  //{{infobox settlement...}}\n  if (isInfobox(name) === true) {\n    let obj = toJSON(tmpl.body, [], 'raw')\n    // list.push(infobox.format(obj))\n    return ['', fmtInfobox(obj)]\n  }\n  //cite book, cite arxiv...\n  if (/^cite [a-z]/.test(name) === true) {\n    let obj = toJSON(tmpl.body)\n    obj.type = obj.template\n    obj.template = 'citation'\n    // list.push(obj)\n    return ['', obj]\n  }\n  // ok, here we go!\n  //parse some known templates\n  if (templates.hasOwnProperty(name) === true) {\n    //handle number-syntax\n    if (typeof templates[name] === 'number') {\n      let obj = toJSON(tmpl.body, nums)\n      let key = String(templates[name])\n      return [obj[key] || '']\n    }\n    //handle string-syntax\n    if (typeof templates[name] === 'string') {\n      return [templates[name]]\n    }\n    //handle array sytax\n    if (isArray(templates[name]) === true) {\n      let obj = toJSON(tmpl.body, templates[name])\n      // list.push(obj)\n      return ['', obj]\n    }\n    //handle object sytax\n    if (isObject(templates[name]) === true) {\n      let obj = toJSON(tmpl.body, templates[name].props)\n      // list.push(obj)\n      return [obj[templates[name].out], obj]\n    }\n    //handle function syntax\n    if (typeof templates[name] === 'function') {\n      // let json = toJSON(tmpl.body)\n      //(tmpl, list, alias, doc)\n      let arr = []\n      let txt = templates[name](tmpl.body, arr, toJSON, null, doc)\n      return [txt, arr[0]]\n    }\n  }\n  //if set, try using the global template fallback parser\n  if (doc && doc._templateFallbackFn) {\n    let arr = []\n    let txt = doc._templateFallbackFn(tmpl.body, arr, toJSON, null, doc)\n    if (txt !== null) {\n      return [txt, arr[0]]\n    }\n  }\n  //an unknown template with data, so just keep it.\n  let json = toJSON(tmpl.body)\n  if (Object.keys(json).length === 0) {\n    // list.push(json)\n    json = null\n  }\n  //..then remove it\n  return ['', json]\n}\nexport default parseTemplate\n", "import encodeObj from '../_lib/encode.js'\n\n/**\n * turn an infobox into some nice json\n * \n * @param {object} infobox \n * @param {object} [options] \n * @returns {object}\n */\nconst toJson = function (infobox, options) {\n  let json = Object.keys(infobox.data).reduce((h, k) => {\n    if (infobox.data[k]) {\n      h[k] = infobox.data[k].json()\n    }\n    return h\n  }, {})\n\n  //support mongo-encoding keys\n  if (options.encode === true) {\n    json = encodeObj(json)\n  }\n  return json\n}\nexport default toJson\n", "import toJson from './toJson.js'\nimport Image from '../image/Image.js'\nimport { isArray } from '../_lib/helpers.js'\nimport Sentence from '../04-sentence/Sentence.js'\n\nconst normalize = (str = '') => {\n  str = str.toLowerCase()\n  str = str.replace(/[-_]/g, ' ')\n  return str.trim()\n}\n\n//a formal key-value data table about a topic\nconst Infobox = function (obj, wiki) {\n  this._type = obj.type\n  this.domain = obj.domain\n  Object.defineProperty(this, 'data', {\n    enumerable: false,\n    value: obj.data,\n  })\n  Object.defineProperty(this, 'wiki', {\n    enumerable: false,\n    value: wiki,\n  })\n}\n\nconst methods = {\n  type: function () {\n    return this._type\n  },\n  links: function (n) {\n    let arr = []\n    Object.keys(this.data).forEach((k) => {\n      this.data[k].links().forEach((l) => arr.push(l))\n    })\n    if (typeof n === 'string') {\n      //grab a link like .links('Fortnight')\n      n = n.charAt(0).toUpperCase() + n.substring(1) //titlecase it\n      let link = arr.find((o) => o.page() === n)\n      return link === undefined ? [] : [link]\n    }\n    return arr\n  },\n  image: function () {\n    let s = this.data.image || this.data.image2 || this.data.logo || this.data.image_skyline || this.data.image_flag\n    if (!s) {\n      return null\n    }\n    let obj = s.json()\n    let file = obj.text\n    obj.file = file\n    obj.text = ''\n    obj.caption = this.data.caption\n    obj.domain = this.domain // add domain information for image\n    return new Image(obj)\n  },\n  get: function (keys) {\n    let allKeys = Object.keys(this.data)\n    if (typeof keys === 'string') {\n      let key = normalize(keys)\n      for (let i = 0; i < allKeys.length; i += 1) {\n        let tmp = normalize(allKeys[i])\n        if (key === tmp) {\n          return this.data[allKeys[i]]\n        }\n      }\n      return new Sentence()\n    }\n    if (isArray(keys)) {\n      // support array-input\n      keys = keys.map(normalize)\n      return keys.map((k) => {\n        for (let i = 0; i < allKeys.length; i += 1) {\n          let tmp = normalize(allKeys[i])\n          if (k === tmp) {\n            return this.data[allKeys[i]]\n          }\n        }\n        return new Sentence()\n      })\n    }\n    return new Sentence()\n  },\n  text: function () {\n    return ''\n  },\n  json: function (options) {\n    options = options || {}\n    return toJson(this, options)\n  },\n  wikitext: function () {\n    return this.wiki || ''\n  },\n  keyValue: function () {\n    return Object.keys(this.data).reduce((h, k) => {\n      if (this.data[k]) {\n        h[k] = this.data[k].text()\n      }\n      return h\n    }, {})\n  },\n}\n//aliases\nObject.keys(methods).forEach((k) => {\n  Infobox.prototype[k] = methods[k]\n})\nInfobox.prototype.data = Infobox.prototype.keyValue\nInfobox.prototype.template = Infobox.prototype.type\nInfobox.prototype.images = Infobox.prototype.image\nexport default Infobox\n", "import encodeObj from '../_lib/encode.js'\n\n//also called 'citations'\nconst Reference = function (data, wiki) {\n  Object.defineProperty(this, 'data', {\n    enumerable: false,\n    value: data,\n  })\n  Object.defineProperty(this, 'wiki', {\n    enumerable: false,\n    value: wiki,\n  })\n}\n\nconst methods = {\n  title: function () {\n    let data = this.data\n    return data.title || data.encyclopedia || data.author || ''\n  },\n  links: function (n) {\n    let arr = []\n    if (typeof n === 'number') {\n      return arr[n]\n    }\n    //grab a specific link..\n    if (typeof n === 'number') {\n      return arr[n]\n    } else if (typeof n === 'string') {\n      //grab a link like .links('Fortnight')\n      n = n.charAt(0).toUpperCase() + n.substring(1) //titlecase it\n      let link = arr.find((o) => o.page() === n)\n      return link === undefined ? [] : [link]\n    }\n    return arr || []\n  },\n  text: function () {\n    return '' //nah, skip these.\n  },\n  wikitext: function () {\n    return this.wiki || ''\n  },\n  json: function (options = {}) {\n    let json = this.data || {}\n    //encode them, for mongodb\n    if (options.encode === true) {\n      json = Object.assign({}, json)\n      json = encodeObj(json)\n    }\n    return json\n  },\n}\nObject.keys(methods).forEach((k) => {\n  Reference.prototype[k] = methods[k]\n})\nexport default Reference\n", "import { fromText } from '../04-sentence/index.js'\n\nconst methods = {\n  text: function () {\n    let str = this._text || ''\n    return fromText(str).text()\n  },\n  json: function () {\n    return this.data || {}\n  },\n  wikitext: function () {\n    return this.wiki || ''\n  },\n}\n\nconst Template = function (data, text = '', wiki = '') {\n  Object.defineProperty(this, 'data', {\n    enumerable: false,\n    value: data,\n  })\n  Object.defineProperty(this, '_text', {\n    enumerable: false,\n    value: text,\n  })\n  Object.defineProperty(this, 'wiki', {\n    enumerable: false,\n    value: wiki,\n  })\n}\n\nObject.keys(methods).forEach((k) => {\n  Template.prototype[k] = methods[k]\n})\nexport default Template\n", "import Infobox from '../infobox/Infobox.js'\nimport Reference from '../reference/Reference.js'\nimport Template from './Template.js'\nconst isCitation = /^(cite |citation)/i\n\nconst referenceTypes = {\n  citation: true,\n  refn: true,\n  harvnb: true,\n  source: true, //wikinews\n}\n\n// split Infoboxes from templates and references\nconst sortOut = function (list, domain) {\n  let res = {\n    infoboxes: [],\n    templates: [],\n    references: [],\n  }\n  //remove references and infoboxes from our list\n  list.forEach((obj) => {\n    let json = obj.json\n    let kind = json.template || json.type || json.name\n    // is it a Reference?\n    if (referenceTypes[kind] === true || isCitation.test(kind) === true) {\n      res.references.push(new Reference(json, obj.wiki))\n      return\n    }\n    // is it an Infobox?\n    if (json.template === 'infobox' && json.subbox !== 'yes') {\n      json.domain = domain //infoboxes need this for images, i guess\n      json.data = json.data || {} //validate it a little\n      res.infoboxes.push(new Infobox(json, obj.wiki))\n      return\n    }\n    // otherwise, it's just a template\n    res.templates.push(new Template(json, obj.text, obj.wiki))\n  })\n  return res\n}\n\nexport default sortOut\n", "import findTemplates from './find/01-nested.js'\nimport parseTemplate from './parse/index.js'\nimport sortOut from './sortOut.js'\n\n// return a flat list of all {{templates}}\nconst allTemplates = function (wiki, doc) {\n  let list = []\n  //nested data-structure of templates\n  let nested = findTemplates(wiki)\n  //recursive template-parser\n  const parseNested = function (obj, parent) {\n    obj.parent = parent\n    //do tail-first recursion\n    if (obj.children && obj.children.length > 0) {\n      obj.children.forEach((ch) => parseNested(ch, obj))\n    }\n    //parse template into json, return replacement wikitext\n    let [text, json] = parseTemplate(obj, doc)\n    obj.wiki = text\n    if (json) {\n      list.push({\n        name: obj.name,\n        wiki: obj.body,\n        nested: Boolean(obj.parent),\n        text: text,\n        json: json,\n      })\n    }\n    //remove the text from every parent\n    const removeIt = function (node, body, out) {\n      if (node.parent) {\n        node.parent.body = node.parent.body.replace(body, out)\n        removeIt(node.parent, body, out)\n      }\n    }\n    removeIt(obj, obj.body, obj.wiki)\n    wiki = wiki.replace(obj.body, obj.wiki)\n  }\n  //kick it off\n  nested.forEach((node) => parseNested(node, null))\n  //remove the templates from our wiki text\n  nested.forEach((node) => {\n    wiki = wiki.replace(node.body, node.wiki)\n  })\n  return { list: list, wiki: wiki }\n}\n\n//find + parse all templates in the section\nconst process = function (section, doc) {\n  // find+parse them all\n  let { list, wiki } = allTemplates(section._wiki, doc)\n  // split-out references and infoboxes\n  let domain = doc ? doc._domain : null\n  let { infoboxes, references, templates } = sortOut(list, domain)\n\n  //sort-out the templates we decide to keep\n  section._infoboxes = section._infoboxes || []\n  section._references = section._references || []\n  section._templates = section._templates || []\n\n  section._infoboxes = section._infoboxes.concat(infoboxes)\n  section._references = section._references.concat(references)\n  section._templates = section._templates.concat(templates)\n\n  section._wiki = wiki\n}\n\nexport default process\n", "import parse from '../template/parse/toJSON/index.js'\nimport { fromText as parseSentence } from '../04-sentence/index.js'\nimport Reference from './Reference.js'\nimport getTemplates from '../template/find/02-flat.js'\n\n//structured Cite templates - <ref>{{Cite..</ref>\nconst hasCitation = function (str) {\n  return /^ *\\{\\{ *(cite|citation)/i.test(str) && /\\}\\} *$/.test(str) && /citation needed/i.test(str) === false\n}\n\nconst parseCitation = function (tmpl) {\n  let obj = parse(tmpl)\n  obj.type = obj.template.replace(/cite /, '')\n  obj.template = 'citation'\n  return obj\n}\n\n//handle unstructured ones - <ref>some text</ref>\nconst parseInline = function (str) {\n  let obj = parseSentence(str) || {}\n  return {\n    template: 'citation',\n    type: 'inline',\n    data: {},\n    inline: obj,\n  }\n}\n\n//parse <ref></ref> xml tags\nconst parseRefs = function (section) {\n  let references = []\n  let wiki = section._wiki\n\n  wiki = wiki.replace(/ ?<ref>([\\s\\S]{0,1800}?)<\\/ref> ?/gi, function (all, txt) {\n    let found = false\n    // there could be more than 1 template inside a <ref><ref>\n    let arr = getTemplates(txt)\n    arr.forEach((tmpl) => {\n      if (hasCitation(tmpl)) {\n        let obj = parseCitation(tmpl)\n        if (obj) {\n          references.push({ json: obj, wiki: all })\n          found = true\n        }\n        wiki = wiki.replace(tmpl, '')\n      }\n    })\n    // parse as an inline reference\n    if (!found) {\n      references.push({ json: parseInline(txt), wiki: all })\n    }\n    return ' '\n  })\n\n  //<ref name=\"\"/>\n  wiki = wiki.replace(/ ?<ref [^>]{0,200}?\\/> ?/gi, ' ')\n\n  //<ref name=\"\"></ref> (a gross copy of above parsing)\n  wiki = wiki.replace(/ ?<ref [^>]{0,200}>([\\s\\S]{0,1800}?)<\\/ref> ?/gi, function (all, txt) {\n    let found = false\n    // there could be more than 1 template inside a <ref><ref>\n    let arr = getTemplates(txt)\n    arr.forEach((tmpl) => {\n      if (hasCitation(tmpl)) {\n        let obj = parseCitation(tmpl)\n        if (obj) {\n          references.push({ json: obj, wiki: all })\n          found = true\n        }\n        wiki = wiki.replace(tmpl, '')\n      }\n    })\n    // parse as an inline reference\n    if (!found) {\n      references.push({ json: parseInline(txt), wiki: all })\n    }\n    return ' '\n  })\n\n  //now that we're done with xml, do a generic + dangerous xml-tag removal\n  wiki = wiki.replace(/ ?<[ /]?[a-z0-9]{1,8}[a-z0-9=\" ]{2,20}[ /]?> ?/g, ' ') //<samp name=\"asd\">\n  section._references = references.map((obj) => new Reference(obj.json, obj.wiki))\n  section._wiki = wiki\n}\n\nexport default parseRefs\n", "import { fromText as parseSentence } from '../../04-sentence/index.js'\nimport Image from '../../image/Image.js'\n//okay, <gallery> is a xml-tag, with newline-separated data, somehow pivoted by '|'...\n//all deities help us. truly -> https://en.wikipedia.org/wiki/Help:Gallery_tag\n//- not to be confused with https://en.wikipedia.org/wiki/Template:Gallery...\n/**\n *\n * @private\n * @param {object} catcher\n * @param {object} doc\n * @param {object} section\n */\nconst parseGallery = function (catcher, doc, section) {\n  catcher.text = catcher.text.replace(/<gallery([^>]*)>([\\s\\S]+)<\\/gallery>/g, (_, _attrs, inside) => {\n    let images = inside.split(/\\n/g)\n    images = images.filter((str) => str && str.trim() !== '')\n\n    //parse the line, which has an image and sometimes a caption\n    images = images.map((str) => {\n      let arr = str.split(/\\|/)\n      let obj = {\n        file: arr[0].trim(),\n        lang: doc.lang(),\n        domain: doc.domain(),\n      }\n      let img = new Image(obj).json()\n      let caption = arr.slice(1).join('|')\n      if (caption !== '') {\n        img.caption = parseSentence(caption)\n      }\n      return img\n    })\n\n    //add it to our templates list\n    if (images.length > 0) {\n      catcher.templates.push({\n        template: 'gallery',\n        images: images,\n        pos: section.title,\n      })\n    }\n\n    //return empty string to remove the template from the wiki text\n    return ''\n  })\n}\nexport default parseGallery\n", "import parseTemplates from '../../template/index.js'\n\n/**\n * parses out the `Election_box` template from the wiki text\n *\n * this is a non-traditional template, for some reason\n * https://en.wikipedia.org/wiki/Template:Election_box\n *\n * @private\n * @param {object} catcher an object to provide and catch data\n * @param {Document} doc\n */\nconst parseElection = function (catcher, doc) {\n  catcher.text = catcher.text.replace(/\\{\\{election box begin([\\s\\S]+?)\\{\\{election box end\\}\\}/gi, (tmpl) => {\n    let data = {\n      _wiki: tmpl,\n      _templates: [],\n    }\n\n    //put it through our full template parser..\n    parseTemplates(data, doc)\n\n    //okay, pull it apart into something sensible..\n    let templates = data._templates.map((t) => t.json())\n\n    let start = templates.find((t) => t.template === 'election box') || {}\n    let candidates = templates.filter((t) => t.template === 'election box candidate')\n    let summary = templates.find((t) => t.template === 'election box gain' || t.template === 'election box hold') || {}\n\n    if (candidates.length > 0 || summary) {\n      catcher.templates.push({\n        template: 'election box',\n        title: start.title,\n        candidates: candidates,\n        summary: summary.data,\n      })\n    }\n\n    //return empty string to remove the template from the wiki text\n    return ''\n  })\n}\n\nexport default parseElection\n", "import tableParser from '../../table/parse/index.js'\nconst keys = {\n  coach: ['team', 'year', 'g', 'w', 'l', 'w-l%', 'finish', 'pg', 'pw', 'pl', 'pw-l%'],\n  player: ['year', 'team', 'gp', 'gs', 'mpg', 'fg%', '3p%', 'ft%', 'rpg', 'apg', 'spg', 'bpg', 'ppg'],\n  roster: ['player', 'gp', 'gs', 'mpg', 'fg%', '3fg%', 'ft%', 'rpg', 'apg', 'spg', 'bpg', 'ppg'],\n}\n\n/**\n * https://en.wikipedia.org/wiki/Template:NBA_player_statistics_start\n *\n * @private\n * @param {object} catcher\n */\nconst parseNBA = function (catcher) {\n  catcher.text = catcher.text.replace(\n    /\\{\\{nba (coach|player|roster) statistics start([\\s\\S]+?)\\{\\{s-end\\}\\}/gi,\n    (tmpl, name) => {\n      tmpl = tmpl.replace(/^\\{\\{.*?\\}\\}/, '')\n      tmpl = tmpl.replace(/\\{\\{s-end\\}\\}/, '')\n      name = name.toLowerCase().trim()\n\n      let headers = '! ' + keys[name].join(' !! ')\n      let table = '{|\\n' + headers + '\\n' + tmpl + '\\n|}'\n      let rows = tableParser(table)\n      rows = rows.map((row) => {\n        Object.keys(row).forEach((k) => {\n          row[k] = row[k].text()\n        })\n        return row\n      })\n\n      catcher.templates.push({\n        template: 'NBA ' + name + ' statistics',\n        data: rows,\n      })\n\n      //return empty string to remove the template from the wiki text\n      return ''\n    }\n  )\n}\nexport default parseNBA\n", "import tableParser from '../../table/parse/index.js'\n//https://en.wikipedia.org/wiki/Template:MLB_game_log_section\n\n//this is pretty nuts\nconst whichHeadings = function (tmpl) {\n  let headings = ['#', 'date', 'opponent', 'score', 'win', 'loss', 'save', 'attendance', 'record']\n  if (/\\|stadium=y/i.test(tmpl) === true) {\n    headings.splice(7, 0, 'stadium') //save, stadium, attendance\n  }\n  if (/\\|time=y/i.test(tmpl) === true) {\n    headings.splice(7, 0, 'time') //save, time, stadium, attendance\n  }\n  if (/\\|box=y/i.test(tmpl) === true) {\n    headings.push('box') //record, box\n  }\n  return headings\n}\n/**\n *\n * @private\n * @param {object} catcher\n */\nconst parseMlb = function (catcher) {\n  catcher.text = catcher.text.replace(/\\{\\{mlb game log /gi, '{{game log ')\n  catcher.text = catcher.text.replace(/\\{\\{game log (section|month)[\\s\\S]+?\\{\\{game log (section|month) end\\}\\}/gi, (tmpl) => {\n    let headings = whichHeadings(tmpl)\n\n    tmpl = tmpl.replace(/^\\{\\{.*?\\}\\}/, '')\n    tmpl = tmpl.replace(/\\{\\{game log (section|month) end\\}\\}/i, '')\n\n    let headers = '! ' + headings.join(' !! ')\n    let table = '{|\\n' + headers + '\\n' + tmpl + '\\n|}'\n    let rows = tableParser(table)\n    rows = rows.map((row) => {\n      Object.keys(row).forEach((k) => {\n        row[k] = row[k].text()\n      })\n      return row\n    })\n    catcher.templates.push({\n      template: 'mlb game log section',\n      data: rows,\n    })\n\n    //return empty string to remove the template from the wiki text\n    return ''\n  }\n  )\n}\nexport default parseMlb\n", "import tableParser from '../../table/parse/index.js'\nlet headings = ['res', 'record', 'opponent', 'method', 'event', 'date', 'round', 'time', 'location', 'notes']\n\n/**\n *\n * https://en.wikipedia.org/wiki/Template:MMA_record_start\n *\n * @private\n * @param {object} catcher\n */\nconst parseMMA = function (catcher) {\n  catcher.text = catcher.text.replace(/\\{\\{mma record start[\\s\\S]+?\\{\\{end\\}\\}/gi, (tmpl) => {\n    tmpl = tmpl.replace(/^\\{\\{.*?\\}\\}/, '')\n    tmpl = tmpl.replace(/\\{\\{end\\}\\}/i, '')\n\n    let headers = '! ' + headings.join(' !! ')\n    let table = '{|\\n' + headers + '\\n' + tmpl + '\\n|}'\n    let rows = tableParser(table)\n    rows = rows.map((row) => {\n      Object.keys(row).forEach((k) => {\n        row[k] = row[k].text()\n      })\n      return row\n    })\n\n    catcher.templates.push({\n      template: 'mma record start',\n      data: rows,\n    })\n\n    //return empty string to remove the template from the wiki text\n    return ''\n  })\n}\nexport default parseMMA\n", "import { fromText as parseSentence } from '../../04-sentence/index.js'\n\n/**\n * try to parse out the math and chem templates\n *\n * xml <math>y=mx+b</math> support\n * https://en.wikipedia.org/wiki/Help:Displaying_a_formula\n *\n * @private\n * @param {object} catcher\n */\nconst parseMath = function (catcher) {\n  catcher.text = catcher.text.replace(/<math([^>]*)>([\\s\\S]*?)<\\/math>/g, (_, attrs, inside) => {\n    //clean it up a little?\n    let formula = parseSentence(inside).text()\n    catcher.templates.push({\n      template: 'math',\n      formula: formula,\n      raw: inside,\n    })\n\n    //should we at least try to render it in plaintext? :/\n    if (formula && formula.length < 12) {\n      return formula\n    }\n\n    //return empty string to remove the template from the wiki text\n    return ''\n  })\n\n  //try chemistry version too\n  catcher.text = catcher.text.replace(/<chem([^>]*)>([\\s\\S]*?)<\\/chem>/g, (_, attrs, inside) => {\n    catcher.templates.push({\n      template: 'chem',\n      data: inside,\n    })\n\n    //return empty string to remove the template from the wiki text\n    return ''\n  })\n}\nexport default parseMath\n", "import parseGallery from './gallery.js'\nimport parseElection from './election.js'\nimport parseNBA from './nba.js'\nimport parseMlb from './mlb.js'\nimport parseMMA from './mma.js'\nimport parseMath from './math.js'\nimport Template from '../../template/Template.js'\n\n/**\n * parses out non standard templates\n *\n * Most templates are '{{template}}',\n * but then, some are '<template></template>' others are {{start}}...{{end}}\n * -> the templates here are of the second type.\n *\n * @private\n * @param {object} section\n * @param {object} doc\n * @returns {Object} wikitext\n */\nconst xmlTemplates = function (section, doc) {\n  const res = {\n    templates: [],\n    text: section._wiki,\n  }\n\n  parseElection(res, doc)\n  parseGallery(res, doc, section)\n  parseMath(res)\n  parseMlb(res)\n  parseMMA(res)\n  parseNBA(res)\n\n  // turn them into Template objects\n  res.templates = res.templates.map((obj) => new Template(obj))\n  return res\n}\n\nexport default xmlTemplates\n", "import toJSON from './toJson.js'\nimport setDefaults from '../_lib/setDefaults.js'\n// import parseHeading from './heading.js'\nimport parseTable from '../table/index.js'\nimport parseParagraphs from '../03-paragraph/index.js'\nimport parseTemplates from '../template/index.js'\nimport parseReferences from '../reference/index.js'\nimport parseStartEndTemplates from './start-to-end/index.js'\n\nconst defaults = {\n  tables: true,\n  references: true,\n  paragraphs: true,\n  templates: true,\n  infoboxes: true,\n}\n\n/**\n * the Section class represents the different sections of the article.\n * we look for the == title == syntax and split and parse the sections from there\n *\n * @class\n */\nclass Section {\n  /**\n   * the stuff between headings - 'History' section for example\n   *\n   * @param {object} data the data already gathered about the section\n   * @param {object} doc the document that this section belongs to\n   */\n  constructor(data, doc) {\n    let props = {\n      doc: doc,\n      title: data.title || '',\n      depth: data.depth,\n      wiki: data.wiki || '',\n      templates: [],\n      tables: [],\n      infoboxes: [],\n      references: [],\n      paragraphs: [],\n    }\n    Object.keys(props).forEach((k) => {\n      Object.defineProperty(this, '_' + k, {\n        enumerable: false,\n        writable: true,\n        value: props[k],\n      })\n    })\n\n    //parse-out <template></template>' and {{start}}...{{end}} templates\n    const startEndTemplates = parseStartEndTemplates(this, doc)\n    this._wiki = startEndTemplates.text\n    this._templates = this._templates.concat(startEndTemplates.templates)\n\n    //parse-out the <ref></ref> tags\n    parseReferences(this)\n    //parse-out all {{templates}}\n    parseTemplates(this, doc)\n\n    //parse the tables\n    parseTable(this)\n\n    //now parse all double-newlines\n    parseParagraphs(this, doc)\n  }\n\n  /**\n   * returns the title of a section. if no title is available then it returns empty string\n   *\n   * @returns {string} the title of the section\n   */\n  title() {\n    return this._title || ''\n  }\n\n  /**\n   * returns the index of the current section in the document\n   *\n   * @returns {number | null} the index of the current section in the document\n   */\n  index() {\n    if (!this._doc) {\n      return null\n    }\n    let index = this._doc.sections().indexOf(this)\n    if (index === -1) {\n      return null\n    }\n    return index\n  }\n\n  /**\n   * returns the depth (or indentation) of the section\n   * aka how many levels deep is this section located\n   *\n   * @returns {number} the depth of the section\n   */\n  depth() {\n    return this._depth\n  }\n\n  /**\n   * returns the depth (or indentation) of the section\n   * aka how many levels deep is this section located\n   *\n   * @returns {number} the depth of the section\n   */\n  indentation() {\n    return this.depth()\n  }\n\n  /**\n   * returns all sentences in the section\n   * if an clue is provided then it returns the sentence at clue-th index\n   *\n   * @returns {object | object[]} all sentences in an array or the clue-th sentence\n   */\n  sentences() {\n    return this.paragraphs().reduce((list, p) => {\n      return list.concat(p.sentences())\n    }, [])\n  }\n\n  /**\n   * returns all paragraphs in the section\n   * if an clue is provided then it returns the paragraph at clue-th index\n   *\n   * @returns {object | object[]} all paragraphs in an array or the clue-th paragraph\n   */\n  paragraphs() {\n    return this._paragraphs || []\n  }\n\n  /**\n   * returns all links in the section\n   * if an clue is provided and it is a number then it returns the link at clue-th index\n   * if an clue is provided and it is a string then it returns the link at the that content\n   *\n   * @param {number| string} [clue] the clue for selecting the link\n   * @returns {object | object[]} all links in an array or the clue-th link or the link with the content of clue\n   */\n  links(clue) {\n    let arr = []\n\n    this.infoboxes().forEach((templ) => {\n      arr.push(templ.links())\n    })\n\n    this.sentences().forEach((s) => {\n      arr.push(s.links())\n    })\n\n    this.tables().forEach((t) => {\n      arr.push(t.links())\n    })\n\n    this.lists().forEach((list) => {\n      arr.push(list.links())\n    })\n\n    arr = arr\n      .reduce((acc, val) => acc.concat(val), []) //flatten the array\n      .filter((val) => val !== undefined) //filter out all the undefined from the flattened empty arrays\n\n    if (typeof clue === 'string') {\n      let link = arr.find((o) => o.page().toLowerCase() === clue.toLowerCase())\n      return link === undefined ? [] : [link]\n    }\n\n    return arr\n  }\n\n  /**\n   * returns all tables in the section\n   * if an clue is provided then it returns the table at clue-th index\n   *\n   * @returns {object | object[]} all tables in an array or the clue-th infobox\n   */\n  tables() {\n    return this._tables || []\n  }\n\n  /**\n   * returns all templates in the section\n   * if an clue is provided and clue is a number then it returns the template at clue-th index\n   * if an clue is provided and clue is a string then it returns all template with that name\n   *\n   * @param {number|string} [clue] the clue for selecting the template\n   * @returns {object | object[]} all templates in an array or the clue-th template or all template name `clue`\n   */\n  templates(clue) {\n    let arr = this._templates || []\n    // arr = arr.map((t) => t.json())\n    if (typeof clue === 'string') {\n      clue = clue.toLowerCase()\n      return arr.filter((o) => o.data.template === clue || o.data.name === clue)\n    }\n\n    return arr\n  }\n\n  /**\n   * returns all infoboxes in the section\n   * if an clue is provided then it returns the infobox at clue-th index\n   *\n   * @param {number|string} [clue] the clue for selecting the infobox\n   * @returns {object | object[]} all infoboxes in an array or the clue-th infobox\n   */\n  infoboxes(clue) {\n    let arr = this._infoboxes || []\n    if (typeof clue === 'string') {\n      clue = clue.replace(/^infobox /i, '')\n      clue = clue.trim().toLowerCase()\n      return arr.filter((info) => info._type === clue)\n    }\n    return arr\n  }\n\n  /**\n   * returns all lists in the section\n   * if an clue is provided then it returns the list at clue-th index\n   *\n   * @returns {object | object[]} all lists in an array or the clue-th list\n   */\n  coordinates() {\n    let arr = [...this.templates('coord'), ...this.templates('coor')]\n    return arr.map((tmpl) => tmpl.json())\n  }\n\n  /**\n   * returns all lists in the section\n   * if an clue is provided then it returns the list at clue-th index\n   *\n   * @returns {object | object[]} all lists in an array or the clue-th list\n   */\n  lists() {\n    let arr = []\n    this.paragraphs().forEach((p) => {\n      arr = arr.concat(p.lists())\n    })\n    return arr\n  }\n\n  /**\n   * returns all interwiki links in the section\n   * if an clue is provided then it returns the interwiki link at clue-th index\n   *\n   * @returns {object | object[]} all interwiki links in an array or the clue-th interwiki link\n   */\n  interwiki() {\n    let arr = []\n    this.paragraphs().forEach((p) => {\n      arr = arr.concat(p.interwiki())\n    })\n    return arr\n  }\n\n  /**\n   * returns all images in the section\n   * if an clue is provided then it returns the image at clue-th index\n   *\n   * @returns {object | object[]} all images in an array or the clue-th image\n   */\n  images() {\n    let arr = []\n    this.paragraphs().forEach((p) => {\n      arr = arr.concat(p.images())\n    })\n    return arr\n  }\n\n  /**\n   * returns all references in the section\n   * if an clue is provided then it returns the reference at clue-th index\n   *\n   * @returns {object | object[]} all references in an array or the clue-th reference\n   */\n  references() {\n    return this._references || []\n  }\n\n  //transformations\n  /**\n   * Removes the section from the document\n   *\n   * @returns {null|object} the document without this section. or null if there is no document\n   */\n  remove() {\n    if (!this._doc) {\n      return null\n    }\n\n    let bads = {}\n    bads[this.title()] = true\n\n    //remove children too\n    this.children().forEach((sec) => (bads[sec.title()] = true))\n    let sections = this._doc.sections()\n    sections = sections.filter((sec) => bads.hasOwnProperty(sec.title()) !== true)\n    sections = sections.filter((sec) => bads.hasOwnProperty(sec.title()) !== true)\n\n    this._doc._sections = sections\n    return this._doc\n  }\n\n  //move-around sections like in jquery\n  /**\n   * returns the next sibling of this section\n   * if it can find one then it returns null\n   *\n   * @returns {Section|null} the next sibling\n   */\n  nextSibling() {\n    //if this section is not part of a document then we can go to the next part of the document\n    if (!this._doc) {\n      return null\n    }\n\n    //first we get the a list of sections and our own position in this list\n    let sections = this._doc.sections()\n    let index = this.index() || 0\n\n    //then we look trough the list looking for the next sibling\n    //aka we look the next item at the same depth as us\n    //so we start the loop at the next section in the list and go till the length of the list\n    for (let i = index + 1; i < sections.length; i++) {\n      //if the depth is smaller then the current depth then there is no next sibling\n      //aka the depth of the section at position i a level higher then this section then this section is the last section at this depth\n      if (sections[i].depth() < this.depth()) {\n        return null\n      }\n      //if the section has the same depth as the current section then it is the next sibling\n      if (sections[i].depth() === this.depth()) {\n        return sections[i]\n      }\n    }\n    //if the loop has no results then there is no next sibling and we are at the end of the file\n    return null\n  }\n\n  /**\n   * returns the next sibling of this section\n   * if it can find one then it returns null\n   *\n   * @returns {Section|null} the next sibling\n   */\n  next() {\n    return this.nextSibling()\n  }\n\n  /**\n   * returns the previous section\n   *\n   * @returns {Section|null} the previous section\n   */\n  lastSibling() {\n    if (!this._doc) {\n      return null\n    }\n    let sections = this._doc.sections()\n    let index = this.index() || 0\n    return sections[index - 1] || null\n  }\n\n  /**\n   * returns the previous section\n   *\n   * @returns {Section|null} the previous section\n   */\n  last() {\n    return this.lastSibling()\n  }\n\n  /**\n   * returns the previous section\n   *\n   * @returns {Section|null} the previous section\n   */\n  previousSibling() {\n    return this.lastSibling()\n  }\n\n  /**\n   * returns the previous section\n   *\n   * @returns {Section|null} the previous section\n   */\n  previous() {\n    return this.lastSibling()\n  }\n\n  /**\n   * returns all the children of a section\n   *\n   * If the clue is a string then it will return the child with that exact title\n   * Else if the clue is a number then it returns the child at that index\n   * Else it returns all the children\n   *\n   * @param {number | string} [clue] A title of a section or a index of a wanted section\n   * @returns {Section | Section[] | null} A section or a array of sections\n   */\n  children(clue) {\n    if (!this._doc) {\n      return null\n    }\n\n    let sections = this._doc.sections()\n    let index = this.index() || 0\n    let children = []\n\n    //(immediately preceding sections with higher depth)\n    if (sections[index + 1] && sections[index + 1].depth() > this.depth()) {\n      for (let i = index + 1; i < sections.length; i += 1) {\n        if (sections[i].depth() > this.depth()) {\n          children.push(sections[i])\n        } else {\n          break\n        }\n      }\n    }\n    if (typeof clue === 'string') {\n      return children.find((s) => s.title().toLowerCase() === clue.toLowerCase())\n    }\n    return children\n  }\n\n  /**\n   * returns all the children of a section\n   *\n   * If the clue is a string then it will return the child with that exact title\n   * Else if the clue is a number then it returns the child at that index\n   * Else it returns all the children\n   *\n   * @param {number | string} [clue] A title of a section or a index of a wanted section\n   * @returns {Section | Section[] | null} A section or a array of sections\n   */\n  sections(clue) {\n    return this.children(clue)\n  }\n\n  /**\n   * returns all the parent of a section\n   *\n   * @returns {Section | null} A section that is the parent of a section\n   */\n  parent() {\n    if (!this._doc) {\n      return null\n    }\n    let sections = this._doc.sections()\n    let index = this.index() || 0\n\n    for (let i = index; i >= 0; i -= 1) {\n      if (sections[i] && sections[i].depth() < this.depth()) {\n        return sections[i]\n      }\n    }\n\n    return null\n  }\n\n  //outputs\n\n  /**\n   * returns a plaintext version of the section\n   *\n   * @param {object} options options for the text transformation\n   * @returns {string} the section in text\n   */\n  text(options) {\n    options = setDefaults(options, defaults)\n    return this.paragraphs()\n      .map((p) => p.text(options))\n      .join('\\n\\n')\n  }\n  /**\n   * returns original wiki markup\n   *\n   * @returns {string} the original markup\n   */\n  wikitext() {\n    return this._wiki\n  }\n\n  /**\n   * returns a json version of the section\n   *\n   * @param {object} options keys to include in the resulting json\n   * @returns {object} the section in json\n   */\n  json(options) {\n    options = setDefaults(options, defaults)\n    return toJSON(this, options)\n  }\n}\nSection.prototype.citations = Section.prototype.references\n\n// aliases\nconst singular = {\n  sentences: 'sentence',\n  paragraphs: 'paragraph',\n  links: 'link',\n  tables: 'table',\n  templates: 'template',\n  infoboxes: 'infobox',\n  coordinates: 'coordinate',\n  lists: 'list',\n  images: 'image',\n  references: 'reference',\n  citations: 'citation',\n}\nObject.keys(singular).forEach((k) => {\n  let sing = singular[k]\n  Section.prototype[sing] = function (clue) {\n    let arr = this[k](clue)\n    if (typeof clue === 'number') {\n      return arr[clue]\n    }\n    return arr[0] || null\n  }\n})\nexport default Section\n", "import { trim_whitespace } from '../_lib/helpers.js'\nimport { fromText as parseSentence } from '../04-sentence/index.js'\nimport parseReferences from '../reference/index.js'\nimport getTemplates from '../template/find/01-nested.js'\nimport parseTemplates from '../template/parse/index.js'\nconst heading_reg = /^(={1,6})(.{1,200}?)={1,6}$/ //eslint-disable-line\nconst hasTemplate = /\\{\\{.+?\\}\\}/\n\nconst doInlineTemplates = function (wiki, doc) {\n  let list = getTemplates(wiki)\n  list.forEach((item) => {\n    let [txt] = parseTemplates(item, doc)\n    wiki = wiki.replace(item.body, txt)\n  })\n  return wiki\n}\n\n/**\n * @typedef fakeSection\n * @property {string} title\n * @property {null | number} depth\n * @property {string} wiki\n */\n\n/**\n * estimates the depth of a section and parses the title to a normal format\n *\n * @private\n * @param {fakeSection} section\n * @param {string} str\n * @param {Document} doc\n * @returns {fakeSection} section the depth in a object\n */\nconst parseHeading = function (section, str, doc) {\n  let m = str.match(heading_reg)\n  if (!m) {\n    section.title = ''\n    section.depth = 0\n    return section\n  }\n  let title = m[2] || ''\n  title = parseSentence(title).text()\n\n  //amazingly, you can see inline {{templates}} in this text, too\n  if (hasTemplate.test(title)) {\n    title = doInlineTemplates(title, doc)\n  }\n  //same for references (i know..)\n  let obj = { _wiki: title }\n  parseReferences(obj)\n  title = obj._wiki\n\n  //trim leading/trailing whitespace\n  title = trim_whitespace(title)\n  let depth = 0\n  if (m[1]) {\n    depth = m[1].length - 2\n  }\n  section.title = title\n  section.depth = depth\n  return section\n}\n\nexport default parseHeading\n", "import Section from './Section.js'\nimport { references } from '../_data/i18n.js'\n//interpret ==heading== lines\nimport parseHeading from './heading.js'\n\nconst isReference = new RegExp('^(' + references.join('|') + '):?', 'i')\nconst section_reg = /(?:\\n|^)(={2,6}.{1,200}?={2,6})/g\n\n\n/**\n * filters out the reference section and empty sections and\n *\n * @param {Section[]} sections\n * @returns {Section[]} all the section\n */\nconst removeReferenceSection = function (sections) {\n  return sections.filter((s, i) => {\n    if (isReference.test(s.title()) === true) {\n      if (s.paragraphs().length > 0) {\n        return true\n      }\n\n      //does it have some wacky templates?\n      if (s.templates().length > 0) {\n        return true\n      }\n\n      //what it has children? awkward\n      if (sections[i + 1] && sections[i + 1].depth() > s.depth()) {\n        sections[i + 1]._depth -= 1 //move it up a level?...\n      }\n      return false\n    }\n    return true\n  })\n}\n\n/**\n * this function splits the wiki texts on '=' and puts every part in a Section Object\n * it also pre processes the section text for the Section object\n * then it filters out the reference section\n *\n * @private\n * @param {object} doc the document that contains the wiki text\n * @returns {Section[]} the sections that are parsed out\n */\nconst parseSections = function (doc) {\n  let sections = []\n  let splits = doc._wiki.split(section_reg)\n\n  for (let i = 0; i < splits.length; i += 2) {\n    let heading = splits[i - 1] || ''\n    let wiki = splits[i] || ''\n\n    if (wiki === '' && heading === '') {\n      //usually an empty 'intro' section\n      continue\n    }\n\n    let data = {\n      title: '',\n      depth: null,\n      wiki: wiki,\n    }\n\n    //figure-out title and depth\n    parseHeading(data, heading, doc)\n\n    sections.push(new Section(data, doc))\n  }\n\n  //remove empty references section\n  return removeReferenceSection(sections)\n}\n\nexport default parseSections\n", "import { categories as _categories } from '../_data/i18n.js'\n\nconst cat_reg = new RegExp('\\\\[\\\\[(' + _categories.join('|') + '):(.{2,178}?)]](w{0,10})', 'gi')\nconst cat_remove_reg = new RegExp('^\\\\[\\\\[:?(' + _categories.join('|') + '):', 'gi')\n\nconst parse_categories = function (wiki) {\n  const categories = []\n  let tmp = wiki.match(cat_reg) //regular links\n  if (tmp) {\n    tmp.forEach(function (c) {\n      c = c.replace(cat_remove_reg, '')\n      c = c.replace(/\\|?[ *]?\\]\\]$/, '') //parse fancy ones..\n      c = c.replace(/\\|.*/, '') //everything after the '|' is metadata\n      if (c && !c.match(/[[\\]]/)) {\n        categories.push(c.trim())\n      }\n    })\n  }\n  const newWiki = wiki.replace(cat_reg, '')\n  return [categories, newWiki]\n}\nexport default parse_categories\n", "/* eslint-disable no-console */\nimport sectionMap from './_sectionMap.js'\nimport toJSON from './toJson.js'\nimport isDisambig from './isDisambig.js'\nimport isStub from './isStub.js'\nimport setDefaults from '../_lib/setDefaults.js'\nimport Image from '../image/Image.js'\nimport { isRedirect, parse } from './redirects.js'\nimport preProcess from './preProcess/index.js'\nimport parseSection from '../02-section/index.js'\nimport parseCategories from './categories.js'\n\nconst defaults = {\n  tables: true,\n  lists: true,\n  paragraphs: true,\n}\n\n/**\n * The document class is the main entry point of wtf_wikipedia.\n * this class represents an article of wikipedia.\n * from here you can go to the infoboxes or paragraphs\n *\n * @class\n */\nclass Document {\n  /**\n   * The constructor for the document class\n   * This function starts parsing the wiki text and sets the options in the class\n   *\n   * @param {string} [wiki] The wiki text\n   * @param {object} [options] The options for the parser\n   */\n  constructor(wiki, options) {\n    options = options || {}\n    this._options = options\n    let userAgent = options.userAgent || options['User-Agent'] || options['Api-User-Agent']\n    userAgent = userAgent || 'User of the wtf_wikipedia library'\n    let props = {\n      title: options.title || null,\n      type: 'page',\n      userAgent,\n      redirectTo: null,\n      wiki: wiki || '',\n      categories: [],\n      sections: [],\n      coordinates: [],\n      templateFallbackFn: options.templateFallbackFn || null,\n      revisionID: options.revisionID || null,\n      timestamp: options.timestamp || null,\n      description: options.description || null,\n      wikidata: options.wikidata || null,\n      pageImage: options.pageImage || null,\n      pageID: options.pageID || options.id || null,\n      namespace: options.namespace || options.ns || null,\n      lang: options.lang || options.language || null,\n      domain: options.domain || null,\n    }\n\n    Object.keys(props).forEach((k) => {\n      Object.defineProperty(this, '_' + k, {\n        enumerable: false,\n        writable: true,\n        value: props[k],\n      })\n    })\n\n    //detect if page is just redirect, and return it\n    if (isRedirect(this._wiki) === true) {\n      this._type = 'redirect'\n      this._redirectTo = parse(this._wiki)\n      const [categories, newWiki] = parseCategories(this._wiki)\n      this._categories = categories\n      this._wiki = newWiki\n      return\n    }\n\n    //give ourselves a little head-start\n    this._wiki = preProcess(this._wiki)\n\n    //pull-out [[category:whatevers]]\n    const [categories, newWiki] = parseCategories(this._wiki)\n    this._categories = categories\n    this._wiki = newWiki\n\n    //parse all the headings, and their texts/sentences\n    this._sections = parseSection(this)\n  }\n\n  /**\n   * Getter and setter for the tile.\n   * If string is given then this function is a setter and sets the variable and returns the set value\n   * If the string is not given then it will check if the title is available\n   * If it is available it returns the title.\n   * Else it will look if the first sentence contains a bolded phrase and assumes that's the title and returns it\n   *\n   * @param {string} [str] The title that will be set\n   * @returns {null|string} The title found or given\n   */\n  title(str) {\n    //use like a setter\n    if (str !== undefined) {\n      this._title = str\n      return str\n    }\n    //if we have it already\n    if (this._title) {\n      return this._title\n    }\n    //guess the title of this page from first sentence bolding\n    let guess = null\n    let sen = this.sentences()[0]\n    if (sen) {\n      guess = sen.bold()\n    }\n    return guess\n  }\n\n  /**\n   * If an pageID is given then it sets the pageID and returns the given pageID\n   * Else if the pageID is already set it returns the pageID\n   *\n   * @param {number} [id] The pageID that will be set\n   * @returns {number|null} The given or found pageID\n   */\n  pageID(id) {\n    if (id !== undefined) {\n      this._pageID = id\n    }\n    return this._pageID || null\n  }\n\n  /**\n   * If an WikidataID is given then it sets the WikidataID and returns the given WikidataID\n   * Else if the WikidataID is already set it returns the WikidataID\n   *\n   * @param {string} [id] The WikidataID that will be set\n   * @returns {string|null} The given or found WikidataID\n   */\n  wikidata(id) {\n    if (id !== undefined) {\n      this._wikidata = id\n    }\n    return this._wikidata || null\n  }\n\n  /**\n   * If an domain is given then it sets the domain and returns the given domain\n   * Else if the domain is already set it returns the domain\n   *\n   * @param {string} [str] The domain that will be set\n   * @returns {string|null} The given or found domain\n   */\n  domain(str) {\n    if (str !== undefined) {\n      this._domain = str\n    }\n    return this._domain || null\n  }\n\n  /**\n   * If an language is given then it sets the language and returns the given language\n   * Else if the language is already set it returns the language\n   *\n   * @param {string} [lang] The language that will be set\n   * @returns {string|null} The given or found language\n   */\n  language(lang) {\n    if (lang !== undefined) {\n      this._lang = lang\n    }\n    return this._lang || null\n  }\n\n  /**\n   * Gets the url of the page\n   * If the language or domain is not available we substitute 'en' and 'wikipedia.org'\n   * Then we use the template of `https://${lang}.${domain}/wiki/${title}` to make the url\n   *\n   * @returns {string|null} The url of the page\n   */\n  url() {\n    let title = this.title()\n    if (!title) {\n      return null\n    }\n    let lang = this.language() || 'en'\n    let domain = this.domain() || 'wikipedia.org'\n    //replace blank to underscore\n    title = title.replace(/ /g, '_')\n    title = encodeURIComponent(title)\n    return `https://${lang}.${domain}/wiki/${title}`\n  }\n\n  /**\n   * If an namespace is given then it sets the namespace and returns the given namespace\n   * Else if the namespace is already set it returns the namespace\n   *\n   * @param {string} [ns] The namespace that will be set\n   * @returns {string|null} The given or found namespace\n   */\n  namespace(ns) {\n    if (ns !== undefined) {\n      this._namespace = ns\n    }\n    return this._namespace || null\n  }\n\n  /**\n   * Returns if the page is a redirect\n   *\n   * @returns {boolean} Is the page a redirect\n   */\n  isRedirect() {\n    return this._type === 'redirect'\n  }\n  /**\n   * Returns true if the page includes a stub template\n   *\n   * @returns {boolean} Is the page a stub\n   */\n  isStub() {\n    return isStub(this)\n  }\n\n  /**\n   * Returns information about the page this page redirects to\n   *\n   * @returns {null|object} The redirected page\n   */\n  redirectTo() {\n    return this._redirectTo\n  }\n\n  /**\n   * This function finds out if a page is a disambiguation page\n   *\n   * @returns {boolean} Whether the page is a disambiguation page\n   */\n  isDisambiguation() {\n    return isDisambig(this)\n  }\n\n  /**\n   * If a clue is available return the category at that index\n   * Else return all categories\n   *\n   * @returns {string | string[]} The category at the provided index or all categories\n   */\n  categories(clue) {\n    let arr = this._categories || []\n    if (typeof clue === 'number') {\n      return [arr[clue]]\n    }\n    return arr\n  }\n\n  /**\n   * returns the sections of the document\n   *\n   * If the clue is a string then it will return the section with that exact title\n   * Else if the clue is a number then it returns the section at that index\n   * Else it returns all the sections\n   *\n   * @param {number | string} [clue] A title of a section or a index of a wanted section\n   * @returns {object | object[]} A section or a array of sections\n   */\n  sections(clue) {\n    let arr = this._sections || []\n    arr.forEach((sec) => {\n      // link-up parent and child\n      sec._doc = this\n    })\n\n    //grab a specific section, by its title\n    if (typeof clue === 'string') {\n      let str = clue.toLowerCase().trim()\n      return arr.filter((s) => {\n        return s.title().toLowerCase() === str\n      })\n    } else if (typeof clue === 'number') {\n      return [arr[clue]]\n    }\n    return arr\n  }\n\n  /**\n   * Returns the paragraphs in the document\n   *\n   * If the clue is a number then it returns the paragraph at that index\n   * Else it returns all paragraphs in an array\n   * @param {number | string} [clue] given index of a paragraph\n   * @returns {object | object[]} the selected paragraph or an array of all paragraphs\n   */\n  paragraphs(clue) {\n    let arr = []\n    this.sections().forEach((s) => {\n      arr = arr.concat(s.paragraphs())\n    })\n    if (typeof clue === 'number') {\n      return [arr[clue]]\n    }\n    return arr\n  }\n\n  /**\n   * if no clue is provided, it compiles an array of sentences in the wiki text.\n   * if the clue is provided it return the sentence at the provided index\n   * @param {number | string} [clue] given index of a sentence\n   * @returns {object[]|object} an array of sentences or a single sentence\n   */\n  sentences(clue) {\n    let arr = []\n    this.sections().forEach((sec) => {\n      arr = arr.concat(sec.sentences())\n    })\n    if (typeof clue === 'number') {\n      return [arr[clue]]\n    }\n    return arr\n  }\n\n  /**\n   * This function search the whole page, including the infobox and image gallery templates for images\n   * and then returns them in an array if no clue is provided.\n   * if an clue is profieded then it returns the image at the clue-th index\n   *\n   * @returns {Image[]|Image} a single image or an array of images\n   */\n  images(clue) {\n    let arr = sectionMap(this, 'images', null)\n    //grab image from infobox, first\n    this.infoboxes().forEach((info) => {\n      let img = info.image()\n      if (img) {\n        arr.unshift(img) //put it at the top\n      }\n    })\n    //look for 'gallery' templates, too\n    this.templates().forEach((obj) => {\n      if (obj.data.template === 'gallery') {\n        obj.data.images = obj.data.images || []\n        obj.data.images.forEach((img) => {\n          if (!(img instanceof Image)) {\n            img.language = this.language()\n            img.domain = this.domain()\n            img = new Image(img)\n          }\n          arr.push(img)\n        })\n      }\n    })\n    if (typeof clue === 'number') {\n      return [arr[clue]]\n    }\n    return arr\n  }\n\n  /**\n   * Return all links or if a clue is provided only the link at that index\n   *\n   * @param {number} [clue] the index of the wanted link\n   * @returns {string[]|string} all the links or the selected link\n   */\n  links(clue) {\n    return sectionMap(this, 'links', clue)\n  }\n\n  /**\n   * Return all inter wiki links or if a clue is provided only the inter wiki link at that index\n   *\n   * @param {number} [clue] the index of the wanted inter wiki link\n   * @returns {string[]|string} all the inter wiki links or the selected inter wiki link\n   */\n  interwiki(clue) {\n    return sectionMap(this, 'interwiki', clue)\n  }\n\n  /**\n   * If a clue is available return the list at that index\n   * Else return all lists\n   *\n   * @param {number} [clue] The index of the wanted list\n   * @returns {object | object[]} The list at the provided index or all lists\n   */\n  lists(clue) {\n    return sectionMap(this, 'lists', clue)\n  }\n\n  /**\n   * If a clue is available return the tables at that index\n   * Else return all tables\n   *\n   * @param {number} [clue] The index of the wanted table\n   * @returns {object | object[]} The table at the provided index or all tables\n   */\n  tables(clue) {\n    return sectionMap(this, 'tables', clue)\n  }\n\n  /**\n   * If a clue is available return the template at that index\n   * Else return all templates\n   *\n   * @param {number} [clue] The index of the wanted template\n   * @returns {object | object[]} The category at the provided index or all categories\n   */\n  templates(clue) {\n    return sectionMap(this, 'templates', clue)\n  }\n\n  /**\n   * If a clue is available return the references at that index\n   * Else return all references\n   *\n   * @param {number} [clue] The index of the wanted references\n   * @returns {object | object[]} The category at the provided index or all references\n   */\n  references(clue) {\n    return sectionMap(this, 'references', clue)\n  }\n\n  /**\n   * Returns the 0th or clue-th reference\n   *\n   * @param {number} [clue] The index of the wanted reference\n   * @returns {object|string|number} The reference at the provided index\n   */\n  citations(clue) {\n    return this.references(clue)\n  }\n\n  /**\n   * finds and returns all coordinates\n   * or if an clue is given, the coordinate at the index\n   *\n   * @param {number} [clue] the index of the coordinate returned\n   * @returns {object[]|object|null} if a clue is given, the coordinate of null, else an array of coordinates\n   */\n  coordinates(clue) {\n    return sectionMap(this, 'coordinates', clue)\n  }\n\n  /**\n   * If clue is unidentified then it returns all infoboxes\n   * If clue is a number then it returns the infobox at that index\n   * It always sorts the infoboxes by size\n   *\n   * @param {number} [clue] the index of the infobox you want to select\n   * @returns {object | object[]} the selected infobox or an array of infoboxes\n   */\n  infoboxes(clue) {\n    let arr = sectionMap(this, 'infoboxes', clue)\n    //sort them by biggest-first\n    arr = arr.sort((a, b) => {\n      if (Object.keys(a.data).length > Object.keys(b.data).length) {\n        return -1\n      }\n      return 1\n    })\n\n    return arr\n  }\n\n  /**\n   * return a plain text version of the wiki article\n   *\n   * @param {object} [options] the options for the parser\n   * @returns {string} the plain text version of the article\n   */\n  text(options) {\n    options = setDefaults(options, defaults)\n    //nah, skip these.\n    if (this.isRedirect() === true) {\n      return ''\n    }\n    let arr = this.sections().map((sec) => sec.text(options))\n    return arr.join('\\n\\n')\n  }\n\n  /**\n   * return a json version of the Document class\n   *\n   * @param {object} [options] options for the rendering\n   * @returns {object} this document as json\n   */\n  json(options) {\n    options = setDefaults(options, defaults)\n    return toJSON(this, options)\n  }\n\n  /**\n   * return original wiki markup\n   *\n   * @returns {string} markup text\n   */\n  wikitext() {\n    return this._wiki || ''\n  }\n\n  /**\n   * prints the title of every section\n   *\n   * @returns {Document} the document itself\n   */\n  debug() {\n    console.log('\\n')\n    this.sections().forEach((sec) => {\n      let indent = ' - '\n      for (let i = 0; i < sec.depth(); i += 1) {\n        indent = ' -' + indent\n      }\n      console.log(indent + (sec.title() || '(Intro)'))\n    })\n    return this\n  }\n\n  /**\n   * If a revisionID is given then it sets the revisionID and returns the given revisionID\n   * Else if the revisionID is already set it returns the revisionID\n   *\n   * @param {number} [id] The revisionID that will be set\n   * @returns {number|null} The given or found revisionID\n   */\n  revisionID(id) {\n    if (id !== undefined) {\n      this._revisionID = id\n    }\n    return this._revisionID || null\n  }\n  timestamp(str) {\n    if (str !== undefined) {\n      this._timestamp = str\n    }\n    return this._timestamp || null\n  }\n  description(str) {\n    if (str !== undefined) {\n      this._description = str\n    }\n    return this._description || null\n  }\n  pageImage(str) {\n    if (str !== undefined) {\n      this._pageImage = str\n    }\n    let file = this._pageImage || null\n    return new Image({ file })\n  }\n\n  options() {\n    return this._options\n  }\n}\n\n// aliases\nconst singular = {\n  categories: 'category',\n  sections: 'section',\n  paragraphs: 'paragraph',\n  sentences: 'sentence',\n  images: 'image',\n  links: 'link',\n  // interwiki\n  lists: 'list',\n  tables: 'table',\n  templates: 'template',\n  references: 'reference',\n  citations: 'citation',\n  coordinates: 'coordinate',\n  infoboxes: 'infobox',\n}\nObject.keys(singular).forEach((k) => {\n  let sing = singular[k]\n  Document.prototype[sing] = function (clue) {\n    let arr = this[k](clue)\n    return arr[0] || null\n  }\n})\nDocument.prototype.lang = Document.prototype.language\nDocument.prototype.ns = Document.prototype.namespace\nDocument.prototype.plaintext = Document.prototype.text\nDocument.prototype.isDisambig = Document.prototype.isDisambiguation\nDocument.prototype.citations = Document.prototype.references\nDocument.prototype.redirectsTo = Document.prototype.redirectTo\nDocument.prototype.redirect = Document.prototype.redirectTo\nDocument.prototype.redirects = Document.prototype.redirectTo\n\nexport default Document\n", "import Document from '../01-document/Document.js'\nimport { isArray } from '../_lib/helpers.js'\n/**\n * this function puts all responses into proper Document objects\n *\n * @private\n * @param {Array} res\n * @param {string | number | Array<number> | Array<string>} title\n * @returns {null| Document | Document[]} null if there are no results or Document if there is one responses and Document array if there are multiple responses\n */\nconst parseDoc = function (res, title) {\n  res = res || []\n  // filter out undefined\n  res = res.filter((o) => o)\n\n  // put all the responses into Document formats\n  let docs = res.map((o) => {\n    return new Document(o.wiki, o.meta)\n  })\n\n  // if the list is empty than there are no results\n  if (docs.length === 0) {\n    return null\n  }\n\n  // if there is only one response then we can get it out of the array\n  if (!isArray(title) && docs.length === 1) {\n    return docs[0]\n  }\n\n  return docs\n}\nexport default parseDoc\n", "/**\n * factory for header options\n *\n * @private\n * @param {object} options\n * @returns {object} the generated options\n */\nconst makeHeaders = function (options) {\n  let agent =\n    options.userAgent || options['User-Agent'] || options['Api-User-Agent'] || 'User of the wtf_wikipedia library'\n\n  let origin\n  if (options.noOrigin) {\n    origin = ''\n  } else {\n    origin = options.origin || options.Origin || '*'\n  }\n\n  return {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Api-User-Agent': agent,\n      'User-Agent': agent,\n      Origin: origin,\n      'Accept-Encoding': 'gzip',\n    },\n    redirect: 'follow',\n  }\n}\nexport default makeHeaders\n", "export default '10.4.0'", "/* eslint-disable no-console */\nimport unfetch from 'isomorphic-unfetch'\n\n/**\n * use the native client-side fetch function\n *\n * @private\n * @param {string} url the url that well be fetched\n * @param {Object} opts the options for fetch\n * @returns {Promise<any>} the response from fetch\n */\nconst request = function (url, opts) {\n  return unfetch(url, opts).then(function (res) {\n    return res.json()\n  }).catch((e) => {\n    console.error('\\n\\n=-=- http response error =-=-=-')\n    console.error(url)\n    console.error(e)\n    return {}\n  })\n}\nexport default request", "import fetch from './_fetch/index.js'\nimport version from './_version.js'\nimport Document from './01-document/Document.js'\n\n//the main 'factory' exported method\nconst wtf = function (wiki, options) {\n  return new Document(wiki, options)\n}\n\n//export classes for plugin development\nimport Doc from './01-document/Document.js'\nimport Section from './02-section/Section.js'\nimport Paragraph from './03-paragraph/Paragraph.js'\nimport Sentence from './04-sentence/Sentence.js'\nimport Image from './image/Image.js'\nimport Infobox from './infobox/Infobox.js'\nimport Link from './link/Link.js'\nimport List from './list/List.js'\nimport Reference from './reference/Reference.js'\nimport Table from './table/Table.js'\nimport Template from './template/Template.js'\nimport http from './_lib/fetch.js'\nimport templates from './template/custom/index.js'\nimport infoboxes from './infobox/_infoboxes.js'\n\nconst models = {\n  Doc,\n  Section,\n  Paragraph,\n  Sentence,\n  Image,\n  Infobox,\n  Link,\n  List,\n  Reference,\n  Table,\n  Template,\n  http,\n  wtf: wtf,\n}\n\nwtf.fetch = function (title, options, cb) {\n  return fetch(title, options, cb)\n}\nwtf.extend = function (fn) {\n  fn(models, templates, infoboxes)\n  return this\n}\nwtf.plugin = wtf.extend\nwtf.version = version\n\nexport default wtf\n"],
  "mappings": "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AA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA;AAEF;;;ACvEA,IAAO,6BAAQ;AAAA,EACb;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA;AAAA;AAAA,EAGA;AAAA,EACA;AACF;;;AC7NA,IAAO,0BAAQ;AAAA,EACb;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AACF;;;ACnBA,IAAO,iBAAQ;AAAA,EACb;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AACF;;;AC3CA,IAAO,gBAAQ;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;;;ACzIA,IAAO,oBAAQ;AAAA,EACb;AAAA;AAAA,EAEA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AACF;;;ACvFA,IAAO,oBAAQ;AAAA,EACb;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA;AAAA,EACA;AAA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,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,WAAW;AAAA;AAAA,EACX,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,WAAW;AAAA;AAAA,EACX,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,UAAU;AAAA;AAAA,EACV,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,KAAK;AAAA;AAAA,EACL,KAAK;AAAA;AAAA,EACL,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,WAAW;AAAA;AAAA,EACX,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,QAAQ;AAAA;AAAA,EACR,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,IAAI;AAAA;AAAA,EACJ,KAAK;AAAA;AAAA,EACL,IAAI;AAAA;AAAA,EACJ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AA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AA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AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;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",
  "names": ["url", "options", "Promise", "resolve", "reject", "request", "XMLHttpRequest", "keys", "all", "headers", "response", "ok", "status", "statusText", "responseURL", "text", "responseText", "json", "then", "JSON", "parse", "blob", "Blob", "clone", "entries", "get", "n", "toLowerCase", "has", "i", "open", "method", "onload", "getAllResponseHeaders", "replace", "m", "key", "value", "push", "onerror", "withCredentials", "credentials", "setRequestHeader", "send", "body", "arr", "list", "defaults", "defaults", "templates", "templates", "defaults", "toJson_default", "arr", "toJson_default", "interwiki_default", "links", "interwiki_default", "links", "keys", "defaults", "toJSON", "templates", "list", "toJson_default", "defaults", "methods", "links", "defaults", "toJSON", "toJson_default", "methods", "arr", "toJson_default", "arr", "open", "parse_default", "parse_default", "arr", "parse_default", "toJson", "toJson_default", "defaults", "methods", "links", "keys", "toJson_default", "list", "parse_default", "defaults", "toJson", "toJson_default", "defaults", "methods", "arr", "list", "toJson_default", "singular", "arr", "arr", "order", "cleanup", "order", "arr", "open", "arr", "defaults", "list", "methods", "links", "list", "sub", "list", "list", "ignore", "infoboxes_default", "infoboxes_default", "templates", "templates", "year", "arr", "ignore", "w", "list", "abbreviations_default", "templates", "languages_default", "templates", "flags_default", "templates", "languages_default", "abbreviations_default", "flags_default", "templates", "templates", "templates", "list", "functions_default", "list", "parser", "links", "template", "order", "months", "templates", "functions_default", "templates", "list", "arr", "order", "template", "functions_default", "list", "templates", "days", "d", "arr", "month", "toText", "arr", "d", "list", "order", "toText", "year", "date", "months", "d", "list", "toText", "order", "year", "arr", "templates", "list", "list", "codes", "list", "round", "lib_default", "list", "lib_default", "arr", "functions_default", "lib_default", "templates", "parseTemplate", "arr", "parse_default", "toJson", "toJson_default", "normalize", "methods", "arr", "keys", "toJson_default", "methods", "arr", "methods", "list", "list", "parse_default", "templates", "arr", "arr", "templates", "parse_default", "headings", "parse_default", "headings", "parse_default", "defaults", "list", "arr", "toJson_default", "singular", "hasTemplate", "list", "parse_default", "categories_default", "defaults", "categories", "newWiki", "categories_default", "arr", "singular", "defaults", "unfetch", "import_isomorphic_unfetch", "unfetch", "fetch_default", "fetch_default", "infoboxes_default"]
}
